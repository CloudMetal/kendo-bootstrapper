<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="kendo/css/kendo.common.css" />
    <link rel="stylesheet" type="text/css" href="kendo/css/kendo.default.css" />
    <script src="kendo/js/jquery.min.js"></script>
    <script src="kendo/js/kendo.web.min.js"></script>

    <link rel="stylesheet/less" href="css/app.less" />

    <script src="js/rpc.js"></script>
    <script src="js/less-1.3.3.min.js"></script>
    <script src="js/yajet.min.js"></script>

    <script src="app.js"></script>
  </head>

  <body>

    <div id="top-layout">
      <div id="main-layout">
        <div id="projects-and-files" class="sections vertical">
          <div id="projects" class="section">
            <div class="title">Projects</div>
            <div class="k-toolbar">
              <button class="k-button" id="btn-project-new">New</button>
              <button class="k-button" id="btn-project-preview">Preview</button>
            </div>
            <div id="project-list"></div>
          </div>
          <div id="files" class="section">
            <div class="title">No project selected</div>
            <div id="project-file-tree"><div></div></div>
          </div>
        </div>
        <div id="content">

        </div>
      </div>
    </div>

    <!-- TEMPLATES -->

    <script type="x/yajet-template" class="simple-list-item">
      <div class="simple-list-item" value="${id}">${name}</div>
    </script>

    <script type="x/yajet-template" class="project-view">
      <!-- main project view -->
      <h1>$project_name|html</h1>

      $( var make_link = _make_link )

      $(BLOCK display_files(FILES)
        $(BLOCK showlist(type, title)
          $( var files = FILES[type] )
          $(WHEN (files)
            <h3>$title</h3>
            <div class="files-${type}"><ul>
              $(FOREACH (f => files)
                <li><a target="PROJECTPREVIEW" 
                       href="${ make_link(f) => html }">$f|html</a></li>
              $)
            </ul></div>
          $)
        $)
        <div class="files">
          ${ showlist("html", "HTML files") }
          ${ showlist("js", "JavaScript files") }
          ${ showlist("css", "CSS files") }
          ${ showlist("less", "LESS files") }
        </div>
      $)

      <h2>Project files</h2>
      ${ display_files(files) }

      <h2>Library files</h2>
      ${ display_files(min_files) }
    </script>

  </body>
</html>
