("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.mobile.pane.min","./kendo.router.min"],function(){!function(e,n){function i(e){var n=[];return c&&n.push("km-on-"+c.name),e.skin?n.push("km-"+e.skin):(n.push("km-"+e.name),n.push("km-"+e.name+e.majorVersion),n.push("km-"+e.majorVersion),n.push("km-m"+(e.minorVersion?e.minorVersion[0]:0))),e.appMode?n.push("km-app"):n.push("km-web"),n.join(" ")}function t(){return 0===parseInt(e("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light"}function o(e){return c.wp?"-kendo-landscape"==e.css("animation-name"):1==Math.abs(window.orientation)/90}function a(e){return o(e)?f:h}function r(){e("meta[name=viewport]").remove(),C.append(b({height:", width=device-width"+(o()?", height="+window.innerHeight+"px":l.mobileOS.flatVersion>=600&&l.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var s=window.kendo,d=s.mobile,l=s.support,p=d.ui.Pane,m="ios",c=l.mobileOS,u="blackberry"==c.device&&c.flatVersion>=600&&c.flatVersion<1e3&&c.appMode,h="km-vertical",f="km-horizontal",w={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,appMode:!1,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},b=s.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),v='<meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> <meta name="msapplication-tap-highlight" content="no" /> ',k=b({height:""}),g=s.template('<link rel="apple-touch-icon'+(c.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),V=("iphone"==c.device||"ipod"==c.device)&&"mobilesafari"==c.browser,y=60,_=e(window),C=e("head"),M=e.proxy,j=s.Observable.extend({init:function(n,i){var t=this;d.application=t,t.options=e.extend({hideAddressBar:!0,transition:"",updateDocumentTitle:!0},i),s.Observable.fn.init.call(t,t.options),e(function(){t.element=e(n?n:document.body),t._setupPlatform(),t._setupElementClass(),t._attachHideBarHandlers(),t.pane=new p(t.element,t.options),t._attachMeta(),t.options.updateDocumentTitle&&t._setupDocumentTitle(),t._startHistory()})},navigate:function(e,n){this.pane.navigate(e,n)},scroller:function(){return this.view().scroller},hideLoading:function(){this.pane.hideLoading()},showLoading:function(){this.pane.showLoading()},view:function(){return this.pane.view()},_setupPlatform:function(){var n,o=this,a=o.options.platform,r=o.options.skin,s=c||w[m];a&&(s="string"==typeof a?w[a]:a),r&&(s=e.extend({},s,{skin:r})),o.os=s,o.osCssClass=i(o.os),s.skin||"wp"!=s.name||(o.element.parent().css("overflow","hidden"),n=function(){o.element.removeClass("km-wp-dark km-wp-light").addClass("km-wp-"+t())},e(window).on("focusin",n),document.addEventListener("resume",n),n())},_startHistory:function(){var e=this,n=e.options.initial,i=new s.Router({init:function(e){var t=e.url;"/"===t&&n&&(i.navigate(n,!0),e.preventDefault())},routeMissing:function(n){e.pane.navigate(n.url)}});e.pane.bind("navigate",function(e){i.navigate(e.url,!0)}),i.start(),e.router=i},_setupElementClass:function(){var e=this,n=e.element;n.parent().addClass("km-root km-"+(e.os.tablet?"tablet":"phone")),n.addClass(e.osCssClass+" "+a(n)),l.wpDevicePixelRatio&&n.parent().css("font-size",l.wpDevicePixelRatio+"em"),u&&r(),s.onResize(function(){n.removeClass("km-horizontal km-vertical").addClass(a(n)),u&&r()})},_attachMeta:function(){var e,n=this.options.icon;if(u||C.prepend(k),C.prepend(v),n){"string"==typeof n&&(n={"":n});for(e in n)C.prepend(g({icon:n[e],size:e}))}},_attachHideBarHandlers:function(){var e=this,n=M(e._hideBar,e);!l.mobileOS.appMode&&e.options.hideAddressBar&&(e._initialHeight={},V&&(_.on("load",n),s.onResize(n),e.element[0].addEventListener("touchstart",n,!0)))},_setupDocumentTitle:function(){var e=this,i=document.title;e.pane.bind("viewShow",function(e){var t=e.view.title;document.title=t!==n?t:i})},_hideBar:function(){var e,n=this,i=n.element,t=window.orientation+"",o=n._initialHeight;o[t]||(o[t]=_.height()),e=o[t]+y,e!=i.height()&&i.height(e),setTimeout(window.scrollTo,0,0,1)}});s.mobile.Application=j}(window.kendo.jQuery)});