("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.mobile.pane.min"],function(){(function(e,n){function i(e){var n=[];return n.push("km-"+e.name),c&&n.push("km-on-"+c.name),n.push("km-"+e.name+e.majorVersion),n.push("km-"+e.majorVersion),n.push("km-m"+(e.minorVersion?e.minorVersion[0]:0)),e.appMode?n.push("km-app"):n.push("km-web"),n.join(" ")}function t(e){return c.wp?"-kendo-landscape"==e.css("animation-name"):1==Math.abs(window.orientation)/90}function o(e){return t(e)?f:h}function a(){e("meta[name=viewport]").remove(),C.append(v({height:t()?", height="+window.innerHeight+"px":l.mobileOS.flatVersion>=600&&700>l.mobileOS.flatVersion?", height="+window.innerWidth+"px":", height=device-height"}))}var r=window.kendo,s=r.mobile,d=r.history,l=r.support,p=s.ui.Pane,m="ios",c=l.mobileOS,u="blackberry"==c.device&&c.flatVersion>=600&&1e3>c.flatVersion&&c.appMode,h="km-vertical",f="km-horizontal",b={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"500",majorVersion:"5",minorVersion:"0.0",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,appMode:!1,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},v=r.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),w='<meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> ',g=v({height:""}),k=r.template('<link rel="apple-touch-icon'+(c.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),V=("iphone"==c.device||"ipod"==c.device)&&"mobilesafari"==c.browser,y=60,_=e(window),C=e("head"),M=e.proxy,j=r.Observable.extend({init:function(n,i){var t=this;s.application=t,t.options=e.extend({hideAddressBar:!0,transition:"",updateDocumentTitle:!0},i),r.Observable.fn.init.call(t,t.options),e(function(){t.element=e(n?n:document.body),t._setupPlatform(),t._setupElementClass(),t._attachHideBarHandlers(),t.pane=new p(t.element,t.options),t._attachMeta(),t.options.updateDocumentTitle&&t._setupDocumentTitle(),t._startHistory(),l.kineticScrollNeeded&&e(document.documentElement).on("touchmove",function(n){e(n.target).is("textarea")||r.preventDefault(n)})})},navigate:function(e,n){this.pane.navigate(e,n)},scroller:function(){return this.view().scroller},hideLoading:function(){this.pane.hideLoading()},showLoading:function(){this.pane.showLoading()},view:function(){return this.pane.view()},_setupPlatform:function(){var e=this,n=e.options.platform,t=c||b[m];n&&(t="string"==typeof n?b[n]:n),e.os=t,e.osCssClass=i(e.os),"wp"==t.name&&e._setupWP8Theme()},_setupWP8Theme:function(){var n,i,t=e(this.element);n=e("<div />").css({background:"Background",visibility:"hidden",position:"absolute",top:"-3333px"}).appendTo(document.body),i=parseInt(n.css("background-color").split(",")[1],10),0===i?t.addClass("km-wp-dark"):t.addClass("km-wp-light"),t.parent().css("overflow","hidden")},_startHistory:function(){var n,i=this,t=i.options.initial;n={change:function(e){i.pane.navigate(e.url)},ready:function(e){var n=e.url;!n&&t&&(n=t,d.navigate(t,!0)),i.pane.navigate(n)}},i.pane.bind("navigate",function(e){d.navigate(e.url,!0)}),d.start(e.extend(i.options,n))},_setupElementClass:function(){var e=this,n=e.element;n.parent().addClass("km-root km-"+(e.os.tablet?"tablet":"phone")),n.addClass(e.osCssClass+" "+o(n)),u&&a(),r.onResize(function(){n.removeClass("km-horizontal km-vertical").addClass(o(n)),u&&a()})},_attachMeta:function(){var e,n=this.options.icon;if(u||C.prepend(g),C.prepend(w),n){"string"==typeof n&&(n={"":n});for(e in n)C.prepend(k({icon:n[e],size:e}))}},_attachHideBarHandlers:function(){var e=this,n=M(e._hideBar,e);!l.mobileOS.appMode&&e.options.hideAddressBar&&(e._initialHeight={},V&&(_.on("load",n),r.onResize(n),e.element[0].addEventListener("touchstart",n,!0)))},_setupDocumentTitle:function(){var e=this,i=document.title;e.pane.bind("viewShow",function(e){var t=e.view.title;document.title=t!==n?t:i})},_hideBar:function(){var e,n=this,i=n.element,t=window.orientation+"",o=n._initialHeight;o[t]||(o[t]=_.height()),e=o[t]+y,e!=i.height()&&i.height(e),setTimeout(window.scrollTo,0,0,1)}});r.mobile.Application=j})(window.kendo.jQuery)});