("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.data.min","./kendo.userevents.min","./kendo.dataviz.core.min","./kendo.dataviz.svg.min"],function(){(function(e,t){function i(e,t,i){function n(e,t,n){var o,r=typeof t;return o=r===Jn?Dt[t](e):"function"===r?t(e,n,i):Dt.max(e)}function o(e,t,i){var o,r,a,s=C(i.type),l=s.length,c=e.length,d=[],h=[];for(o=0;l>o;o++){for(a=s[o],r=0;c>r;r++)h.push(e[r][a]);d.push(n(h,t[a],i)),h=[]}return d}var r,a=t.aggregate;return r="object"==typeof a?o(e,a,t):n(e,a,t)}function n(e){return r(e).min}function o(e){return r(e).max}function r(e){var i,n,o=bn,r=wn,a=e.length;for(i=0;a>i;i++)n=e[i],null!==n&&isFinite(n)&&(o=Ot.min(o,n),r=Ot.max(r,n));return{min:o===bn?t:o,max:r===wn?t:r}}function a(e,t,i,n){var o,r,a=(n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x),s=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y);return 0!==s&&(r=a/s,o=new oi(e.x+r*(t.x-e.x),e.y+r*(t.y-e.y))),o}function s(e,t){var i,n,o,r=e.series,a=r.length,s=e.seriesDefaults,c=Xt({},e.seriesDefaults),d=t?Xt({},t.seriesDefaults):{},h=Xt({},d);for(l(c),l(h),i=0;a>i;i++)n=r[i].type||e.seriesDefaults.type,o=Xt({},h,d[n],{tooltip:e.tooltip},c,s[n]),r[i]._defaults=o,r[i]=Xt({},o,r[i])}function l(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.bullet,delete e.verticalBullet}function c(e){var t,i,n,o,r=e.series,a=e.seriesColors||[];for(t=0;r.length>t;t++)i=r[t],n=a[t%a.length],i.color=i.color||n,o=i._defaults,o&&(o.color=o.color||n)}function d(e){var t;Et([zi,uo,mo,yo],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function h(t,i){var n=(i||{}).axisDefaults||{};Et([zi,uo,mo,yo],function(){var i=this+"Axis",o=[].concat(t[i]),r=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color,o=Xt({},n,n[i],r,r[i],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete o[i],o}),t[i]=o.length>1?o:o[0]})}function u(e,t,i){e[t]=(e[t]||0)+i}function p(e){var t,i=e.length,n=0;for(t=0;i>t;t++)n=Ot.max(n,e[t].data.length);return n}function f(e){return e*e}function g(e,t){if(null===t)return t;var i=Gt(e,!0);return i(t)}function x(e){var t,i,n;if(e instanceof Date)t=e;else if(typeof e===Jn)i=qi.exec(e),t=new Date(i?parseInt(i[1],10):e);else if(e)if(e.length)for(t=[],n=0;e.length>n;n++)t.push(x(e[n]));else t=new Date(e);return t}function v(e){return Rt(e)?Lt(e,v):e?x(e).getTime():t}function m(e,t,i,n){var o=e;return e&&(e=x(e),i===bo?o=new Date(e.getFullYear()+t,0,1):i===An?o=new Date(e.getFullYear(),e.getMonth()+t,1):i===xo?o=m(y(e,n),7*t,Ji):i===Ji?o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):i===cn?(o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t),t>0&&R(e,o)&&(o=m(e,t+1,i,n))):i===_n&&(o=new Date(e.getTime()+t*Kn),o.setSeconds(0))),o}function y(e,t){var i=e.getDay(),n=0;for(t=t||0;i!==t;)0===i?i=6:i--,n++;return A(e,-n*$n)}function b(e,t,i){return e=x(e),m(e,0,t,i)}function w(e,t,i){return e=x(e),e&&b(e,t,i).getTime()===e.getTime()?e:m(e,1,t,i)}function _(e,t){var i=e.getTime()-t,n=e.getTimezoneOffset()-t.getTimezoneOffset();return i-n*Kn}function A(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),o=n.getTimezoneOffset()-i;return new Date(n.getTime()+o*Kn)}function k(e,t,i){var n;return n=i===bo?t.getFullYear()-e.getFullYear():i===An?12*k(e,t,bo)+t.getMonth()-e.getMonth():i===Ji?Ot.floor(_(t,e)/$n):Ot.floor((t-e)/io[i])}function C(e){var t=[uo];return xi(e,[Oi,Bn])?t=["open","high","low","close"]:xi(e,[Li,fo])?t=["current","target"]:xi(e,Po)&&(t=[mo,yo],e===Ri&&t.push("size")),t}function I(e,t,i){var n,o,r,a,s=e.data[t],l={},c=C(e.type),d={value:s};return pi(s)?Rt(s)?(n=s.slice(c.length),a=P(s,c),l=P(n,i)):"object"==typeof s&&(o=T(e,c),r=T(e,i),a=S(s,c,o),l=S(s,i,r)):a=S({},c),pi(a)&&(1===c.length&&(a=a[c[0]]),d.value=a),d.fields=l,d}function P(e,t){var i,n,o={};if(t)for(n=Ot.min(t.length,e.length),i=0;n>i;i++)o[t[i]]=e[i];return o}function S(e,t,i){var n,o,r,a,s={};if(t)for(o=t.length,i=i||t,n=0;o>n;n++)r=t[n],a=i[n],s[r]=g(a,e);return s}function T(e,t){var i,n,o,r,a;if(t)for(n=t.length,r=[],i=0;n>i;i++)o=t[i],a=o===uo?"field":o+"Field",r.push(e[a]||o);return r}function V(e){return 1===e.length?e[0]:e}function D(e,t,i){return Ot.max(Ot.min(e,i),t)}function B(e){var t,i,n,o=e.length;if(o>0)for(i=0;o>i;i++)n=e[i].box,t?t.wrap(n):t=n.clone();return t||$t()}function E(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function R(e,t){return e&&t?v(e)===v(t):e===t}function L(e){for(var t,i=e.length;i--;)if(t=e[i],pi(t)&&null!==t)return t}function O(e,t){null!==t&&e.push(t)}function z(e,t){for(var i,n,o=0,r=e.length-1;r>=o;)if(i=Ot.floor((o+r)/2),n=e[i],t>n)o=i+1;else{if(!(n>t))return i;r=i-1}return t>=e[i]?i:i-1}function H(e){var t,i,n=!0,o=e.length;for(t=0;o>t;t++)if(i=e[t],"number"!=typeof i||isNaN(i)){n=!1;break}return n}function U(e){var t,i,n,o={};for(t=0;e.length>t;t++)i=e[t],n=i.options.name,n&&(o[n]=i.range());return o}function M(e){var t=e.originalEvent,i=0;return t.wheelDelta&&(i=-t.wheelDelta/120,i=i>0?Ot.ceil(i):Ot.floor(i)),t.detail&&(i=yi(t.detail/3)),i}function N(e,t,i){var n,o,r,a,s;if(i=i||{},r=i.excluded=i.excluded||[],a=i.defaults=i.defaults||{},s=i.depth=pi(i.depth)?i.depth+1:0,!(s>yn))for(n in e)xi(n,i.excluded)||(o=e[n],Ut(o)?e[n]=o(t)||a[n]:"object"==typeof o&&(i.defaults=a[n],N(o,t,i)))}function F(e,i){var n,o,r,a=[],s=i.length;for(e.groupNameTemplate&&(n=Yt(e.groupNameTemplate)),o=0;s>o;o++)r=Xt({},e),r.color=t,r._groupIx=o,a.push(r),n&&(r.name=n({series:r,group:i[o]}));return a}var j,W,Y,X,G,q,J,K,Q,$,Z,et,tt,it,nt,ot,rt,at,st,lt,ct,dt,ht,ut,pt,ft,gt,xt,vt,mt,yt,bt,wt,_t,At,kt,Ct,It,Pt,St,Tt,Vt,Dt,Bt,Et=e.each,Rt=e.isArray,Lt=e.map,Ot=Math,zt=e.extend,Ht=e.proxy,Ut=e.isFunction,Mt=window.kendo,Nt=Mt.Class,Ft=Mt.Observable,jt=Mt.data.DataSource,Wt=Mt.ui.Widget,Yt=Mt.template,Xt=Mt.deepExtend,Gt=Mt.getter,qt=Mt.dataviz,Jt=qt.Axis,Kt=qt.AxisLabel,Qt=qt.BarAnimation,$t=qt.Box2D,Zt=qt.BoxElement,ei=qt.ChartElement,ti=qt.Color,ii=qt.ElementAnimation,ni=qt.NumericAxis,oi=qt.Point2D,ri=qt.RootElement,ai=qt.Ring,si=qt.Text,li=qt.TextBox,ci=qt.Title,di=qt.animationDecorator,hi=qt.append,ui=qt.autoFormat,pi=qt.defined,fi=qt.getElement,gi=qt.getSpacing,xi=qt.inArray,vi=qt.interpolateValue,mi=qt.last,yi=qt.round,bi=qt.renderTemplate,wi=qt.uniqueId,_i=".kendoChart",Ai="above",ki="area",Ci="auto",Ii="fit",Pi=qt.AXIS_LABEL_CLICK,Si="bar",Ti=.8,Vi="below",Di="#000",Bi="both",Ei="bottom",Ri="bubble",Li="bullet",Oi="candlestick",zi="category",Hi="center",Ui="change",Mi="circle",Ni="click"+_i,Fi=qt.CLIP,ji="column",Wi=qt.COORD_PRECISION,Yi="k-",Xi="dataBound",Gi="date",qi=/^\/Date\((.*?)\)\/$/,Ji="days",Ki=qt.DEFAULT_FONT,Qi=qt.DEFAULT_HEIGHT,$i=qt.DEFAULT_PRECISION,Zi=qt.DEFAULT_WIDTH,en=Ot.PI/180,tn="donut",nn=50,on="drag",rn="dragEnd",an="dragStart",sn="fadeIn",ln="glass",cn="hours",dn=qt.INITIAL_ANIMATION_DURATION,hn="insideBase",un="insideEnd",pn="interpolate",fn="left",gn="legendItemClick",xn="legendItemHover",vn="line",mn=8,yn=8,bn=Number.MAX_VALUE,wn=-Number.MAX_VALUE,_n="minutes",An="months",kn="mouseleave"+_i,Cn="mousemove.tracking",In="mouseover"+_i,Pn="mouseout"+_i,Sn="mousemove"+_i,Tn=20,Vn=150,Dn="DOMMouseScroll"+_i+" mousewheel"+_i,Bn="ohlc",En="outsideEnd",Rn="_outline",Ln="pie",On=70,zn="plotAreaClick",Hn="pointer",Un="right",Mn="roundedBevel",Nn="roundedGlass",Fn="scatter",jn="scatterLine",Wn="selectStart",Yn="select",Xn="selectEnd",Gn="seriesClick",qn="seriesHover",Jn="string",Kn=6e4,Qn=60*Kn,$n=24*Qn,Zn=7*$n,eo=31*$n,to=365*$n,io={years:to,months:eo,weeks:Zn,days:$n,hours:Qn,minutes:Kn},no="top",oo=150,ro=5,ao=100,so=100,lo="tooltip-inverse",co="touchstart"+_i,ho="triangle",uo="value",po="verticalArea",fo="verticalBullet",go="verticalLine",xo="weeks",vo="#fff",mo="x",yo="y",bo="years",wo="zero",_o=3,Ao="zoomStart",ko="zoom",Co="zoomEnd",Io=[Si,ji,vn,go,ki,po,Oi,Bn,Li,fo],Po=[Fn,jn,Ri],So=[_n,cn,Ji,xo,An,bo],To={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Vo=Wt.extend({init:function(e,t){var i,n,o,r,a=this,s=qt.ui.themes||{};Mt.destroy(e),Wt.fn.init.call(a,e),i=Xt({},a.options,t),a.element.addClass(Yi+i.name.toLowerCase()).css("position","relative"),a._originalOptions=Xt({},i),r=i.theme,o=s[r]||s[r.toLowerCase()],n=r&&o?o.chart:{},d(i),a._applyDefaults(i,n),a.options=Xt({},n,i),c(a.options),a.bind(a.events,a.options),a.wrapper=a.element,a._initDataSource(t),Mt.notify(a,qt.ui)},_initDataSource:function(e){var t=this,i=(e||{}).dataSource;t._dataChangeHandler=Ht(t._onDataChanged,t),t.dataSource=jt.create(i).bind(Ui,t._dataChangeHandler),t._redraw(),t._attachEvents(),i&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(Ui,t._dataChangeHandler),t.dataSource=e,e.bind(Ui,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[Xi,Gn,qn,Pi,gn,xn,zn,an,on,rn,Ao,ko,Co,Wn,Yn,Xn],items:function(){return e()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:ji,data:[],highlight:{visible:!0},groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),c(e.options),e._bindSeries(),e._bindCategories(),e.trigger(Xi),e._redraw()},redraw:function(e){var t,i,n=this;n._applyDefaults(n.options),e?(i=n._model._plotArea,t=i.findPane(e),i.redraw(t)):n._redraw()},_redraw:function(){var e,t=this,i=t._getModel(),n=qt.ui.defaultView();t._destroyView(),t._model=i,t._plotArea=i._plotArea,n&&(e=t._view=n.fromModel(i),t._viewElement=t._renderView(e),t._tooltip=t._createTooltip(),t._highlight=new Ct(e,t._viewElement),t._setupSelection())},_sharedTooltip:function(){var e=this,t=e.options;return e._plotArea instanceof gt&&t.tooltip.shared},_createTooltip:function(){var e,t=this,i=t.options,n=t.element;return e=t._sharedTooltip()?new St(n,t._plotArea,i.tooltip):new Pt(n,i.tooltip)},_renderView:function(){var e=this;return e._view.renderTo(e.element[0])},svg:function(){var e=this._getModel(),t=qt.SVGView.fromModel(e);return t.render()},_applyDefaults:function(e,t){h(e,t),s(e,t)},_getModel:function(){var e,t=this,i=t.options,n=new ri(t._modelOptions());return n.parent=t,ci.buildTitle(i.title,n),e=n._plotArea=t._createPlotArea(),i.legend.visible&&n.append(new Eo(e.options.legend)),n.append(e),n.reflow(),n},_modelOptions:function(){var e=this,t=e.options,i=e.element,n=Ot.floor(i.height()),o=Ot.floor(i.width());return Xt({width:o||Zi,height:n||Qi,transitions:t.transitions},t.chartArea)},_createPlotArea:function(){var e,t,i,n=this,o=n.options,r=o.series,a=r.length,s=[],l=[],c=[],d=[],h=[];for(e=0;a>e;e++)t=r[e],xi(t.type,Io)?s.push(t):xi(t.type,Po)?l.push(t):t.type===Ln?c.push(t):t.type===tn?d.push(t):t.type===Li&&h.push(t);return i=c.length>0?new mt(c,o):d.length>0?new yt(d,o):l.length>0?new vt(l,o):new gt(s,o)},_setupSelection:function(){var e,t,i,n,o,r,a=this,s=a._plotArea,l=s.axes,c=a._selections=[];for(a._selectStartHandler||(a._selectStartHandler=Ht(a._selectStart,a),a._selectHandler=Ht(a._select,a),a._selectEndHandler=Ht(a._selectEnd,a)),t=0;l.length>t;t++)i=l[t],r=i.options,i instanceof Ro&&r.select&&!r.vertical&&(n=0,o=r.categories.length-1,i instanceof Oo&&(n=r.categories[n],o=r.categories[o]),r.justified||(i instanceof Oo?o=m(o,1,r.baseUnit,r.weekStartDay):o++),e=new Bt(a,i,Xt({min:n,max:o},r.select)),e.bind(Wn,a._selectStartHandler),e.bind(Yn,a._selectHandler),e.bind(Xn,a._selectEndHandler),c.push(e))},_selectStart:function(e){return this.trigger(Wn,e)},_select:function(e){return this.trigger(Yn,e)},_selectEnd:function(e){return this.trigger(Xn,e)},_attachEvents:function(){var e=this,t=e.element;t.on(Ni,Ht(e._click,e)),t.on(In,Ht(e._mouseover,e)),t.on(Pn,Ht(e._mouseout,e)),t.on(Dn,Ht(e._mousewheel,e)),t.on(co,Ht(e._tap,e)),t.on(kn,Ht(e._mouseleave,e)),(e._plotArea.crosshairs.length||e._tooltip&&e._sharedTooltip())&&t.on(Sn,Ht(e._mousemove,e)),Mt.UserEvents&&(e._userEvents=new Mt.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:Ht(e._start,e),move:Ht(e._move,e),end:Ht(e._end,e)}))},_mouseout:function(e){var t=this,i=t._model.modelMap[e.target.getAttribute("data-model-id")];i&&i.leave&&i.leave(t,e)},_start:function(e){var t=this,i=t._events;pi(i[an]||i[on]||i[rn])&&t._startNavigation(e,an)},_move:function(e){var t,i,n,o,r,a,s=this,l=s._navState,c={};if(l){for(e.preventDefault(),t=l.axes,i=0;t.length>i;i++)n=t[i],o=n.options.name,o&&(r=n.options.vertical?e.y:e.x,a=r.startLocation-r.location,0!==a&&(c[n.options.name]=n.translateRange(a)));l.axisRanges=c,s.trigger(on,{axisRanges:c,originalEvent:e})}},_end:function(e){this._endNavigation(e,rn)},_mousewheel:function(e){var t,i,n,o,r,a,s=this,l=e.originalEvent,c=M(e),d=s._navState,h={};if(d||(t=s._startNavigation(l,Ao),t||(d=s._navState)),d){for(i=d.totalDelta||c,d.totalDelta=i+c,n=s._navState.axes,o=0;n.length>o;o++)r=n[o],a=r.options.name,a&&(h[a]=r.scaleRange(i));s.trigger(ko,{delta:c,axisRanges:h,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,Co)},Vn)}},_startNavigation:function(e,t){var i,n,o,r=this,a=r._eventCoordinates(e),s=r._model._plotArea,l=s.findPointPane(a),c=s.axes.slice(0),d=!1;if(l){for(i=0;c.length>i;i++)if(n=c[i],n.box.containsPoint(a)){d=!0;break}!d&&s.backgroundBox().containsPoint(a)&&(o=r.trigger(t,{axisRanges:U(c),originalEvent:e}),o?r._userEvents.cancel():(r._suppressHover=!0,r._unsetActivePoint(),r._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var i=this;i._navState&&(i.trigger(t,{axisRanges:i._navState.axisRanges,originalEvent:e}),i._suppressHover=!1,i._navState=null)},_getChartElement:function(t){var i,n=this,o=e(t.target).data("modelId"),r=n._model;return o&&(i=r.modelMap[o]),i&&i.aliasFor&&(i=i.aliasFor(t,n._eventCoordinates(t))),i},_eventCoordinates:function(e){var t=this,i=pi((e.x||{}).client),n=i?e.x.client:e.clientX,o=i?e.y.client:e.clientY;return t._toModelCoordinates(n,o)},_toModelCoordinates:function(t,i){var n=this.element,o=n.offset(),r=parseInt(n.css("paddingLeft"),10),a=parseInt(n.css("paddingTop"),10),s=e(window);return new oi(t-o.left-r+s.scrollLeft(),i-o.top-a+s.scrollTop())},_click:function(e){for(var t=this,i=t._getChartElement(e);i;)i.click&&i.click(t,e),i=i.parent},_startHover:function(e){var i,n=this,o=n._tooltip,r=n._highlight,a=n.options.tooltip;if(!n._suppressHover&&r&&!xi(e.target,r._overlays)&&!n._sharedTooltip())return i=n._getChartElement(e),i&&i.hover&&(i.hover(n,e),!e.isDefaultPrevented())?(n._activePoint=i,a=Xt({},a,i.options.tooltip),a.visible&&o.show(i),r.show(i),!0):t},_mouseover:function(t){var i=this;i._startHover(t)&&e(document).on(Cn,Ht(i._mouseMoveTracking,i))},_mouseMoveTracking:function(t){var i,n,o,r=this,a=r.options,s=r._tooltip,l=r._highlight,c=r._eventCoordinates(t),d=r._activePoint;r._plotArea.box.containsPoint(c)?d&&d.series&&(d.series.type===vn||d.series.type===ki)&&(n=d.parent,o=n.getNearestPoint(c.x,c.y,d.seriesIx),o&&o!=d&&(o.hover(r,t),r._activePoint=o,i=Xt({},a.tooltip,d.options.tooltip),i.visible&&s.show(o),l.show(o))):(e(document).off(Cn),r._unsetActivePoint())},_mousemove:function(e){var t,i=this,n=new Date,o=i._mousemove.timestamp;(!o||n-o>Tn)&&(t=i._eventCoordinates(e),i._trackCrosshairs(t),i._sharedTooltip()&&i._trackSharedTooltip(t),i._mousemove.timestamp=n)},_trackCrosshairs:function(e){var t,i,n=this._plotArea.crosshairs;for(t=0;n.length>t;t++)i=n[t],i.box.containsPoint(e)?i.showAt(e):i.hide()},_trackSharedTooltip:function(e){var t,i,n=this,o=n.options,r=n._plotArea,a=r.categoryAxis,s=n._tooltip,l=o.tooltip,c=n._highlight;t=a.getCategoryIndex(e),t!==n._tooltipCategoryIx&&(i=r.pointsByCategoryIndex(t),i.length>0?(l.visible&&s.showAt(i,e),c.show(i)):s.hide(),n._tooltipCategoryIx=t)},_mouseleave:function(){var e,t=this,i=t._plotArea,n=i.crosshairs,o=t._tooltip,r=t._highlight;for(e=0;n.length>e;e++)n[e].hide();setTimeout(Ht(o.hide,o),so),r.hide(),t._tooltipCategoryIx=null},_unsetActivePoint:function(){var e=this,t=e._tooltip,i=e._highlight;e._activePoint=null,t&&t.hide(),i&&i.hide()},_onDataChanged:function(){var e,t,i=this,n=i.options,o=i._sourceSeries||n.series,r=o.length,a=i.dataSource.view(),s=(i.dataSource.group()||[]).length>0,l=[];for(e=0;r>e;e++)t=o[e],i.isBindable(t)&&s?hi(l,F(t,a)):l.push(t||[]);i._sourceSeries=o,n.series=l,c(i.options),i._bindSeries(),i._bindCategories(),i.trigger(Xi),i._redraw()},_bindSeries:function(){var e,t,i,n,o=this,r=o.dataSource.view(),a=o.options.series,s=a.length;for(e=0;s>e;e++)t=a[e],o.isBindable(t)&&(i=t._groupIx,n=pi(i)?r[i].items:r,t.autoBind!==!1&&(t.data=n))},_bindCategories:function(){var e,t,i=this,n=i.dataSource.view(),o=(i.dataSource.group()||[]).length>0,r=(o?n[0].items:n)||[],a=i.options,s=[].concat(a.categoryAxis);for(e=0;s.length>e;e++)t=s[e],t.autoBind!==!1&&i._bindCategoryAxis(t,r)},_bindCategoryAxis:function(e,t){var i,n,o;if(e.field)for(e.categories=[],i=0;t.length>i;i++)o=t[i],n=g(e.field,o),0===i?(e.categories=[n],e.dataItems=[o]):(e.categories.push(n),e.dataItems.push(o))},isBindable:function(e){var t,i,n=C(e.type),o=!0;for(i=0;n.length>i;i++)if(t=n[i],t===uo?t="field":t+="Field",!e[t]){o=!1;break}return o},_tap:function(e){var t=this;t._startHover(e)||t._unsetActivePoint(),t._click(e)},_legendItemClick:function(e,t){var i,n,o=this,r=o._plotArea,a=(r.srcSeries||r.series)[e];xi(a.type,[Ln,tn])?(i=a.data[t],i.visible=pi(i.visible)?!i.visible:!1):a.visible=!a.visible,o.options.transitions&&(o.options.transitions=!1,n=!0),o.redraw(),n&&(o.options.transitions=!0)},_legendItemHover:function(e,t){var i,n=this,o=n._plotArea,r=n._highlight,a=(o.srcSeries||o.series)[e];i=xi(a.type,[Ln,tn])?o.charts[0].segments[t]:o.pointsBySeriesIndex(e),r.show(i)},destroy:function(){var t=this,i=t.dataSource;t.element.off(_i),i.unbind(Ui,t._dataChangeHandler),e(document).off(Cn),t._userEvents&&t._userEvents.destroy(),t._destroyView(),Wt.fn.destroy.call(t)},_destroyView:function(){var t=this,i=qt.IDPool.current,n=t._model,o=t._view,r=t._viewElement,a=t._selections;if(n&&n.destroy(),o&&o.destroy(),r&&e("[id]",r).each(function(){i.free(e(this).attr("id"))}),a)for(;a.length>0;)a.shift().destroy()}}),Do=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.append(new li(e,i.options))},options:{position:En,margin:gi(3),padding:gi(4),color:Di,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:sn,delay:dn},zIndex:1},reflow:function(e){var t=this,i=t.options,n=i.vertical,o=i.aboveAxis,r=t.children[0],a=r.box,s=r.options.padding;r.options.align=n?Hi:fn,r.options.vAlign=n?no:Hi,i.position==un?n?(r.options.vAlign=no,!o&&a.height()<e.height()&&(r.options.vAlign=Ei)):r.options.align=o?Un:fn:i.position==Hi?(r.options.vAlign=Hi,r.options.align=Hi):i.position==hn?n?r.options.vAlign=o?Ei:no:r.options.align=o?fn:Un:i.position==En&&(n?e=o?new $t(e.x1,e.y1-a.height(),e.x2,e.y1):new $t(e.x1,e.y2,e.x2,e.y2+a.height()):(r.options.align=Hi,e=o?new $t(e.x2+a.width(),e.y1,e.x2,e.y2):new $t(e.x1-a.width(),e.y1,e.x1,e.y2))),n?s.left=s.right=(e.width()-r.contentBox.width())/2:s.top=s.bottom=(e.height()-r.contentBox.height())/2,r.reflow(e)}}),Bo=si.extend({init:function(e,t){var i=this;i.item=e,si.fn.init.call(i,e.text,Xt({id:wi(),cursor:{style:Hn}},t)),i.enableDiscovery()},click:function(t,i){var n=this.item;i.preventDefault(),t.trigger(gn,{element:e(i.target),text:n.text,series:n.series,seriesIndex:n.series.index,pointIndex:n.pointIndex}),t._legendItemClick(n.series.index,n.pointIndex)},hover:function(t,i){var n=this.item;i.preventDefault(),t.trigger(xn,{element:e(i.target),text:n.text,series:n.series,seriesIndex:n.series.index,pointIndex:n.pointIndex}),t._legendItemHover(n.series.index,n.pointIndex)},leave:function(e){e._unsetActivePoint()}}),Eo=ei.extend({init:function(e){var t=this;ei.fn.init.call(t,e),t.createLabels()},options:{position:Un,items:[],labels:{},offsetX:0,offsetY:0,margin:gi(10),padding:gi(5),border:{color:Di,width:0},background:"",zIndex:1,markers:{border:{width:1}}},createLabels:function(){var e,t,i=this,n=i.options.items,o=n.length;for(e=0;o>e;e++)t=n[e],i.append(new Bo(t,Xt({},i.options.labels,{color:t.labelColor})))},reflow:function(e){var i=this,n=i.options,o=i.children.length;return 0===o?(i.box=e.clone(),t):"custom"==n.position?(i.customLayout(e),t):(n.position==no||n.position==Ei?i.horizontalLayout(e):i.verticalLayout(e),t)},getViewElements:function(e){var t,i,n,o,r,a,s,l=this,c=l.children,d=l.options,h=d.items,u=h.length,p=l.markerSize(),f=e.createGroup({zIndex:d.zIndex}),g=d.border||{};for(hi(f.children,ei.fn.getViewElements.call(l,e)),s=0;u>s;s++)o=h[s].markerColor,r=c[s],i=$t(),a=r.box,n=n?n.wrap(a):a.clone(),i.x1=a.x1-2*p,i.x2=i.x1+p,i.y1=d.position==no||d.position==Ei?a.y1+p/2:a.y1+(a.height()-p)/2,i.y2=i.y1+p,f.children.push(e.createRect(i,{fill:o,stroke:o,strokeWidth:d.markers.border.width,data:{modelId:r.options.modelId},cursor:{style:Hn}}));return c.length>0&&(t=gi(d.padding),t.left+=2*p,n.pad(t),f.children.unshift(e.createRect(n,{stroke:g.width?g.color:"",strokeWidth:g.width,dashType:g.dashType,fill:d.background}))),[f]},verticalLayout:function(e){var t,i,n,o,r,a=this,s=a.options,l=a.children,c=l.length,d=l[0].box.clone(),h=gi(s.margin),u=2*a.markerSize();for(o=1;c>o;o++)n=a.children[o],n.box.alignTo(a.children[o-1].box,Ei),d.wrap(n.box);s.position==fn?(t=e.x1+u+h.left,i=(e.y2-d.height())/2,d.x2+=u+h.left+h.right):(t=e.x2-d.width()-h.right,i=(e.y2-d.height())/2,d.translate(t,i),d.x1-=u+h.left),a.translateChildren(t+s.offsetX,i+s.offsetY),r=d.width(),d.x1=Ot.max(e.x1,d.x1),d.x2=d.x1+r,d.y1=e.y1,d.y2=e.y2,a.box=d},horizontalLayout:function(e){var t,i,n,o,r=this,a=r.options,s=r.children,l=s.length,c=s[0].box.clone(),d=3*r.markerSize(),h=gi(a.margin),u=s[0].box.width()+d,p=e.width(),f=0;for(o=1;l>o;o++)n=s[o],u+=n.box.width()+d,u>p-d?(n.box=$t(c.x1,c.y2,c.x1+n.box.width(),c.y2+n.box.height()),u=n.box.width()+d,f=n.box.y1):(n.box.alignTo(s[o-1].box,Un),n.box.y2=f+n.box.height(),n.box.y1=f,n.box.translate(d,0)),c.wrap(n.box);t=(e.width()-c.width()+d)/2,a.position===no?(i=e.y1+h.top,c.y2=e.y1+c.height()+h.top+h.bottom,c.y1=e.y1):(i=e.y2-c.height()-h.bottom,c.y1=e.y2-c.height()-h.top-h.bottom,c.y2=e.y2),r.translateChildren(t+a.offsetX,i+a.offsetY),c.x1=e.x1,c.x2=e.x2,r.box=c},customLayout:function(e){var t,i=this,n=i.options,o=i.children,r=o.length,a=o[0].box.clone(),s=2*i.markerSize();for(t=1;r>t;t++)a=i.children[t].box,a.alignTo(i.children[t-1].box,Ei),a.wrap(a);i.translateChildren(n.offsetX+s,n.offsetY),i.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),Ro=Jt.extend({init:function(e){var t=this;Jt.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0),t._ticks={}},options:{type:zi,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Di},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.justified,a=i.lineBox(),s=o?a.height():a.width(),l=e-(r?1:0),c=s/l,d=o?yo:mo,h=a[d+1],u=[];for(t=0;e>t;t++)u.push(yi(h,Wi)),h+=c;return r||u.push(a[d+2]),n.reverse?u.reverse():u},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var e,t=this,i=t._ticks,n=t.options,o=n.categories.length,r=n.reverse,a=n.justified,s=t.lineBox();return e=s.getHash()+o+r+a,i._hash!==e&&(i._hash=e,i.majorTicks=t.getTickPositions(o),i.minorTicks=t.getTickPositions(2*o)),i},getSlot:function(e,t){var i,n,o,r=this,a=r.options,s=r.getMajorTickPositions(),l=a.reverse,c=a.justified,d=a.vertical?yo:mo,h=r.lineBox(),u=h[d+(l?2:1)],p=h[d+(l?1:2)],f=h.clone(),g=Ot.max(1,s.length-(c?0:1));return e=pi(e)?e:0,t=pi(t)?t:e,e=D(e,0,g),t=D(t-1,e,g),t=Ot.max(e,t),i=0===e?u:s[e],n=c?i:s[t],o=t-e,(o>0||e===t)&&(n=s[t+1]||p),c&&(e===g?i=n:n=i),f[d+1]=l?n:i,f[d+2]=l?i:n,f},getCategoryIndex:function(e){var t,i,n,o,r=this,a=r.options,s=a.reverse,l=a.vertical,c=l?yo:mo,d=r.lineBox(),h=d[c+1],u=d[c+2],p=e[c],f=r.getMajorTickPositions(),g=bn;if(h>p||p>u)return null;for(n=0;f.length>n;n++)if(t=f[n],i=f[n+1],pi(i)||(i=s?h:u),s&&(t=i,i=f[n]),a.justified){if(p===i){o=Ot.max(0,l?f.length-n-1:n+1);break}g>Ot.abs(p-t)&&(g=p-t,o=n)}else if(p>=t&&i>=p){o=n;break}return o},getCategory:function(e){var t=this.getCategoryIndex(e);return null===t?null:this.options.categories[t]},translateRange:function(e){var t=this,i=t.options,n=t.lineBox(),o=i.vertical?n.height():n.width(),r=i.categories.length,a=o/r,s=yi(e/a,$i);return{min:s,max:r+s}},scaleRange:function(e){var t=this,i=t.options,n=i.categories.length,o=e*n;return{min:-o,max:n+o}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var i=this,n=i.options,o=n.dataItems?n.dataItems[e]:null,r=pi(n.categories[e])?n.categories[e]:"";return new Kt(r,e,o,t)}}),Lo=Kt.extend({formatValue:function(e,t){return Mt.toString(e,t.format,t.culture)}}),Oo=Ro.extend({init:function(e){var t,i,n=this;e=e||{},e=Xt({roundToBaseUnit:!0},e,{min:x(e.min),max:x(e.max)}),e.categories&&e.categories.length>0&&(t=(e.baseUnit||"").toLowerCase(),i=t!==Ii&&!xi(t,So),i&&(e.baseUnit=n.defaultBaseUnit(e)),(t===Ii||e.baseUnitStep===Ci)&&n.autoBaseUnit(e),n.groupCategories(e)),Ro.fn.init.call(n,e)},options:{type:Gi,labels:{dateFormats:To},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(e){var t=this,i=Ro.fn.translateRange.call(t,e),n=t.options,o=n.baseUnit,r=Ot.round(i.min),a=n.weekStartDay;return{min:m(n.min,r,o,a),max:m(n.max,r,o,a)}},scaleRange:function(e){for(var t,i,n=this,o=n.options,r=Ot.abs(e),a=o.min,s=o.max;r--;)t=_(a,s),i=Ot.round(.1*t),0>e?(a=A(a,i),s=A(s,-i)):(a=A(a,-i),s=A(s,i));return{min:a,max:s}},defaultBaseUnit:function(e){var t,i,n,o,r,a=e.categories,s=pi(a)?a.length:0,l=bn;for(t=0;s>t;t++)i=x(a[t]),i&&o&&(n=_(i,o),n>0&&(l=Ot.min(l,n),r=l>=to?bo:l>=eo-3*$n?An:l>=Zn?xo:l>=$n?Ji:l>=Qn?cn:_n)),o=i;return r||Ji},range:function(e){e=e||this.options;var t=x(e.categories),i=e.baseUnit===Ii,n=i?So[0]:e.baseUnit,o=v(e.min),a=v(e.max),s=r(t),l=v(s.min),c=v(s.max);return e.roundToBaseUnit?{min:m(o||l,0,n,e.weekStartDay),max:m(a||c,1,n,e.weekStartDay)}:{min:x(o||l),max:x(a||c)}},autoBaseUnit:function(e){for(var t,i,n,o=this,r=o.range(e),a=e.baseUnit===Ii,s=0,l=a?So[s++]:e.baseUnit,c=r.max-r.min,d=c/io[l],h=d,u=e.maxDateGroups||o.options.maxDateGroups,p=Xt({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);d>u;)if(t=t||p[l].slice(0),n=t.shift())i=n,d=h/i;else{if(l===mi(So)){i=Ot.ceil(h/u);break}if(!a){d>u&&(i=Ot.ceil(h/u));break}l=So[s++]||mi(So),h=c/io[l],t=null}e.baseUnitStep=i,e.baseUnit=l},getMajorTickPositions:function(){var e,t,i,n,o,r,a,s,l,c,d,h,u,p,f,g,x,v=this,m=v.options,y=m.categories,b=[];if(m.roundToBaseUnit||0===y.length)b=Ro.fn.getMajorTickPositions.call(v);else{for(i=m.vertical,n=m.reverse,o=v.lineBox(),r=i?o.height():o.width(),a=y[0].getTime(),s=v.range(v.options),l=s.max-s.min,c=r/l,d=y.length,h=(i?-1:1)*(n?-1:1),u=1===h?1:2,p=1===h?2:1,f=o[(i?yo:mo)+u],g=o[(i?yo:mo)+p],x=f,e=0;d>e;e++)t=y[e]-a,x=f+t*c*h,b.push(yi(x,Wi));mi(b)!==g&&b.push(g)}return b},groupCategories:function(e){var t,i,n,o,r,a,s=this,l=x(e.categories),c=e.baseUnit,d=e.baseUnitStep||1,h=s.range(e),u=e.roundToBaseUnit,p=[],f=s.categoryMap=[],g=[];for(t=u?m(h.max,d-1,c,e.weekStartDay):h.max,R(h.min,h.max)&&(t=x(v(t)+1)),i=h.min;t>i;i=n){for(n=m(i,d,c,e.weekStartDay),p.push(i),o=[],r=z(l,i);l.length>r;r++)if(a=l[r],a&&a>=i)if(n>a)e.justified&&R(a,t)?g.push(r):o.push(r);else{if(u||!R(n,t))break;g.push(r)}f.push(o)}g.length&&(p.push(t),f.push(g)),e.max||0!==(mi(f)||[]).length||(f.pop(),p.pop()),e.min=p[0],e.max=u?mi(p):t,e.categories=p},createAxisLabel:function(e,t){var i,n=this.options,o=n.dataItems?n.dataItems[e]:null,r=n.categories[e],a=n.baseUnit,s=!0,l=t.dateFormats[a];return n.justified&&(i=b(r,a,n.weekStartDay),s=R(i,r)),t=Xt({format:l},t,{visible:s}),new Lo(r,e,o,t)}}),zo=Jt.extend({init:function(e,t,i){var n=this;i=i||{},Xt(i,{min:x(i.min),max:x(i.max),axisCrossingValue:x(i.axisCrossingValues||i.axisCrossingValue)}),i=n.applyDefaults(x(e),x(t),i),Jt.fn.init.call(n,i)},options:{type:Gi,labels:{dateFormats:To}},applyDefaults:function(e,i,n){var o=this,r=n.min||e,a=n.max||i,s=n.baseUnit||o.timeUnits(a-r),l=io[s],c=b(v(r)-1,s)||x(a),d=w(v(a)+1,s),h=n.majorUnit?n.majorUnit:t,u=h||qt.ceil(qt.autoMajorUnit(c.getTime(),d.getTime()),l)/l,p=k(c,d,s),f=qt.ceil(p,u),g=f-p,y=Ot.floor(g/2),_=g-y;return n.baseUnit||delete n.baseUnit,Xt({baseUnit:s,min:m(c,-y,s),max:m(d,_,s),minorUnit:u/5},n,{majorUnit:u})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Ot.floor(k(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.reverse,a=i.lineBox(),s=o?a.height():a.width(),l=k(n.min,n.max,n.baseUnit),c=s/l,d=e*c,h=i.getDivisions(e),u=(o?-1:1)*(r?-1:1),p=1===u?1:2,f=a[(o?yo:mo)+p],g=[];for(t=0;h>t;t++)g.push(yi(f,Wi)),f+=d*u;return g},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return ni.fn.getSlot.call(this,x(e),x(t))},getValue:function(e){var t=ni.fn.getValue.call(this,e);return null!==t?x(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var i=this.options,n=e*i.majorUnit,o=m(i.min,n,i.baseUnit),r=t.dateFormats[i.baseUnit];return t.format=t.format||r,new Lo(o,e,null,t)},timeUnits:function(e){var t=cn;return e>=to?t=bo:e>=eo?t=An:e>=Zn?t=xo:e>=$n&&(t=Ji),t},translateRange:function(e){var t=this,i=t.options,n=i.baseUnit,o=i.weekStartDay,r=t.lineBox(),a=i.vertical?r.height():r.width(),s=t.range(),l=a/(s.max-s.min),c=yi(e/l,$i),d=A(i.min,c),h=A(i.max,c);return{min:m(d,0,n,o),max:m(h,0,n,o)}},scaleRange:function(e){for(var t,i,n=this,o=n.options,r=o.baseUnit,a=o.weekStartDay,s=Ot.abs(e),l=o.min,c=o.max;s--;)t=_(l,c),i=Ot.round(.1*t),0>e?(l=A(l,i),c=A(c,-i)):(l=A(l,-i),c=A(c,i)),l=m(l,0,r,a),c=m(c,1,r,a);return{min:l,max:c}}}),Ho=ei.extend({init:function(e){var t=this;ei.fn.init.call(t,e)},options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,i,n=this,o=n.options,r=o.vertical,a=r?yo:mo,s=n.children,l=o.gap,c=o.spacing,d=s.length,h=d+l+c*(d-1),u=(r?e.height():e.width())/h,p=e[a+1]+u*(l/2);for(i=0;d>i;i++)t=(s[i].box||e).clone(),t[a+1]=p,t[a+2]=p+u,s[i].reflow(t),d-1>i&&(p+=u*c),p+=u}}),Uo=ei.extend({init:function(e){var t=this;ei.fn.init.call(t,e)},options:{vertical:!0,isReversed:!1},reflow:function(e){var t,i,n,o,r=this,a=r.options,s=a.vertical,l=s?mo:yo,c=s?yo:mo,d=e[c+2],h=r.children,u=r.box=new $t,p=h.length;for(t=a.isReversed?s?Ei:fn:s?no:Un,i=0;p>i;i++)n=h[i],o=n.box.clone(),o.snapTo(e,l),n.options&&(n.options.stackBase=d),0===i?u=r.box=o.clone():o.alignTo(h[i-1].box,t),n.reflow(o),u.wrap(o)}}),Mo={click:function(t,i){var n=this;t.trigger(Gn,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})},hover:function(t,i){var n=this;t.trigger(qn,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})}},No=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.value=e,i.options.id=wi(),i.enableDiscovery()},options:{color:vo,border:{width:1},vertical:!0,overlay:{gradient:ln},aboveAxis:!0,labels:{visible:!1},animation:{type:Si},opacity:1},render:function(){var e,t=this,i=t.value,n=t.options,o=n.labels,r=i;t._rendered||(t._rendered=!0,o.visible&&i&&(o.template?(e=Yt(o.template),r=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(r=ui(o.format,r)),t.append(new Do(r,Xt({vertical:n.vertical,id:wi()},n.labels)))))
},reflow:function(e){this.render();var t=this,i=t.options,n=t.children,o=n[0];t.box=e,o&&(o.options.aboveAxis=i.aboveAxis,o.reflow(e))},getViewElements:function(e){var t=this,i=t.options,n=i.vertical,o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,strokeOpacity:i.border.opacity,dashType:i.border.dashType}:{},r=t.box,a=Xt({id:i.id,fill:i.color,fillOpacity:i.opacity,strokeOpacity:i.opacity,vertical:i.vertical,aboveAxis:i.aboveAxis,stackBase:i.stackBase,animation:i.animation,data:{modelId:i.modelId}},o),s=[];return r.width()>0&&r.height()>0&&(i.overlay&&(a.overlay=Xt({rotation:n?0:90},i.overlay)),s.push(e.createRect(r,a))),hi(s,ei.fn.getViewElements.call(t,e)),s},highlightOverlay:function(e,t){var i=this,n=i.box;return t=Xt({data:{modelId:i.options.modelId}},t),t.id=null,e.createRect(n,t)},getBorderColor:function(){var e=this,t=e.options,i=t.color,n=t.border,o=n.color,r=n._brightness||Ti;return pi(o)||(o=new ti(i).brightness(r).toHex()),o},tooltipAnchor:function(e,t){var i,n,o=this,r=o.options,a=o.box,s=r.vertical,l=r.aboveAxis;return s?(i=a.x2+ro,n=l?a.y1:a.y2-t):r.isStacked?(i=l?a.x2-e:a.x1,n=a.y1-t-ro):(i=l?a.x2+ro:a.x1-e-ro,n=a.y1),new oi(i,n)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});Xt(No.fn,Mo),j=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.plotArea=e,i.categoryAxis=e.seriesCategoryAxis(t.series[0]),i.valueAxisRanges={},i.points=[],i.categoryPoints=[],i.seriesPoints=[],i.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(Ht(e.addValue,e))},addValue:function(e,t,i,n,o){var r,a=this,s=e.value,l=a.categoryPoints[i],c=a.seriesPoints[o];l||(a.categoryPoints[i]=l=[]),c||(a.seriesPoints[o]=c=[]),a.updateRange(s,i,n),r=a.createPoint(e,t,i,n,o),r&&(r.category=t,r.series=n,r.seriesIx=o,r.owner=a,r.dataItem=n.data[i]),a.points.push(r),c.push(r),l.push(r)},evalPointOptions:function(e,t,i,n,o){N(e,{value:t,series:o,dataItem:o.data[n],category:i,index:n},{defaults:o._defaults,excluded:["data","aggregate"]})},updateRange:function(e,t,i){var n=this,o=i.axis,r=n.valueAxisRanges[o];pi(e)&&!isNaN(e)&&(r=n.valueAxisRanges[o]=r||{min:bn,max:wn},r.min=Ot.min(r.min,e),r.max=Ot.max(r.max,e))},seriesValueAxis:function(e){var t=this.plotArea,i=e.axis,n=i?t.namedValueAxes[i]:t.valueAxis;if(!n)throw Error("Unable to locate value axis with name "+i);return n},reflow:function(e){var t,i,n,o,r=this,a=r.options,s=a.invertAxes,l=0,c=r.categorySlots=[],d=r.points,h=r.categoryAxis;r.traverseDataPoints(function(e,a,u,p){t=r.pointValue(e),i=r.seriesValueAxis(p),n=r.categoryAxisCrossingValue(i),o=d[l++],o&&o.plotValue&&(t=o.plotValue);var f=r.categorySlot(h,u,i),g=r.valueSlot(i,t,n),x=s?g:f,v=s?f:g,m=new $t(x.x1,v.y1,x.x2,v.y2),y=i.options.reverse?n>t:t>=n;o&&(o.options.aboveAxis=y,o.reflow(m)),c[u]||(c[u]=f)}),r.reflowCategories(c),r.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,i=e.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue);return n[t.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(e,t,i){return e.getSlot(t,i)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,i,n,o,r,a=this,s=a.options,l=s.series,c=a.categoryAxis.options.categories||[],d=p(l),h=a.bindableFields(),u=l.length;for(t=0;d>t;t++)for(i=0;u>i;i++)r=l[i],o=c[t],n=I(r,t,h),e(n,o,t,r,i)},bindableFields:function(){return[]},formatPointValue:function(e,t){return ui(t,e.value)},pointValue:function(e){return e.value}}),W=j.extend({init:function(e,t){var i=this;i._groupTotals={},i._groups=[],j.fn.init.call(i,e,t)},render:function(){var e=this;j.fn.render.apply(e),e.computeAxisRanges()},createPoint:function(e,i,n,o){var r,a,s,l,c,d,h=this,u=e.value,p=h.options,f=h.children,g=h.options.isStacked,x=Xt({},o.labels);return g&&x.position==En&&(x.position=un),a=Xt({vertical:!p.invertAxes,overlay:o.overlay,labels:x,isStacked:g},o,{color:e.fields.color||t}),0>u&&a.negativeColor&&(a.color=a.negativeColor),h.evalPointOptions(a,u,i,n,o),r=new No(u,a),s=f[n],s||(s=new Ho({vertical:p.invertAxes,gap:p.gap,spacing:p.spacing}),h.append(s)),g?(d=h.getStackWrap(o,s),0===d.children.length?(l=new Uo({vertical:!p.invertAxes}),c=new Uo({vertical:!p.invertAxes,isReversed:!0}),d.append(l,c)):(l=d.children[0],c=d.children[1]),u>0?l.append(r):c.append(r)):s.append(r),r},getStackWrap:function(e,t){var i,n,o=t.children,r=e.stack,a=o.length;if(typeof r===Jn){for(n=0;a>n;n++)if(o[n]._stackGroup===r){i=o[n];break}}else i=o[0];return i||(i=new ei,i._stackGroup=r,t.append(i)),i},updateRange:function(e,t,i){var n,o=this,r=o.options.isStacked;pi(e)&&(r?(n=o.groupTotals(i.stack),u(e>0?n.positive:n.negative,t,e)):j.fn.updateRange.apply(o,arguments))},computeAxisRanges:function(){var e,t,i=this,r=i.options.isStacked;r&&(e=i.options.series[0].axis,t=i.categoryTotals(),i.valueAxisRanges[e]={min:n(t.negative.concat(0)),max:o(t.positive.concat(0))})},seriesValueAxis:function(e){var t=this,i=t.options;return j.fn.seriesValueAxis.call(t,i.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,i){return e.getSlot(t,this.options.isStacked?0:i)},categorySlot:function(e,t,i){var n,o,r=this,a=r.options,s=e.getSlot(t);return a.isStacked&&(o=i.getSlot(0,0),n=a.invertAxes?mo:yo,s[n+1]=s[n+2]=o[n+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),j.fn.reflow.call(t,e)},setStacksDirection:function(){var e,t,i,n,o,r,a,s,l,c=this,d=c.options,h=d.series,u=p(h),f=c.children,g=h.length;for(t=0;g>t;t++)for(i=h[t],n=c.seriesValueAxis(i),e=0;u>e;e++)o=f[e],r=c.getStackWrap(i,o),a=r.children,s=a[0],l=a[1],s&&l&&(s.options.isReversed=n.options.reverse,l.options.isReversed=!n.options.reverse)},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},groupTotals:function(e){var t,i,n=this;return t=typeof e===Jn?e:n._groups[0]||"default",i=n._groupTotals[t],i||(i=n._groupTotals[t]={positive:[],negative:[]},n._groups.push(t)),i},categoryTotals:function(){var e,t,i,n=this,o=n._groups,r=n._groupTotals,a={positive:[],negative:[]},s=o.length;for(i=0;s>i;i++)e=o[i],t=r[e],hi(a.positive,t.positive),hi(a.negative,t.negative);return a},bindableFields:function(){return["color"]}}),Y=j.extend({init:function(e,t){var i=this;i.wrapData(t),j.fn.init.call(i,e,t)},wrapData:function(e){var t,i,n,o=e.series;for(t=0;o.length>t;t++)n=o[t],i=n.data,i&&!Rt(i[0])&&"object"!=typeof i[0]&&(n.data=[i])},addValue:function(e,t,i,n,o){var r,a=this,s=a.categoryPoints[i],l=a.seriesPoints[o];s||(a.categoryPoints[i]=s=[]),l||(a.seriesPoints[o]=l=[]),a.updateRange(e.value,i,n),r=a.createPoint(e.value,t,i,n),r&&(r.category=t,r.series=n,r.seriesIx=o,r.owner=a,r.dataItem=n.data[i]),a.points.push(r),l.push(r),s.push(r)},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},createPoint:function(e,t,i,n){var o,r,a,s=this,l=s.options,c=s.children;return r=Xt({},{vertical:!l.invertAxes,overlay:n.overlay,categoryIx:i,invertAxes:l.invertAxes},n),s.evalPointOptions(r,e,t,i,n),o=new X(e,r),a=c[i],a||(a=new Ho({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(a)),a.append(o),o},updateRange:function(e,t,i){var n=this,o=i.axis,r=e.current,a=e.target,s=n.valueAxisRanges[o];pi(r)&&!isNaN(r)&&pi(a&&!isNaN(a))&&(s=n.valueAxisRanges[o]=s||{min:bn,max:wn},s.min=Ot.min.apply(Ot,[s.min,r,a]),s.max=Ot.max.apply(Ot,[s.max,r,a]))},formatPointValue:function(e,t){return ui(t,e.value.current,e.value.target)},pointValue:function(e){return e.value.current}}),X=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.value=e,i.options.id=wi(),i.enableDiscovery(),i.render()},options:{color:vo,border:{width:1},vertical:!1,animation:{type:Si},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var e=this,t=e.options;e.target=new q({id:e.options.id,type:t.target.shape,background:t.target.color||t.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:no,align:Un}),e.append(e.target)},reflow:function(e){var t=this,i=t.options,n=t.owner,o=t.target,r=i.invertAxes,a=n.seriesValueAxis(t.options),s=n.categorySlot(n.categoryAxis,i.categoryIx,a),l=n.valueSlot(a,t.value.target,t.value.target),c=r?l:s,d=r?s:l,h=new $t(c.x1,d.y1,c.x2,d.y2);o.options.height=r?h.height():i.target.line.width,o.options.width=r?i.target.line.width:h.width(),o.reflow(h),t.box=e},getViewElements:function(e){var t=this,i=t.options,n=i.vertical,o=i.border.width>0?{stroke:i.border.color||i.color,strokeWidth:i.border.width,dashType:i.border.dashType}:{},r=t.box,a=Xt({id:i.id,fill:i.color,fillOpacity:i.opacity,strokeOpacity:i.opacity,vertical:i.vertical,aboveAxis:i.aboveAxis,animation:i.animation,data:{modelId:i.modelId}},o),s=[];return r.width()>0&&r.height()>0&&(i.overlay&&(a.overlay=Xt({rotation:n?0:90},i.overlay)),s.push(e.createRect(r,a))),hi(s,ei.fn.getViewElements.call(t,e)),s},tooltipAnchor:function(e,t){var i,n,o=this,r=o.options,a=o.box,s=r.vertical,l=r.aboveAxis;return s?(i=a.x2+ro,n=l?a.y1:a.y2-t):r.isStacked?(i=l?a.x2-e:a.x1,n=a.y1-t-ro):(i=l?a.x2+ro:a.x1-e-ro,n=a.y1),new oi(i,n)},highlightOverlay:function(e,t){var i=this,n=i.box;return t=Xt({data:{modelId:i.options.modelId}},t),t.id=null,e.createRect(n,t)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Xt(X.fn,Mo),G=Zt.extend({options:{type:Mi,align:Hi,vAlign:Hi},getViewElements:function(e,t){var i,n,o,r,a=this,s=a.options,l=s.type,c=s.rotation,d=a.paddingBox,h=d.center(),u=d.width()/2;if(!s.visible||!a.hasBox())return[];if(n=Xt(a.elementStyle(),t),l===Mi?i=e.createCircle(new oi(yi(d.x1+u,Wi),yi(d.y1+d.height()/2,Wi)),u,n):o=l===ho?[new oi(d.x1+u,d.y1),new oi(d.x1,d.y2),new oi(d.x2,d.y2)]:d.points(),o){if(c)for(r=0;o.length>r;r++)o[r].rotate(h,c);i=e.createPolyline(o,!0,n)}return[i]}}),q=G.extend(),Xt(q.fn,Mo),J=ei.extend({init:function(e,t){var i,n=this;n.value=e,ei.fn.init.call(n,t),t=n.options,t.id=wi(),i=t.markers.border,pi(i.color)||(i.color=t.color),n.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:vo,size:mn,type:Mi,border:{width:2},opacity:1},labels:{visible:!1,position:Ai,margin:gi(3),padding:gi(4),animation:{type:sn,delay:dn}}},render:function(){var e,t=this,i=t.options,n=i.markers,o=i.labels,r=n.background,a=Xt({},n.border),s=t.value;t._rendered||(t._rendered=!0,pi(a.color)||(a.color=new ti(r).brightness(Ti).toHex()),t.marker=new G({id:t.options.id,visible:n.visible&&n.size,type:n.type,width:n.size,height:n.size,rotation:n.rotation,background:r,border:a,opacity:n.opacity,zIndex:n.zIndex,animation:n.animation}),t.append(t.marker),o.visible&&(o.template?(e=Yt(o.template),s=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(s=t.formatValue(o.format)),t.label=new li(s,Xt({id:wi(),align:Hi,vAlign:Hi,margin:{left:5,right:5}},o)),t.append(t.label)))},markerBox:function(){return this.marker.box},reflow:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.aboveAxis;i.render(),i.box=e,t=e.clone(),o?r?t.y1-=t.height():t.y2+=t.height():r?t.x1+=t.width():t.x2-=t.width(),i.marker.reflow(t),i.reflowLabel(t)},reflowLabel:function(e){var t=this,i=t.options,n=t.marker,o=t.label,r=i.labels.position;o&&(r=r===Ai?no:r,r=r===Vi?Ei:r,o.reflow(e),o.box.alignTo(n.box,r),o.reflow(o.box))},highlightOverlay:function(e,t){var i=this,n=i.marker;return t=Xt({data:{modelId:i.options.modelId}},t),n.getViewElements(e,Xt(t,{id:null,fill:n.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(e,t){var i=this,n=i.marker.box,o=i.options.aboveAxis;return new oi(n.x2+ro,o?n.y1-t:n.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Xt(J.fn,Mo),K=J.extend({init:function(e,t){var i=this;J.fn.init.call(i,e,t),i.category=e.category},options:{labels:{position:Hi},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o=n.border.width,r=i.markers,a=t.box.center(),s=r.size/2-o/2,l=n.border.color||new ti(r.background).brightness(Ti).toHex();return e.createCircle(a,s,{id:null,data:{modelId:t.options.modelId},stroke:l,strokeWidth:o,strokeOpacity:n.border.opacity})},toggleHighlight:function(e){var i,n=this,o=n.options.highlight.opacity;n.highlighted=!n.highlighted,i=n.marker.getViewElements(e,{fillOpacity:n.highlighted?o:t})[0],i.refresh(fi(this.options.id))}}),Q=ei.extend({init:function(e,t,i){var n=this;ei.fn.init.call(n),n.linePoints=e,n.series=t,n.seriesIx=i,n.options.id=wi(),n.enableDiscovery()},options:{},points:function(e){var t,i,n=this,o=n.linePoints.concat(e||[]),r=[],a=o.length;for(t=0;a>t;t++)i=o[t].markerBox().center(),r.push(new oi(i.x,i.y));return r},getViewElements:function(e){var t=this,i=t.series,n=i._defaults,o=i.color;return ei.fn.getViewElements.call(t,e),Ut(o)&&n&&(o=n.color),[e.createPolyline(t.points(),!1,{id:t.options.id,stroke:o,strokeWidth:i.width,strokeOpacity:i.opacity,fill:"",dashType:i.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(e,t){var i=this,n=i.seriesIx;return i.parent.getNearestPoint(t.x,t.y,n)}}),$={renderSegments:function(){var e,t,i,n,o,r,a,s=this,l=s.options,c=l.series,d=s.seriesPoints,h=d.length,u=[];for(t=0;h>t;t++){for(e=c[t],i=d[t],a=i.length,n=[],r=0;a>r;r++)o=i[r],o?n.push(o):s.seriesMissingValues(e)!==pn&&(n.length>1&&u.push(s.createSegment(n,e,t,mi(u))),n=[]);n.length>1&&u.push(s.createSegment(n,e,t,mi(u)))}s._segments=u,s.append.apply(s,u)},seriesMissingValues:function(e){var t=e.missingValues,i=!t&&this.options.isStacked;return i?wo:t},createSegment:function(e,t,i){return new Q(e,t,i)},getNearestPoint:function(e,t,i){var n,o,r,a,s,l=this,c=l.options.invertAxes,d=c?yo:mo,h=c?t:e,u=l.seriesPoints[i],p=bn,f=u.length;for(s=0;f>s;s++)n=u[s],n&&pi(n.value)&&null!==n.value&&(o=n.box,r=Ot.abs(o.center()[d]-h),p>r&&(a=n,p=r));return a}},Z=j.extend({init:function(e,t){var i=this;i._stackAxisRange={min:bn,max:wn},i._categoryTotals=[],i.enableDiscovery(),j.fn.init.call(i,e,t)},render:function(){var e=this;j.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,i,n){var o,r,a,s=this,l=e.value,c=s.options,d=c.isStacked,h=s.categoryPoints[i],u=s.seriesMissingValues(n),p=0,f=e.fields;if(!pi(l)||null===l){if(u!==wo)return null;l=0}return a=Xt({vertical:!c.invertAxes},n,{color:f.color}),s.evalPointOptions(a,l,t,i,n),r=new J(l,a),d&&(o=L(h),o&&(p=o.plotValue),r.plotValue=l+p),s.append(r),r},updateRange:function(e,t){var i,n=this,o=n.options.isStacked,a=n._stackAxisRange,s=n._categoryTotals;pi(e)&&(o?(u(s,t,e),i=r(s),a.min=Ot.min(a.min,i.min),a.max=Ot.max(a.max,i.max)):j.fn.updateRange.apply(n,arguments))},computeAxisRanges:function(){var e,t=this,i=t.options.isStacked;i&&(e=t.options.series[0].axis,t.valueAxisRanges[e]=t._stackAxisRange)},getViewElements:function(e){var t=this,i=j.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:Fi}});return n.children=i,[n]},bindableFields:function(){return["color"]}}),Xt(Z.fn,$),et=Q.extend({init:function(e,t,i,n){var o=this;o.stackPoints=t,Q.fn.init.call(o,e,i,n)},points:function(){var e,t,i=this,n=i.parent,o=n.plotArea,r=n.options.invertAxes,a=n.seriesValueAxis(i.series),s=a.lineBox(),l=o.seriesCategoryAxis(i.series),c=l.lineBox(),d=r?c.x1:c.y1,h=i.stackPoints,u=Q.fn.points.call(i,h),p=r?mo:yo;return d=D(d,s[p+1],s[p+2]),!i.stackPoints&&u.length>1&&(e=u[0],t=mi(u),r?(u.unshift(oi(d,e.y)),u.push(oi(d,t.y))):(u.unshift(oi(e.x,d)),u.push(oi(t.x,d)))),u},getViewElements:function(e){var t,i=this,n=i.series,o=n._defaults,r=n.color,a=Q.fn.points.call(i),s=i.points();return ei.fn.getViewElements.call(i,e),Ut(r)&&o&&(r=o.color),t=Xt({color:r,opacity:n.opacity},n.line),[e.createPolyline(s,!1,{id:i.options.id,fillOpacity:n.opacity,fill:r,stack:n.stack,data:{modelId:i.options.modelId},zIndex:-1}),e.createPolyline(a,!1,{stroke:t.color,strokeWidth:t.width,strokeOpacity:t.opacity,dashType:t.dashType,data:{modelId:i.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),tt=Z.extend({createSegment:function(e,t,i,n){var o,r=this,a=r.options;return a.isStacked&&i>0&&n&&(o=n.linePoints.slice(0).reverse()),new et(e,o,t,i)},seriesMissingValues:function(e){return e.missingValues||wo}}),it=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.plotArea=e,i.xAxisRanges={},i.yAxisRanges={},i.points=[],i.seriesPoints=[],i.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(Ht(e.addValue,e))},addValue:function(e,t){var i,n=this,o=e.x,r=e.y,a=t.seriesIx,s=n.seriesPoints[a];n.updateRange(e,t.series),pi(o)&&null!==o&&pi(r)&&null!==r&&(i=n.createPoint(e,t),i&&zt(i,t)),n.points.push(i),s.push(i)},updateRange:function(e,t){var i=this,n=e.x,o=e.y,r=t.xAxis,a=t.yAxis,s=i.xAxisRanges[r],l=i.yAxisRanges[a];pi(n)&&null!==n&&(s=i.xAxisRanges[r]=s||{min:bn,max:wn},typeof n===Jn&&(n=x(n)),s.min=Ot.min(s.min,n),s.max=Ot.max(s.max,n)),pi(o)&&null!==o&&(l=i.yAxisRanges[a]=l||{min:bn,max:wn},typeof o===Jn&&(o=x(o)),l.min=Ot.min(l.min,o),l.max=Ot.max(l.max,o))},evalPointOptions:function(e,t,i){var n=i.series;N(e,{value:t,series:n,dataItem:i.dataItem},{defaults:n._defaults,excluded:["data"]})},createPoint:function(e,t){var i,n,o=this,r=t.series;return n=Xt({markers:{opacity:r.opacity},tooltip:{format:o.options.tooltip.format},labels:{format:o.options.labels.format}},r,{color:t.color}),o.evalPointOptions(n,e,t),i=new J(e,n),o.append(i),i},seriesAxes:function(e){var t=this.plotArea,i=e.xAxis,n=i?t.namedXAxes[i]:t.axisX,o=e.yAxis,r=o?t.namedYAxes[o]:t.axisY;if(!n)throw Error("Unable to locate X axis with name "+i);if(!r)throw Error("Unable to locate Y axis with name "+o);return{x:n,y:r}},reflow:function(e){var t,i,n=this,o=n.points,r=0;n.traverseDataPoints(function(e,a){t=o[r++],i=n.seriesAxes(a.series);var s=i.x.getSlot(e.x,e.x),l=i.y.getSlot(e.y,e.y),c=new $t(s.x1,l.y1,s.x2,l.y2);t&&t.reflow(c)}),n.box=e},getViewElements:function(e){var t=this,i=ei.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:Fi}});return n.children=i,[n]},traverseDataPoints:function(e){var t,i,n,o,r,a,s,l=this,c=l.options,d=c.series,h=l.seriesPoints,u=l.bindableFields();for(i=0;d.length>i;i++)for(n=d[i],o=h[i],o||(h[i]=[]),t=0;n.data.length>t;t++)r=I(n,t,u),a=r.value,s=r.fields,e(a,Xt({pointIx:t,series:n,seriesIx:i,dataItem:n.data[t],owner:l},s))},bindableFields:function(){return["color"]},formatPointValue:function(e,t){var i=e.value;return ui(t,i.x,i.y)}}),nt=it.extend({render:function(){var e=this;it.fn.render.call(e),e.renderSegments()}}),Xt(nt.fn,$),ot=it.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var i,n=this,o=t.series,r=o.negativeValues,a=n.plotArea.options.seriesColors||[],s=!0;i=t.color||o.color||a[t.pointIx%a.length],0>e.size&&(i=r.color||i,s=r.visible),t.color=i,s&&it.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),it.fn.reflow.call(t,e)},createPoint:function(e,t){var i,n,o=this,r=t.series,a=r.data.length,s=t.pointIx*(dn/a),l={delay:s,duration:dn-s,type:Ri};return n=Xt({tooltip:{format:o.options.tooltip.format},labels:{format:o.options.labels.format,animation:l}},r,{color:t.color,markers:{type:Mi,background:t.color,border:r.border,opacity:r.opacity,animation:l}}),o.evalPointOptions(n,e,t),i=new K(e,n),o.append(i),i},updateBubblesSize:function(e){var t,i,n,o,r,a,s,l,c,d,h,u,p,f,g,x,v=this,m=v.options,y=m.series,b=Ot.min(e.width(),e.height());for(t=0;y.length>t;t++)for(n=y[t],o=v.seriesPoints[t],r=v.maxSize(o),a=n.minSize||Ot.max(.02*b,10),s=n.maxSize||.2*b,l=a/2,c=s/2,d=Ot.PI*l*l,h=Ot.PI*c*c,u=h-d,p=u/r,i=0;o.length>i;i++)f=o[i],g=Ot.abs(f.value.size)*p,x=Ot.sqrt((d+g)/Ot.PI),Xt(f.options,{markers:{size:2*x,zIndex:c-x},labels:{zIndex:c-x+1}})},maxSize:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t].value.size,o=Ot.max(o,Ot.abs(i));return o},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(e){var t=this,i=ei.fn.getViewElements.call(t,e),n=e.createGroup();return n.children=i,[n]},formatPointValue:function(e,t){var i=e.value;return ui(t,i.x,i.y,i.size,e.category)}}),rt=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.value=e,i.options.id=wi(),i.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:ln},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}}},reflow:function(e){var t,i,n,o=this,r=o.options,a=o.owner,s=o.value,l=a.seriesValueAxis(r),c=[];i=l.getSlot(s.open,s.close),n=l.getSlot(s.low,s.high),i.x1=n.x1=e.x1,i.x2=n.x2=e.x2,o.realBody=i,t=n.center().x,c.push([new oi(t,n.y1),new oi(t,i.y1)]),c.push([new oi(t,i.y2),new oi(t,n.y2)]),o.lowHighLinePoints=c,o.box=n.clone().wrap(i)},getViewElements:function(e){var t=this,i=t.options,n=[],o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,dashType:i.border.dashType,strokeOpacity:pi(i.border.opacity)?i.border.opacity:i.opacity}:{},r=Xt({fill:i.color,fillOpacity:i.opacity},o),a={strokeOpacity:pi(i.line.opacity)?i.line.opacity:i.opacity,strokeWidth:i.line.width,stroke:i.line.color||i.color,dashType:i.line.dashType,strokeLineCap:"butt"},s=e.createGroup({animation:{type:Fi}});return i.overlay&&(r.overlay=Xt({rotation:0},i.overlay)),n.push(e.createRect(t.realBody,r)),n.push(e.createPolyline(t.lowHighLinePoints[0],!1,a)),n.push(e.createPolyline(t.lowHighLinePoints[1],!1,a)),n.push(t.createOverlayRect(e,i)),hi(n,ei.fn.getViewElements.call(t,e)),s.children=n,[s]},getBorderColor:function(){var e=this,t=e.options,i=e.color,n=t.border,o=n.color;return pi(o)||(o=new ti(i).brightness(n._brightness).toHex()),o},createOverlayRect:function(e,t){return e.createRect(this.box,{data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var i=this,n=i.options,o=n.highlight,r=o.border,a=i.getBorderColor(),s=o.line,l={data:{modelId:n.modelId}},c=Xt({},l,t,{stroke:a,strokeOpacity:r.opacity,strokeWidth:r.width}),d=Xt({},l,{stroke:s.color||a,strokeWidth:s.width,strokeOpacity:s.opacity,strokeLineCap:"butt"}),h=e.createGroup();return h.children.push(e.createRect(i.realBody,c)),h.children.push(e.createPolyline(i.lowHighLinePoints[0],!1,d)),h.children.push(e.createPolyline(i.lowHighLinePoints[1],!1,d)),h},tooltipAnchor:function(){var e=this,t=e.box;return new oi(t.x2+ro,t.y1+ro)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Xt(rt.fn,Mo),at=j.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},addValue:function(e,t,i,n,o){var r,a,s=this,l=s.options,c=e.value,d=s.children,h=e.fields.color||n.color,u=this.splitValue(c),p=H(u),f=s.categoryPoints[i],g=n.data[i];f||(s.categoryPoints[i]=f=[]),p&&(n.type==Oi&&c.open>c.close&&(h=e.fields.downColor||n.downColor),r=s.createPoint(c,t,i,Xt({},n,{color:h}))),a=d[i],a||(a=new Ho({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(a)),r&&(s.updateRange(c,i,n),a.append(r),r.categoryIx=i,r.category=t,r.series=n,r.seriesIx=o,r.owner=s,r.dataItem=g),s.points.push(r),f.push(r)},pointType:function(){return rt},createPoint:function(e,t,i,n){var o=this,r=Xt({},n),a=o.pointType();return o.evalPointOptions(r,e,t,i,n),new a(e,r)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,i){var n=this,o=i.axis,r=n.valueAxisRanges[o],a=n.splitValue(e);r=n.valueAxisRanges[o]=r||{min:bn,max:wn},r=n.valueAxisRanges[o]={min:Ot.min.apply(Ot,a.concat([r.min])),max:Ot.max.apply(Ot,a.concat([r.max]))}},formatPointValue:function(e,t){var i=e.value;return ui(t,i.open,i.high,i.low,i.close,e.category)}}),st=rt.extend({reflow:function(e){var t,i,n,o,r=this,a=r.options,s=r.owner,l=r.value,c=s.seriesValueAxis(a),d=[],h=[],u=[];o=c.getSlot(l.low,l.high),i=c.getSlot(l.open,l.open),n=c.getSlot(l.close,l.close),i.x1=n.x1=o.x1=e.x1,i.x2=n.x2=o.x2=e.x2,t=o.center().x,d.push(new oi(i.x1,i.y1)),d.push(new oi(t,i.y1)),h.push(new oi(t,n.y1)),h.push(new oi(n.x2,n.y1)),u.push(new oi(t,o.y1)),u.push(new oi(t,o.y2)),r.oPoints=d,r.cPoints=h,r.lhPoints=u,r.box=o.clone().wrap(i.clone().wrap(n))},getViewElements:function(e){var t=this,i=t.options,n=[],o={strokeOpacity:i.opacity,zIndex:-1,strokeWidth:i.width,stroke:i.color,dashType:i.dashType},r=e.createGroup({animation:{type:Fi}});return n.push(t.createOverlayRect(e,i)),n.push(e.createPolyline(t.oPoints,!0,o)),n.push(e.createPolyline(t.cPoints,!0,o)),n.push(e.createPolyline(t.lhPoints,!0,o)),hi(n,ei.fn.getViewElements.call(t,e)),r.children=n,[r]},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o={data:{modelId:i.modelId}},r=Xt(o,{strokeWidth:n.line.width,strokeOpacity:n.line.opacity,stroke:n.line.color||t.color}),a=e.createGroup();return a.children.push(e.createPolyline(t.oPoints,!0,r)),a.children.push(e.createPolyline(t.cPoints,!0,r)),a.children.push(e.createPolyline(t.lhPoints,!0,r)),a}}),lt=at.extend({pointType:function(){return st},bindableFields:function(){return["color"]}}),ct=ei.extend({init:function(e,t,i){var n=this;n.value=e,n.sector=t,n.enableDiscovery(),ei.fn.init.call(n,i)},options:{color:vo,overlay:{gradient:Mn},border:{width:.5},labels:{visible:!1,distance:35,font:Ki,margin:gi(.5),align:Mi,zIndex:1,position:En},animation:{type:Ln},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var e,t=this,i=t.options,n=i.labels,o=t.value;t._rendered||t.visible===!1||(t._rendered=!0,n.template?(e=Yt(n.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):n.format&&(o=ui(n.format,o)),n.visible&&o&&(t.label=new li(o,Xt({},n,{id:wi(),align:Hi,vAlign:"",animation:{type:sn,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,i,n,o=this,r=o.sector.clone(),a=o.options,s=o.label,l=a.labels,c=l.distance,d=r.middle();s&&(n=s.box.height(),i=s.box.width(),l.position==Hi?(r.r=Ot.abs((r.r-n)/2)+n,e=r.point(d),s.reflow($t(e.x,e.y-n/2,e.x,e.y))):l.position==un?(r.r=r.r-n/2,e=r.point(d),s.reflow($t(e.x,e.y-n/2,e.x,e.y))):(e=r.clone().expand(c).point(d),e.x>=r.c.x?(t=e.x+i,s.orientation=Un):(t=e.x-i,s.orientation=fn),s.reflow($t(t,e.y-n,e.x,e.y))))},getViewElements:function(e){var t=this,i=t.sector,n=t.options,o=n.border||{},r=o.width>0?{stroke:o.color,strokeWidth:o.width,strokeOpacity:o.opacity,dashType:o.dashType}:{},a=[],s=n.overlay;return s&&(s=Xt({},n.overlay,{r:i.r,ir:i.ir,cx:i.c.x,cy:i.c.y,bbox:i.getBBox()})),t.value&&a.push(t.createSegment(e,i,Xt({id:n.id,fill:n.color,overlay:s,fillOpacity:n.opacity,strokeOpacity:n.opacity,animation:Xt(n.animation,{delay:t.animationDelay}),data:{modelId:n.modelId},zIndex:n.zIndex,singleSegment:1===(t.options.data||[]).length},r))),hi(a,ei.fn.getViewElements.call(t,e)),a},createSegment:function(e,t,i){return i.singleSegment?e.createCircle(t.c,t.r,i):e.createSector(t,i)},highlightOverlay:function(e,t){var i,n=this,o=n.options.highlight||{},r=o.border||{},a=n.options.id+Rn;return t=Xt({},t,{id:a}),0!==n.value&&(i=n.createSegment(e,n.sector,Xt({},t,{fill:o.color,fillOpacity:o.opacity,strokeOpacity:r.opacity,strokeWidth:r.width,stroke:r.color,id:null,data:{modelId:n.options.modelId}}))),i},tooltipAnchor:function(e,t){var i=this,n=i.sector.clone().expand(ro),o=e/2,r=t/2,a=n.middle(),s=a*en,l=n.point(a),c=l.x-o,d=l.y-r,h=Ot.sin(s),u=Ot.cos(s);return.9>Ot.abs(h)&&(c+=o*-u/Ot.abs(u)),.9>Ot.abs(u)&&(d+=r*-h/Ot.abs(h)),new oi(c,d)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Xt(ct.fn,Mo),dt=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.plotArea=e,i.segments=[],i.legendItems=[],i.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var e=this;e.traverseDataPoints(Ht(e.addValue,e))},traverseDataPoints:function(e){var t,i,n,o,r,a,s,l,c,d,h,u,p=this,f=p.options,g=p.plotArea.options.seriesColors||[],x=g.length,v=f.series,m=v.length,y=wi(),b=p.bindableFields(),w=0;for(o=0;m>o;o++){for(t=v[o],a=t.data,d=p.pointsTotal(t,b),s=360/d,h=pi(t.startAngle)?t.startAngle:f.startAngle,o!=m-1&&t.labels.position==En&&(t.labels.position=Hi),u=0;a.length>u;u++)i=I(t,u,b),l=i.value,n=i.fields,r=yi(l*s,$i),c=1!=a.length&&!!n.explode,Ut(t.color)||(t.color=n.color||g[u%x]),e(l,new ai(null,0,0,h,r),{owner:p,category:n.category||"",index:w,series:t,seriesIx:o,dataItem:a[u],percentage:l/d,explode:c,visibleInLegend:n.visibleInLegend,visible:n.visible,overlay:{id:y+o},zIndex:m-o,animationDelay:p.animationDelay(u,o,m)}),i.fields.visible!==!1&&(h+=r),w++;w=0}},bindableFields:function(){return["category","color","explode","visibleInLegend","visible"]},evalSegmentOptions:function(e,t,i){var n=i.series;N(e,{value:t,series:n,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:n._defaults,excluded:["data"]})},addValue:function(e,t,i){var n,o,r=this;r.createLegendItem(e,i),i.visible!==!1&&(o=Xt({},i.series),r.evalSegmentOptions(o,e,i),n=new ct(e,t,o),n.options.id=wi(),zt(n,i),r.append(n),r.segments.push(n))},createLegendItem:function(e,t){var i,n,o,r,a=this,s=(a.options.legend||{}).labels||{},l=(a.options.legend||{}).inactiveItems||{};t&&t.visibleInLegend!==!1&&(i=t.category||"",(s||{}).template&&(n=Yt(s.template),i=n({text:i,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),t.visible===!1?(o=(l.markers||{}).color,r=(l.labels||{}).color):(o=(t.series||{}).color,r=s.color),a.legendItems.push({pointIndex:t.index,text:i,series:t.series,markerColor:o,labelColor:r}))},pointsTotal:function(e,t){var i,n,o,r=e.data,a=r.length,s=0;for(n=0;a>n;n++)o=I(e,n,t),i=o.value,i&&o.fields.visible!==!1&&(s+=i);return s},reflow:function(e){var t,i,n,o,r,a,s,l,c=this,d=c.options,h=e.clone(),u=5,p=Ot.min(h.width(),h.height()),f=p/2,g=p-.85*p,x=pi(d.padding)?d.padding:g,v=$t(h.x1,h.y1,h.x1+p,h.y1+p),m=v.center(),y=c.seriesConfigs||[],b=h.center(),w=c.segments,_=w.length,A=d.series.length,k=[],C=[];for(x=x>f-u?f-u:x,v.translate(b.x-m.x,b.y-m.y),a=f-x,l=oi(a+v.x1+x,a+v.y1+x),s=0;_>s;s++)o=w[s],r=o.sector,r.r=a,r.c=l,i=o.seriesIx,y.length&&(t=y[i],r.ir=t.ir,r.r=t.r),i==A-1&&o.explode&&(r.c=r.clone().radius(.15*r.r).point(r.middle())),o.reflow(v),n=o.label,n&&n.options.position===En&&i==A-1&&(n.orientation===Un?C.push(n):k.push(n));k.length>0&&(k.sort(c.labelComparator(!0)),c.leftLabelsReflow(k)),C.length>0&&(C.sort(c.labelComparator(!1)),c.rightLabelsReflow(C)),c.box=v},leftLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},rightLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},distanceBetweenLabels:function(e){var t,i,n,o=this,r=o.segments,a=r[r.length-1],s=a.sector,l=e[0].box,c=e.length-1,d=s.r+a.options.labels.distance,h=[];for(i=yi(l.y1-(s.c.y-d-l.height()-l.height()/2)),h.push(i),n=0;c>n;n++)l=e[n].box,t=e[n+1].box,i=yi(t.y1-l.y2),h.push(i);return i=yi(s.c.y+d-e[c].box.y2-e[c].box.height()/2),h.push(i),h},distributeLabels:function(e,t){var i,n,o,r,a=this,s=e.length;for(r=0;s>r;r++)for(n=o=r,i=-e[r];i>0&&(n>=0||s>o);)i=a._takeDistance(e,r,--n,i),i=a._takeDistance(e,r,++o,i);a.reflowLabels(e,t)},_takeDistance:function(e,t,i,n){if(e[i]>0){var o=Ot.min(e[i],n);n-=o,e[i]-=o,e[t]+=o}return n},reflowLabels:function(e,t){var i,n,o,r,a=this,s=a.segments,l=s[s.length-1],c=l.sector,d=t.length,h=l.options.labels,u=h.distance,p=c.c.y-(c.r+u)-t[0].box.height();for(e[0]+=2,r=0;d>r;r++)i=t[r],p+=e[r],o=i.box,n=a.hAlignLabel(o.x2,c.clone().expand(u),p,p+o.height(),i.orientation==Un),i.orientation==Un?(h.align!==Mi&&(n=c.r+c.c.x+u),i.reflow(new $t(n+o.width(),p,n,p))):(h.align!==Mi&&(n=c.c.x-c.r-u),i.reflow(new $t(n-o.width(),p,n,p))),p+=o.height()
},getViewElements:function(e){var t,i,n,o,r,s,l,c,d,h,u,p,f,g,x,v=this,m=v.options,y=m.connectors,b=v.segments,w=[],_=b.length,A=4;for(c=0;_>c;c++)r=b[c],i=r.sector,n=i.middle(),l=r.label,s={seriesId:r.seriesIx},l&&(o=[],l.options.position===En&&0!==r.value&&(p=l.box,f=i.c,g=i.point(n),x=oi(p.x1,p.center().y),g=i.clone().expand(y.padding).point(n),o.push(g),l.orientation==Un?(h=oi(p.x1-y.padding,p.center().y),u=a(f,g,x,h),x=oi(h.x-A,h.y),u=u||x,u.x=Ot.min(u.x,x.x),v.pointInCircle(u,i.c,i.r+A)||u.x<i.c.x?(d=i.c.x+i.r+A,r.options.labels.align!==ji?x.x>d?o.push(oi(d,g.y)):o.push(oi(g.x+2*A,g.y)):o.push(oi(d,g.y)),o.push(oi(x.x,h.y))):(u.y=h.y,o.push(u))):(h=oi(p.x2+y.padding,p.center().y),u=a(f,g,x,h),x=oi(h.x+A,h.y),u=u||x,u.x=Ot.max(u.x,x.x),v.pointInCircle(u,i.c,i.r+A)||u.x>i.c.x?(d=i.c.x-i.r-A,r.options.labels.align!==ji?d>x.x?o.push(oi(d,g.y)):o.push(oi(g.x-2*A,g.y)):o.push(oi(d,g.y)),o.push(oi(x.x,h.y))):(u.y=h.y,o.push(u))),o.push(h),t=e.createPolyline(o,!1,{id:wi(),stroke:y.color,strokeWidth:y.width,animation:{type:sn,delay:r.animationDelay},data:{modelId:r.options.modelId}}),w.push(t)));return hi(w,ei.fn.getViewElements.call(v,e)),w},labelComparator:function(e){return e=e?-1:1,function(t,i){return t=(t.parent.sector.middle()+270)%360,i=(i.parent.sector.middle()+270)%360,(t-i)*e}},hAlignLabel:function(e,t,i,n,o){var r=t.c.x,a=t.c.y,s=t.r,l=Ot.min(Ot.abs(a-i),Ot.abs(a-n));return l>s?e:r+Ot.sqrt(s*s-l*l)*(o?1:-1)},pointInCircle:function(e,t,i){return f(t.x-e.x)+f(t.y-e.y)<f(i)},formatPointValue:function(e,t){return ui(t,e.value)},animationDelay:function(e){return e*On}}),ht=ct.extend({options:{overlay:{gradient:Nn},labels:{position:Hi},animation:{type:Ln}},reflowLabel:function(){var e,t,i=this,n=i.sector.clone(),o=i.options,r=i.label,a=o.labels,s=n.middle();r&&(t=r.box.height(),a.position==Hi?(n.r-=(n.r-n.ir)/2,e=n.point(s),r.reflow(new $t(e.x,e.y-t/2,e.x,e.y))):ct.fn.reflowLabel.call(i))},createSegment:function(e,t,i){return e.createRing(t,i)}}),Xt(ht.fn,Mo),ut=dt.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,i){var n,o,r=this;r.createLegendItem(e,i),e&&i.visible!==!1&&(o=Xt({},i.series),r.evalSegmentOptions(o,e,i),n=new ht(e,t,o),n.options.id=wi(),zt(n,i),r.append(n),r.segments.push(n))},reflow:function(e){var t,i,n,o,r,a,s=this,l=s.options,c=e.clone(),d=5,h=Ot.min(c.width(),c.height()),u=h/2,p=h-.85*h,f=pi(l.padding)?l.padding:p,g=l.series,x=g.length,v=0,m=0,y=0,b=0;for(s.seriesConfigs=[],f=f>u-d?u-d:f,n=u-f,r=0;x>r;r++)t=g[r],0===r&&pi(t.holeSize)&&(i=t.holeSize,n-=t.holeSize),pi(t.size)?n-=t.size:v++,pi(t.margin)&&r!=x-1&&(n-=t.margin);for(pi(i)||(b=(u-f)/(x+.75),i=.75*b,n-=i),y=i,r=0;x>r;r++)t=g[r],o=pi(t.size)?t.size:n/v,y+=m,a=y+o,s.seriesConfigs.push({ir:y,r:a}),m=t.margin||0,y=a;dt.fn.reflow.call(s,e)},animationDelay:function(e,t,i){return e*nn+dn*(t+1)/(i+1)}}),pt=Zt.extend({init:function(e){var t=this;Zt.fn.init.call(t,e),e=t.options,e.id=wi(),t.title=ci.buildTitle(e.title,t,pt.fn.options.title),t.content=new ei,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:fn},visible:!0},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e,t=this,i=t.parent;if(i){for(e=0;t.axes.length>e;e++)i.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)i.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.destroy(),t.content.children=[]},reflow:function(e){var t=this;mi(t.children)===t.content&&t.children.pop(),Zt.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,i=j.fn.getViewElements.call(t,e),n=e.createGroup({id:t.options.id}),o=[];return n.children=i.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,t.options.visible&&(o=[n]),o},renderGridLines:function(e){var t,i,n,o,r,a,s=this,l=s.axes,c=l.concat(s.parent.axes),d=[],h=[];for(i=0;l.length>i;i++)for(o=l[i],r=o.options.vertical,t=r?d:h,n=0;c.length>n;n++)0===t.length&&(a=c[n],r!==a.options.vertical&&hi(t,o.renderGridLines(e,a,o)));return d.concat(h)},refresh:function(){var e=this,t=e.view,i=fi(e.options.id);t&&i&&i.parentNode.replaceChild(t.renderElement(e.getViewElements(t)[0]),i)}}),ft=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.series=e,i.setSeriesIndexes(),i.charts=[],i.options.legend.items=[],i.axes=[],i.crosshairs=[],i.options.id=wi(),i.enableDiscovery(),i.createPanes(),i.render(),i.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Di,width:0},legend:{}},setSeriesIndexes:function(){var e,t,i=this.series;for(e=0;i.length>e;e++)t=i[e],t.index=e},createPanes:function(){var e,t,i=this,n=[],o=i.options.panes||[],r=Ot.max(o.length,1);for(e=0;r>e;e++)t=new pt(o[e]),t.paneIndex=e,n.push(t),i.append(t);i.panes=n},destroy:function(){var e,t=this,i=t.charts,n=t.axes;for(e=0;i.length>e;e++)i[e].destroy();for(e=0;n.length>e;e++)n[e].destroy();ei.fn.destroy.call(t)},createCrosshairs:function(){var e,t,i,n,o,r=this,a=r.panes;for(e=0;a.length>e;e++)for(i=a[e],t=0;i.axes.length>t;t++)n=i.axes[t],n.options.crosshair&&n.options.crosshair.visible&&(o=new Tt(n,n.options.crosshair),r.crosshairs.push(o),r.append(o))},findPane:function(e){var t,i,n=this,o=n.panes;for(t=0;o.length>t;t++)if(o[t].options.name===e){i=o[t];break}return i||o[0]},findPointPane:function(e){var t,i,n=this,o=n.panes;for(t=0;o.length>t;t++)if(o[t].box.containsPoint(e)){i=o[t];break}return i},appendAxis:function(e){var t=this,i=t.findPane(e.options.pane);i.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,i,n=this,o=[];for(t=0;n.axes.length>t;t++)i=n.axes[t],e!==i&&o.push(i);n.axes=o},appendChart:function(e,t){var i=this;i.charts.push(e),t?t.appendChart(e):i.append(e)},removeChart:function(e){var t,i,n=this,o=[];for(t=0;n.charts.length>t;t++)i=n.charts[t],i!==e&&o.push(i);n.charts=o},addToLegend:function(e){var t,i,n,o,r,a,s,l=e.length,c=[],d=this.options.legend,h=d.labels||{},u=d.inactiveItems||{};for(t=0;l>t;t++)i=e[t],i.visibleInLegend!==!1&&(n=i.name||"",h.template&&(n=Yt(h.template)({text:n,series:i})),o=i.color,s=i._defaults,Ut(o)&&s&&(o=s.color),i.visible===!1?(r=u.labels.color,a=u.markers.color):(r=h.color,a=o),c.push({text:n,labelColor:r,markerColor:a,series:i,active:i.visible}));hi(d.items,c)},groupAxes:function(e){var t,i,n,o,r=[],a=[];for(n=0;e.length>n;n++)for(t=e[n].axes,o=0;t.length>o;o++)i=t[o],i.options.vertical?a.push(i):r.push(i);return{x:r,y:a,any:r.concat(a)}},groupSeriesByPane:function(){var e,t,i,n=this,o=n.series,r={};for(e=0;o.length>e;e++)i=o[e],t=n.seriesPaneName(i),r[t]?r[t].push(i):r[t]=[i];return r},filterSeriesByType:function(e,t){var i,n,o=[];for(t=[].concat(t),i=0;e.length>i;i++)n=e[i],xi(n.type,t)&&o.push(n);return o},filterVisibleSeries:function(e){var t,i,n=[];for(t=0;e.length>t;t++)i=e[t],i.visible!==!1&&n.push(i);return n},reflow:function(e){var t=this,i=t.options.plotArea,n=t.panes,o=gi(i.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(n),t.reflowCharts(n)},redraw:function(e){var t,i=this;for(e=[].concat(e),t=0;e.length>t;t++)e[t].empty();for(i.render(e),i.reflowAxes(i.panes),i.reflowCharts(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var i,n=e.options,o=[].concat(n.axisCrossingValues||n.axisCrossingValue),r=t.length-o.length,a=o[0]||0;for(i=0;r>i;i++)o.push(a);return o},alignAxisTo:function(e,t,i,n){var o=e.getSlot(i,i),r=e.options.reverse?2:1,a=t.getSlot(n,n),s=t.options.reverse?2:1,l=e.box.translate(a[mo+s]-o[mo+r],a[yo+s]-o[yo+r]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var i,n,o,r,a=this,s=e[0],l=t[0],c=a.axisCrossingValues(s,t),d=a.axisCrossingValues(l,e),h={},u={},p={},f={};for(r=0;t.length>r;r++)o=t[r],i=o.pane,n=i.options.id,a.alignAxisTo(o,s,d[r],c[r]),o.options._overlap||(yi(o.lineBox().x1)===yi(s.lineBox().x1)&&(h[n]&&o.reflow(o.box.alignTo(h[n].box,fn).translate(-o.options.margin,0)),h[n]=o),yi(o.lineBox().x2)===yi(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,s,d[r],c[r]),u[n]&&o.reflow(o.box.alignTo(u[n].box,Un).translate(o.options.margin,0)),u[n]=o),0!==r&&l.pane===o.pane&&o.alignTo(l));for(r=0;e.length>r;r++)o=e[r],i=o.pane,n=i.options.id,a.alignAxisTo(o,l,c[r],d[r]),o.options._overlap||(yi(o.lineBox().y1)===yi(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,l,c[r],d[r]),p[n]&&o.reflow(o.box.alignTo(p[n].box,no).translate(0,-o.options.margin)),p[n]=o),yi(o.lineBox().y2,Wi)===yi(l.lineBox().y2,Wi)&&(f[n]&&o.reflow(o.box.alignTo(f[n].box,Ei).translate(0,o.options.margin)),f[n]=o),0!==r&&o.alignTo(s))},shrinkAxisWidth:function(e){var t,i,n,o=this,r=o.groupAxes(e).any,a=B(r),s=0;for(t=0;e.length>t;t++)i=e[t],i.axes.length>0&&(s=Ot.max(s,a.width()-i.contentBox.width()));for(t=0;r.length>t;t++)n=r[t],n.options.vertical||n.reflow(n.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,i,n,o,r,a;for(t=0;e.length>t;t++)for(i=e[t],n=i.axes,o=Ot.max(0,B(n).height()-i.contentBox.height()),r=0;n.length>r;r++)a=n[r],a.options.vertical&&a.reflow(a.box.shrink(0,o))},fitAxes:function(e){var t,i,n,o,r,a,s,l,c=this,d=c.groupAxes(e).any,h=0;for(s=0;e.length>s;s++)if(r=e[s],t=r.axes,i=r.contentBox,t.length>0)for(n=B(t),h=Ot.max(h,i.x1-n.x1),o=Ot.max(i.y1-n.y1,i.y2-n.y2),l=0;t.length>l;l++)a=t[l],a.reflow(a.box.translate(0,o));for(s=0;d.length>s;s++)a=d[s],a.reflow(a.box.translate(h,0))},reflowAxes:function(e){var t,i=this,n=i.groupAxes(e);for(t=0;e.length>t;t++)i.reflowPaneAxes(e[t]);n.x.length>0&&n.y.length>0&&(i.alignAxes(n.x,n.y),i.shrinkAxisWidth(e),i.alignAxes(n.x,n.y),i.shrinkAxisHeight(e),i.alignAxes(n.x,n.y),i.fitAxes(e))},reflowPaneAxes:function(e){var t,i=e.axes,n=i.length;if(n>0)for(t=0;n>t;t++)i[t].reflow(e.contentBox)},reflowCharts:function(e){var t,i,n=this,o=n.charts,r=o.length,a=n.box;for(i=0;r>i;i++)t=o[i].pane,(!t||xi(t,e))&&o[i].reflow(a)},reflowPanes:function(){var e,t,i,n,o,r=this,a=r.box,s=r.panes,l=s.length,c=a.height(),d=l,h=0,u=a.y1;for(e=0;l>e;e++)t=s[e],n=t.options.height,t.options.width=a.width(),t.options.height?(n.indexOf&&n.indexOf("%")&&(o=parseInt(n,10)/100,t.options.height=o*a.height()),t.reflow(a.clone()),c-=t.options.height):h++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/h);for(e=0;l>e;e++)t=s[e],i=a.clone().move(a.x1,u),t.reflow(i),d--,u+=t.options.height},backgroundBox:function(){var e,t,i,n,o,r,a=this,s=a.axes,l=s.length;for(i=0;l>i;i++)for(o=s[i],n=0;l>n;n++)r=s[n],o.options.vertical!==r.options.vertical&&(e=o.lineBox().clone().wrap(r.lineBox()),t=t?t.wrap(e):e);return t||a.box},getViewElements:function(e){var t=this,i=t.backgroundBox(),n=t.options,o=n.plotArea,r=o.border||{},a=ei.fn.getViewElements.call(t,e);return hi(a,[e.createRect(i,{fill:o.background,fillOpacity:o.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(i,{id:n.id,data:{modelId:n.modelId},stroke:r.width?r.color:"",strokeWidth:r.width,fill:vo,fillOpacity:0,zIndex:-1,dashType:r.dashType})]),a},pointsByCategoryIndex:function(e){var t,i,n,o,r,a=this.charts,s=[];if(null!==e)for(t=0;a.length>t;t++)if(r=a[t],"_navigator"!==r.pane.options.name&&(n=a[t].categoryPoints[e],n&&n.length))for(i=0;n.length>i;i++)o=n[i],o&&pi(o.value)&&null!==o.value&&s.push(o);return s},pointsBySeriesIndex:function(e){var t,i,n,o,r,a=this.charts,s=[];for(n=0;a.length>n;n++)for(r=a[n],t=r.points,o=0;t.length>o;o++)i=t[o],i.options.index===e&&s.push(i);return s},paneByPoint:function(e){var t,i,n=this,o=n.panes;for(i=0;o.length>i;i++)if(t=o[i],t.box.containsPoint(e))return t}}),gt=ft.extend({init:function(e,t){var i=this;i.namedCategoryAxes={},i.namedValueAxes={},i.valueAxisRangeTracker=new xt,e.length>0&&(i.invertAxes=xi(e[0].type,[Si,Li,go,po])),ft.fn.init.call(i,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateDateSeries(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,i=e.options.name;ft.fn.removeAxis.call(t,e),e instanceof Ro?delete t.namedCategoryAxes[i]:(t.valueAxisRangeTracker.reset(i),delete t.namedValueAxes[i]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,i,n,o,r=this,a=r.groupSeriesByPane();for(t=0;e.length>t;t++)i=e[t],n=a[i.options.name||"default"]||[],r.addToLegend(n),o=r.filterVisibleSeries(n),o&&(r.createAreaChart(r.filterSeriesByType(o,[ki,po]),i),r.createBarChart(r.filterSeriesByType(o,[ji,Si]),i),r.createLineChart(r.filterSeriesByType(o,[vn,go]),i),r.createCandlestickChart(r.filterSeriesByType(o,Oi),i),r.createOHLCChart(r.filterSeriesByType(o,Bn),i),r.createBulletChart(r.filterSeriesByType(o,[Li,fo]),i))},aggregateDateSeries:function(e){var t,n,o,r,a,s,l,c,d,h,u,p,f,g,x,v,m,y=this,b=y.srcSeries||y.series,w=[];for(l=0;b.length>l;l++){if(c=b[l],d=Xt({},c),t=y.seriesCategoryAxis(c),n=y.findPane(t.options.pane),xi(n,e)&&E(t.options.type,Gi))for(o=t.options.categories,r=t.categoryMap,h=d.data,d.data=u=[],a=0;o.length>a;a++){for(s=r[a],p=[],m=[],f=0;s.length>f;f++)g=s[f],x=I(c,g),v=x.value,pi(v)&&p.push(x.value),m.push(c.data[g]);u[a]=p.length>1?i(p,c,m):h[s[0]]}w.push(d)}y.srcSeries=b,y.series=w},appendChart:function(e,t){for(var i=this,n=e.options.series,o=i.seriesCategoryAxis(n[0]),r=o.options.categories,a=Ot.max(0,p(n)-r.length);a--;)r.push("");i.valueAxisRangeTracker.update(e.valueAxisRanges),ft.fn.appendChart.call(i,e,t)},seriesPaneName:function(t){var i=this,n=i.options,o=t.axis,r=[].concat(n.valueAxis),a=e.grep(r,function(e){return e.name===o})[0],s=n.panes||[{}],l=(s[0]||{}).name||"default",c=(a||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,i=e.categoryAxis,n=i?t.namedCategoryAxes[i]:t.categoryAxis;if(!n)throw Error("Unable to locate category axis with name "+i);return n},createBarChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new W(i,{series:e,invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,gap:n.gap,spacing:n.spacing});i.appendChart(o,t)}},createBulletChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new Y(i,{series:e,invertAxes:i.invertAxes,gap:n.gap,spacing:n.spacing});i.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new Z(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createAreaChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new tt(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createOHLCChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new lt(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new at(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},axisRequiresRounding:function(e,t){var i,n,o=this,r=o.filterSeriesByType(o.series,[Si,ji,Bn,Oi]);for(i=0;r.length>i;i++)if(n=r[i].categoryAxis||"",n===e||!n&&0===t)return!0},createCategoryAxes:function(e){var t,i,n,o,r,a,s,l,c,d=this,h=d.invertAxes,u=[].concat(d.options.categoryAxis),p=[];for(t=0;u.length>t;t++)if(i=u[t],n=d.findPane(i.pane),xi(n,e)){if(a=i.name,o=i.categories||[],s=o[0]instanceof Date,r=i.type||"",i=Xt({vertical:h,axisCrossingValue:h?bn:0},i),pi(i.justified)||(i.justified=d.inJustified()),d.axisRequiresRounding(a,t)&&(i.justified=!1,i.roundToBaseUnit=!0),l=!r&&s||E(r,Gi)?new Oo(i):new Ro(i),a){if(d.namedCategoryAxes[a])throw Error("Category axis with name "+a+" is already defined");d.namedCategoryAxes[a]=l}l.axisIndex=t,p.push(l),d.appendAxis(l)}c=d.categoryAxis||p[0],d.categoryAxis=c,h?d.axisY=c:d.axisX=c},inJustified:function(){var e,t,i=this,n=i.series;for(e=0;n.length>e;e++)if(t=n[e],t.type!==ki)return!1;return!0},createValueAxes:function(e){var t,i,n,o,r,a,s,l=this,c=l.valueAxisRangeTracker,d=c.query(),h=[].concat(l.options.valueAxis),u=l.invertAxes,p={vertical:!u},f=[];for(s=0;h.length>s;s++)if(t=h[s],i=l.findPane(t.pane),xi(i,e)){if(a=t.name,r=c.query(a)||d||{min:0,max:1},0===s&&r&&d&&(r.min=Ot.min(r.min,d.min),r.max=Ot.max(r.max,d.max)),n=new ni(r.min,r.max,Xt({},p,t)),a){if(l.namedValueAxes[a])throw Error("Value axis with name "+a+" is already defined");l.namedValueAxes[a]=n}n.axisIndex=s,f.push(n),l.appendAxis(n)}o=l.valueAxis||f[0],l.valueAxis=o,u?l.axisX=o:l.axisY=o},click:function(t,i){var n,o,r,a=this,s=t._eventCoordinates(i),l=new oi(s.x,s.y),c=a.pointPane(l),d=[],h=[];if(c){for(n=c.axes,o=0;n.length>o;o++)r=n[o],r.getValue?O(h,r.getValue(l)):O(d,r.getCategory(l));0===d.length&&O(d,a.categoryAxis.getCategory(l)),d.length>0&&h.length>0&&t.trigger(zn,{element:e(i.target),category:V(d),value:V(h)})}},pointPane:function(e){var t,i,n=this,o=n.panes;for(i=0;o.length>i;i++)if(t=o[i],t.contentBox.containsPoint(e))return t}}),xt=Nt.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,i,n,o=this,r=o.axisRanges;for(n in e)t=r[n],i=e[n],r[n]=t=t||{min:bn,max:wn},t.min=Ot.min(t.min,i.min),t.max=Ot.max(t.max,i.max)},reset:function(e){this.axisRanges[e]=t},query:function(e){return this.axisRanges[e]}}),vt=ft.extend({init:function(e,t){var i=this;i.namedXAxes={},i.namedYAxes={},i.xAxisRangeTracker=new xt,i.yAxisRangeTracker=new xt,ft.fn.init.call(i,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,i,n,o,r=this,a=r.groupSeriesByPane();for(e=e||r.panes,t=0;e.length>t;t++)i=e[t],n=a[i.options.name||"default"]||[],r.addToLegend(n),o=r.filterVisibleSeries(n),o&&(r.createScatterChart(r.filterSeriesByType(o,Fn),i),r.createScatterLineChart(r.filterSeriesByType(o,jn),i),r.createBubbleChart(r.filterSeriesByType(o,Ri),i));r.createAxes(e)},appendChart:function(e,t){var i=this;i.xAxisRangeTracker.update(e.xAxisRanges),i.yAxisRangeTracker.update(e.yAxisRanges),ft.fn.appendChart.call(i,e,t)},removeAxis:function(e){var t=this,i=e.options.name;ft.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(i),delete t.namedYAxes[i]):(t.xAxisRangeTracker.reset(i),delete t.namedXAxes[i]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var i=this,n=i.options,o=t.xAxis,r=[].concat(n.xAxis),a=e.grep(r,function(e){return e.name===o})[0],s=t.yAxis,l=[].concat(n.yAxis),c=e.grep(l,function(e){return e.name===s})[0],d=n.panes||[{}],h=d[0].name||"default",u=(a||{}).pane||(c||{}).pane||h;return u},createScatterChart:function(e,t){var i=this;e.length>0&&i.appendChart(new it(i,{series:e}),t)},createScatterLineChart:function(e,t){var i=this;e.length>0&&i.appendChart(new nt(i,{series:e}),t)},createBubbleChart:function(e,t){var i=this;e.length>0&&i.appendChart(new ot(i,{series:e}),t)},createXYAxis:function(e,t,i){var n,o,r,a,s,l,c,d=this,h=e.name,u=t?d.namedYAxes:d.namedXAxes,p=t?d.yAxisRangeTracker:d.xAxisRangeTracker,f=p.query(),g=p.query(h)||f||{min:0,max:1},x=Xt({},e,{vertical:t}),v=d.series,m=[x.min,x.max];for(o=0;v.length>o;o++)if(r=v[o],a=r[t?"yAxis":"xAxis"],a==x.name||0===i&&!a){s=I(r,0).value,m.push(s[t?"y":"x"]);break}for(0===i&&f&&(g.min=Ot.min(g.min,f.min),g.max=Ot.max(g.max,f.max)),c=0;m.length>c;c++)if(m[c]instanceof Date){l=!0;break}if(n=E(x.type,Gi)||!x.type&&l?new zo(g.min,g.max,x):new ni(g.min,g.max,x),h){if(u[h])throw Error((t?"Y":"X")+" axis with name "+h+" is already defined");u[h]=n}return d.appendAxis(n),n},createAxes:function(e){var t,i=this,n=i.options,o=[].concat(n.xAxis),r=[],a=[].concat(n.yAxis),s=[];Et(o,function(n){t=i.findPane(this.pane),xi(t,e)&&r.push(i.createXYAxis(this,!1,n))}),Et(a,function(n){t=i.findPane(this.pane),xi(t,e)&&s.push(i.createXYAxis(this,!0,n))}),i.axisX=i.axisX||r[0],i.axisY=i.axisY||s[0]},click:function(t,i){var n,o,r,a,s=this,l=t._eventCoordinates(i),c=new oi(l.x,l.y),d=s.axes,h=d.length,u=[],p=[];for(n=0;h>n;n++)o=d[n],a=o.options.vertical?p:u,r=o.getValue(c),null!==r&&a.push(r);u.length>0&&p.length>0&&t.trigger(zn,{element:e(i.target),x:V(u),y:V(p)})}}),mt=ft.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,i=e[0],n=new dt(t,{series:e,padding:i.padding,startAngle:i.startAngle,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)},appendChart:function(e,t){ft.fn.appendChart.call(this,e,t),hi(this.options.legend.items,e.legendItems)}}),yt=mt.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,i=e[0],n=new ut(t,{series:e,padding:i.padding,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)}}),bt=ii.extend({options:{easing:"easeOutElastic",duration:dn},setup:function(){var e,t=this.element,i=t.config;t.options.singleSegment&&(i=t),this.endRadius=i.r,e=this.startRadius=i.ir||0,i.r=e},step:function(e){var t=this,i=t.element,n=t.endRadius,o=i.config,r=t.startRadius;i.options.singleSegment&&(o=i),o.r=vi(r,n,e)}}),wt=ii.extend({options:{easing:"easeOutElastic",duration:dn},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,i=t.endRadius;t.radius=vi(0,i,e)}}),_t=di(Si,Qt),At=di(Ln,bt),kt=di(Ri,wt),Ct=Nt.extend({init:function(e,t,i){var n=this;n.options=Xt({},n.options,i),n.view=e,n.viewElement=t,n._overlays=[]},options:{fill:vo,fillOpacity:.2,stroke:vo,strokeWidth:1,strokeOpacity:.2},show:function(e){var t,i,n,o,r,a=this,s=a.view,l=a.viewElement,c=a._overlays;for(a.hide(),a._points=e=[].concat(e),n=0;e.length>n;n++)o=e[n],o&&(r=o.options,(!r||(r.highlight||{}).visible)&&(o.highlightOverlay&&(t=o.highlightOverlay(s,a.options),t&&(i=s.renderElement(t),l.appendChild(i),c.push(i))),o.toggleHighlight&&o.toggleHighlight(s)))},hide:function(){for(var e,t,i,n,o=this,r=o._points,a=o._overlays;a.length;)e=o._overlays.pop(),e.parentNode.removeChild(e);if(r)for(t=0;r.length>t;t++)i=r[t],i&&(n=i.options,(!n||(n.highlight||{}).visible)&&i.toggleHighlight&&i.toggleHighlight(o.view));o._points=[]}}),It=Nt.extend({init:function(t,i){var n=this;n.options=Xt({},n.options,i),n.chartElement=t,n.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},n.template=It.template,n.template||(n.template=It.template=bi("<div class='"+Yi+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),n.element=e(n.template(n.options)).appendTo(t),n._moveProxy=Ht(n.move,n)},options:{border:{width:1},opacity:1,animation:{duration:oo}},move:function(){var e=this,t=e.options,i=e.element,n=e._offset();e.visible||i.css({top:n.top,left:n.left}),i.stop(!0,!0).show().animate({left:n.left,top:n.top},t.animation.duration),e.visible=!0},_offset:function(){var t=this,i=t.element,n=t.anchor,o=t.chartPadding,r=yi(n.y+o.top),a=yi(n.x+o.left),s=Mt.support.zoomLevel(),l=e(window),c=window.pageYOffset||document.documentElement.scrollTop||0,d=window.pageXOffset||document.documentElement.scrollLeft||0;return c=t.chartElement.offset().top-c,d=t.chartElement.offset().left-d,r+=t._currentPosition(r+c,i.outerHeight(),l.outerHeight()/s),a+=t._currentPosition(a+d,i.outerWidth(),l.outerWidth()/s),{top:r,left:a}},setStyle:function(e){this.element.css({backgroundColor:e.background,borderColor:e.border.color||e.background,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width})},show:function(){var e=this;e.showTimeout=setTimeout(e._moveProxy,ao)},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e._hideElement(),e.point=null,e.visible=!1,e.index=null)},_hideElement:function(){this.element.fadeOut()},_pointContent:function(e){var t,i,n=this,o=Xt({},n.options,e.options.tooltip);return pi(e.value)&&(t=""+e.value),o.template?(i=Yt(o.template),t=i({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage})):o.format&&(t=e.formatValue(o.format)),t},_pointAnchor:function(e){var t=this,i=t.element;return e.tooltipAnchor(i.outerWidth(),i.outerHeight())},_currentPosition:function(e,t,i){var n=0;return e+t>i&&(n=i-(e+t)),0>e&&(n=-e),n},_updateStyle:function(e,t){if(pi(e.background)||(e.background=t.color),!pi(e.color)){var i=this,n=i.element,o=new ti(e.background).percBrightness();o>180?n.addClass(Yi+lo):n.removeClass(Yi+lo)}}}),Pt=It.extend({show:function(e){var t=this,i=Xt({},t.options,e.options.tooltip);e&&(t.element.html(t._pointContent(e)),t.anchor=t._pointAnchor(e),t._updateStyle(i,e.options),t.setStyle(i),It.fn.show.call(t,e))}}),St=It.extend({init:function(e,t,i){var n=this;It.fn.init.call(n,e,i),n.plotArea=t},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { #<td>#= point.series.name #:</td> # } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(e,t){var i,n=this,o=n.options,r=n.plotArea,a=r.categoryAxis,s=a.getCategoryIndex(t),l=a.getCategory(t),c=a.getSlot(s);i=n._content(e,l),n.element.html(i),n.anchor=n._slotAnchor(t,c),n._updateStyle(o,e[0].options),n.setStyle(o),It.fn.show.call(n)},_slotAnchor:function(e,t){var i,n=this,o=n.plotArea,r=o.categoryAxis,a=e.y-n.element.height()/2;return i=r.options.vertical?oi(e.x,a):oi(t.center().x,a)},_content:function(e,t){var i,n,o=this;return i=Mt.template(o.options.sharedTemplate),n=i({points:e,category:t,categoryText:ui(o.options.categoryFormat,t),content:o._pointContent})}}),Tt=ei.extend({init:function(e,t){var i=this;ei.fn.init.call(i,t),i.axis=e,i.options.id||(i.options.id=wi()),i._visible=!1,i.stickyMode=e instanceof Ro},options:{color:Di,width:1,zIndex:-1,tooltip:{visible:!1}},repaint:function(){var e=this,t=e.element;e.getViewElements(e._view),t=e.element,t.refresh(fi(e.options.id))},showAt:function(e){var t=this;t.updateAxisReference(),t._visible=!0,t.point=e,t.repaint(),t.options.tooltip.visible&&(t.tooltip||(t.tooltip=new Vt(t,Xt({},t.options.tooltip,{stickyMode:t.stickyMode}))),t.tooltip.showAt(e))},hide:function(){var e=this;e._visible&&(e._visible=!1,e.repaint(),e.tooltip&&e.tooltip.hide())},linePoints:function(){var e,t,i,n=this,o=n.axis,r=o.options.vertical,a=n.getBox(),s=n.point,l=r?yo:mo;return t=oi(a.x1,a.y1),i=r?oi(a.x2,a.y1):oi(a.x1,a.y2),s&&(n.stickyMode?(e=o.getSlot(o.getCategoryIndex(s)),t[l]=i[l]=e.center()[l]):t[l]=i[l]=s[l]),n.box=a,[t,i]},getBox:function(){var e,t,i,n=this,o=n.axis,r=o.pane.axes,a=r.length,s=o.options.vertical,l=o.lineBox().clone(),c=s?mo:yo;for(i=0;a>i;i++)t=r[i],t.options.vertical!=s&&(e?e.wrap(t.lineBox()):e=t.lineBox().clone());return l[c+1]=e[c+1],l[c+2]=e[c+2],l},getViewElements:function(e){var t=this,i=t.options,n=[];return t.points=t.linePoints(),t.element=e.createPolyline(t.points,!1,{id:i.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,zIndex:i.zIndex,visible:t._visible}),n.push(t.element),t._view=e,hi(n,ei.fn.getViewElements.call(t,e)),n},updateAxisReference:function(){var e,t,i=this,n=i.axis,o=n.plotArea,r=o.axes;for(t=0;r.length>t;t++)if(e=r[t],pi(n.axisIndex)&&n instanceof ni!=e instanceof Ro&&n.axisIndex===e.axisIndex){i.axis=e;break}}}),Vt=It.extend({init:function(e,t){var i=this,n=e.axis.getRoot().parent.element;i.crosshair=e,It.fn.init.call(i,n,Xt({},i.options,{background:e.axis.plotArea.options.seriesColors[0]},t)),i._updateStyle(i.options,{}),i.setStyle(i.options)},options:{padding:10},showAt:function(e){var t=this,i=t.element;t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(i.outerWidth(),i.outerHeight()),t.move()},move:function(){var e=this,t=e.element,i=e._offset();t.css({top:i.top,left:i.left}).show()},content:function(e){var t,i,n,o=this,r=o.options,a=o.crosshair.axis,s=a.options;return i=t=a[r.stickyMode?"getCategory":"getValue"](e),r.template?(n=Yt(r.template),t=n({value:i})):r.format?t=ui(r.format,i):s.type===Gi&&(t=ui(s.labels.dateFormats[s.baseUnit],i)),t},getAnchor:function(e,t){var i,n,o=this,r=o.options,a=r.position,s=o.crosshair.axis.options.vertical,l=o.crosshair.points,c=l[0],d=l[1],h=e/2,u=t/2,p=r.padding;return s?a===fn?(i=c.x-e-p,n=c.y-u):(i=d.x+p,n=d.y-u):a===Ei?(i=d.x-h,n=d.y+p):(i=c.x-h,n=c.y-t-p),oi(i,n)},hide:function(){this.element.hide(),this.point=null}}),Dt={max:function(e){var t=Ot.max.apply(Ot,e);return isNaN(t)?o(e):t},min:function(e){var t=Ot.min.apply(Ot,e);return isNaN(t)?n(e):t},sum:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t],pi(i)&&!isNaN(i)&&(o+=i);return o},count:function(e){return e.length},avg:function(e){return Dt.sum(e)/Dt.count(e)}},Bt=Ft.extend({init:function(t,i,n){var o,r,a=this,s=t.element,l=i.lineBox(),c=a.getValueAxis(i),d=c.lineBox(),h="."+Yi;Ft.fn.init.call(a),a.options=Xt({},a.options,n),n=a.options,a.chart=t,a.chartElement=s,a.categoryAxis=i,a._dateAxis=a.categoryAxis instanceof Oo,a.valueAxis=c,a._dateAxis&&Xt(n,{min:x(n.min),max:x(n.max),from:x(n.from),to:x(n.to)}),a.template=Bt.template,a.template||(a.template=Bt.template=bi("<div class='"+Yi+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+Yi+"mask'></div>"+"<div class='"+Yi+"mask'></div>"+"<div class='"+Yi+"selection'>"+"<div class='"+Yi+"selection-bg'></div>"+"<div class='"+Yi+"handle "+Yi+"leftHandle'><div></div></div>"+"<div class='"+Yi+"handle "+Yi+"rightHandle'><div></div></div>"+"</div></div>")),r={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},a.options=Xt({},{width:l.width(),height:d.height(),padding:r,offset:{left:d.x2+r.left,top:d.y1+r.right},from:n.min,to:n.max},n),a.options.visible&&(a.wrapper=o=e(a.template(a.options)).appendTo(s),a.selection=o.find(h+"selection"),a.leftMask=o.find(h+"mask").first(),a.rightMask=o.find(h+"mask").last(),a.leftHandle=o.find(h+"leftHandle"),a.rightHandle=o.find(h+"rightHandle"),a.options.selection={border:{left:parseFloat(a.selection.css("border-left-width"),10),right:parseFloat(a.selection.css("border-right-width"),10)}},a.leftHandle.css("top",(a.selection.height()-a.leftHandle.height())/2),a.rightHandle.css("top",(a.selection.height()-a.rightHandle.height())/2),a.set(a._index(n.from),a._index(n.to)),a.bind(a.events,a.options),a.wrapper[0].style.cssText=a.wrapper[0].style.cssText,a.wrapper.on(Dn,Ht(a._mousewheel,a)),Mt.UserEvents?a.userEvents=new Mt.UserEvents(a.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:Ht(a._start,a),move:Ht(a._move,a),end:Ht(a._end,a),tap:Ht(a._tap,a),gesturestart:Ht(a._gesturechange,a),gesturechange:Ht(a._gesturechange,a)}):a.leftHandle.add(a.rightHandle).removeClass(Yi+"handle"))},events:[Wn,Yn,Xn],options:{visible:!0,mousewheel:{zoom:Bi},min:wn,max:bn},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy()},_rangeEventArgs:function(e){var t=this;return{axis:t.categoryAxis.options,from:t._value(e.from),to:t._value(e.to)}},_start:function(t){var i,n=this,o=n.options,r=e(t.event.target);!n._state&&r&&(n.chart._unsetActivePoint(),n._state={moveTarget:r.parents(".k-handle").add(r).first(),startLocation:t.x?t.x.location:0,range:{from:n._index(o.from),to:n._index(o.to)}},i=n._rangeEventArgs({from:n._index(o.from),to:n._index(o.to)}),n.trigger(Wn,i)&&(n.userEvents.cancel(),n._state=null))},_move:function(e){if(this._state){var t=this,i=t._state,n=t.options,o=t.categoryAxis.options.categories,r=t._index(n.from),a=t._index(n.to),s=t._index(n.min),l=t._index(n.max),c=i.startLocation-e.x.location,d=i.range,h={from:d.from,to:d.to},u=d.to-d.from,p=i.moveTarget,f=t.wrapper.width()/(o.length-1),g=Ot.round(c/f);p&&(e.preventDefault(),p.is(".k-selection, .k-selection-bg")?(d.from=Ot.min(Ot.max(s,r-g),l-u),d.to=Ot.min(d.from+u,l)):p.is(".k-leftHandle")?(d.from=Ot.min(Ot.max(s,r-g),l-1),d.to=Ot.max(d.from+1,d.to)):p.is(".k-rightHandle")&&(d.to=Ot.min(Ot.max(s+1,a-g),l),d.from=Ot.min(d.to-1,d.from)),(d.from!==h.from||d.to!==h.to)&&(t.move(d.from,d.to),t.trigger(Yn,t._rangeEventArgs(d))))
}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(Xn,e._rangeEventArgs(t))},_gesturechange:function(e){if(this._state){var t=this,i=t.chart,n=t._state,o=t.options,r=t.categoryAxis,a=n.range,s=i._toModelCoordinates(e.touches[0].x.location).x,l=i._toModelCoordinates(e.touches[1].x.location).x,c=Ot.min(s,l),d=Ot.max(s,l);e.preventDefault(),n.moveTarget=null,a.from=r.getCategoryIndex(new qt.Point2D(c))||o.min,a.to=r.getCategoryIndex(new qt.Point2D(d))||o.max,t.move(a.from,a.to)}},_tap:function(e){var t=this,i=t.options,n=t.chart._eventCoordinates(e),o=t.categoryAxis,r=o.getCategoryIndex(new qt.Point2D(n.x,o.box.y1)),a=t._index(i.from),s=t._index(i.to),l=t._index(i.min),c=t._index(i.max),d=s-a,h=a+d/2,u=Ot.round(h-r),p={},f=3===e.event.which;t._state||f||(e.preventDefault(),t.chart._unsetActivePoint(),o.options.justified||u--,p.from=Ot.min(Ot.max(l,a-u),c-d),p.to=Ot.min(p.from+d,c),t._start(e),t._state&&(t._state.range=p,t.trigger(Yn,t._rangeEventArgs(p)),t._end()))},_mousewheel:function(e){var t,i=this,n=i.options,o=M(e);i._start({event:{target:i.selection}}),i._state&&(t=i._state.range,e.preventDefault(),e.stopPropagation(),Ot.abs(o)>1&&(o*=_o),n.mousewheel.reverse&&(o*=-1),i.expand(o)&&i.trigger(Yn,{axis:i.categoryAxis.options,delta:o,originalEvent:e,from:i._value(t.from),to:i._value(t.to)}),i._mwTimeout&&clearTimeout(i._mwTimeout),i._mwTimeout=setTimeout(function(){i._end()},Vn))},_index:function(e){var t=this,i=t.categoryAxis,n=i.options.categories,o=e;return e instanceof Date&&(o=z(n,e),!i.options.justified&&e>mi(n)&&(o+=1)),o},_value:function(e){var t=this,i=this.categoryAxis,n=i.options.categories,o=e;return t._dateAxis&&(o=e>n.length-1?t.options.max:n[e]),o},_slot:function(e){var t=this,i=this.categoryAxis;return i.getSlot(t._index(e))},move:function(e,t){var i,n,o,r,a=this,s=a.options,l=s.offset,c=s.padding,d=s.selection.border;o=a._slot(e),i=yi(o.x1-l.left+c.left),a.leftMask.width(i),a.selection.css("left",i),o=a._slot(t),n=yi(s.width-(o.x1-l.left+c.left)),a.rightMask.width(n),r=s.width-n,r!=s.width&&(r+=d.right),a.rightMask.css("left",r),a.selection.width(Ot.max(s.width-(i+n)-d.right,0))},set:function(e,t){var i=this,n=i.options,o=i._index(n.min),r=i._index(n.max);e=D(i._index(e),o,r),t=D(i._index(t),e+1,r),n.visible&&i.move(e,t),n.from=i._value(e),n.to=i._value(t)},expand:function(e){var i=this,n=i.options,o=i._index(n.min),r=i._index(n.max),a=n.mousewheel.zoom,s=i._index(n.from),l=i._index(n.to),c={from:s,to:l},d=Xt({},c);return i._state&&(c=i._state.range),a!==Un&&(c.from=D(D(s-e,0,l-1),o,r)),a!==fn&&(c.to=D(D(l+e,c.from+1,r),o,r)),c.from!==d.from||c.to!==d.to?(i.set(c.from,c.to),!0):t},getValueAxis:function(e){var t,i,n=e.pane.axes,o=n.length;for(t=0;o>t;t++)if(i=n[t],i.options.vertical!==e.options.vertical)return i}}),zt(e.easing,{easeOutElastic:function(e,t,i,n){var o=1.70158,r=0,a=n;return 0===e?i:1===e?i+n:(r||(r=.5),Ot.abs(n)>a?(a=n,o=r/4):o=r/(2*Ot.PI)*Ot.asin(n/a),a*Ot.pow(2,-10*e)*Ot.sin((1*e-o)*1.1*Ot.PI/r)+n+i)}}),qt.ui.plugin(Vo),Xt(qt,{Aggregates:Dt,AreaChart:tt,Bar:No,BarAnimationDecorator:_t,BarChart:W,BarLabel:Do,BubbleAnimationDecorator:kt,BubbleChart:ot,BulletChart:Y,CandlestickChart:at,Candlestick:rt,CategoricalPlotArea:gt,CategoryAxis:Ro,ClusterLayout:Ho,Crosshair:Tt,CrosshairTooltip:Vt,DateCategoryAxis:Oo,DateValueAxis:zo,DonutChart:ut,DonutPlotArea:yt,DonutSegment:ht,Highlight:Ct,SharedTooltip:St,Legend:Eo,LineChart:Z,LinePoint:J,Pane:pt,PieAnimation:bt,PieAnimationDecorator:At,PieChart:dt,PiePlotArea:mt,PieSegment:ct,ScatterChart:it,ScatterLineChart:nt,Selection:Bt,ShapeElement:G,StackLayout:Uo,Tooltip:Pt,OHLCChart:lt,OHLCPoint:st,XYPlotArea:vt,addDuration:m,axisGroupBox:B,validNumbers:H,bindPoint:I,categoriesCount:p,ceilDate:w,duration:k,floorDate:b,lteDateIndex:z,evalOptions:N,sparseArrayLimits:r,toDate:x,toTime:v})})(window.kendo.jQuery)});