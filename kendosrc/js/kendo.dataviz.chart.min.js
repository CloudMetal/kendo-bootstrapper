("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.data.min","./kendo.userevents.min","./kendo.dataviz-core.min","./kendo.dataviz-svg.min"],function(){(function(e,t){function i(e,t){function i(e,t,i){var n,o=typeof t;return n=o===Ln?Pt[t](e):"function"===o?t(e,i):Pt.max(e)}function n(e,t,n){var o,a,r,s=C(n.type),l=s.length,c=e.length,h=[],p=[];for(o=0;l>o;o++){for(r=s[o],a=0;c>a;a++)p.push(e[a][r]);h.push(i(p,t[r],n)),p=[]}return h}var o,a=t.aggregate;return o="object"==typeof a?n(e,a,t):i(e,a,t)}function n(e){return a(e).min}function o(e){return a(e).max}function a(e){var i,n,o=cn,a=hn,r=e.length;for(i=0;r>i;i++)n=e[i],null!==n&&isFinite(n)&&(o=Vt.min(o,n),a=Vt.max(a,n));return{min:o===cn?t:o,max:a===hn?t:a}}function r(e,t,i,n){var o,a,r=(n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x),s=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y);return 0!==s&&(a=r/s,o=new $t(e.x+a*(t.x-e.x),e.y+a*(t.y-e.y))),o}function s(e,t){var i,n,o=e.series,a=o.length,r=e.seriesDefaults,s=Mt({},e.seriesDefaults),c=t?Mt({},t.seriesDefaults):{},h=Mt({},c);for(l(s),l(h),i=0;a>i;i++)n=o[i].type||e.seriesDefaults.type,o[i]=Mt({},h,c[n],{tooltip:e.tooltip},s,r[n],o[i])}function l(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc}function c(e){var t,i=e.series,n=i.length,o=e.seriesColors||[];for(t=0;n>t;t++)i[t].color=i[t].color||o[t%o.length]}function h(e){var t;Tt([Ii,Kn,to,io],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function p(t,i){var n=(i||{}).axisDefaults||{};Tt([Ii,Kn,to,io],function(){var i=this+"Axis",o=[].concat(t[i]),a=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color;return Mt({},n,n[i],a,a[i],{line:{color:t},labels:{color:t},title:{color:t}},e)}),t[i]=o.length>1?o:o[0]})}function d(e,t,i){e[t]=(e[t]||0)+i}function u(e){var t,i=e.length,n=0;for(t=0;i>t;t++)n=Vt.max(n,e[t].data.length);return n}function g(e){return e*e}function f(e,t){if(null===t)return null;var i=Nt(e,!0);return i(t)}function x(e){var t,i,n;if(e instanceof Date)t=e;else if(typeof e===Ln)i=Mi.exec(e),t=new Date(i?parseInt(i[1],10):e);else if(e)if(e.length)for(t=[],n=0;e.length>n;n++)t.push(x(e[n]));else t=new Date(e);return t}function m(e){return It(e)?Dt(e,m):e?x(e).getTime():t}function v(e,t,i,n){var o=e;return e&&(e=x(e),i===no?o=new Date(e.getFullYear()+t,0,1):i===dn?o=new Date(e.getFullYear(),e.getMonth()+t,1):i===Zn?o=v(y(e,n),7*t,Ni):i===Ni?o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):i===en?(o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t),t>0&&R(e,o)&&(o=v(e,t+1,i,n))):i===pn&&(o=new Date(e.getTime()+t*zn),o.setSeconds(0))),o}function y(e,t){var i=e.getDay(),n=0;for(t=t||0;i!==t;)0===i?i=6:i--,n++;return k(e,-n*Un)}function b(e,t,i){return e=x(e),v(e,0,t,i)}function w(e,t,i){return e=x(e),e&&b(e,t,i).getTime()===e.getTime()?e:v(e,1,t,i)}function A(e,t){var i=e.getTime()-t,n=e.getTimezoneOffset()-t.getTimezoneOffset();return i-n*zn}function k(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),o=n.getTimezoneOffset()-i;return new Date(n.getTime()+o*zn)}function _(e,t,i){var n;return n=i===no?t.getFullYear()-e.getFullYear():i===dn?12*_(e,t,no)+t.getMonth()-e.getMonth():i===Ni?Vt.floor(A(t,e)/Un):Vt.floor((t-e)/Fn[i])}function C(e){var t=[Kn];return hi(e,[Ti,yn])?t=["open","high","low","close"]:hi(e,co)&&(t=[to,io],e===Si&&t.push("size")),t}function P(e,t,i){var n,o,a,r,s=e.data[t],l={},c=C(e.type),h={value:s};return si(s)?It(s)?(n=s.slice(c.length),r=S(s,c),l=S(n,i)):"object"==typeof s&&(o=I(e,c),a=I(e,i),r=T(s,c,o),l=T(s,i,a)):r=T({},c),si(r)&&(1===c.length&&(r=r[c[0]]),h.value=r),h.fields=l,h}function S(e,t){var i,n,o={};if(t)for(n=Vt.min(t.length,e.length),i=0;n>i;i++)o[t[i]]=e[i];return o}function T(e,t,i){var n,o,a,r,s={};if(t)for(o=t.length,i=i||t,n=0;o>n;n++)a=t[n],r=i[n],s[a]=f(r,e);return s}function I(e,t){var i,n,o,a,r;if(t)for(n=t.length,a=[],i=0;n>i;i++)o=t[i],r=o===Kn?"field":o+"Field",a.push(e[r]||o);return a}function D(e){return 1===e.length?e[0]:e}function V(e,t,i){return Vt.max(Vt.min(e,i),t)}function B(e){var t,i,n,o=e.length;if(o>0)for(i=0;o>i;i++)n=e[i].box,t?t.wrap(n):t=n.clone();return t||Xt()}function E(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function R(e,t){return e&&t?m(e)===m(t):e===t}function L(e){for(var t,i=e.length;i--;)if(t=e[i],si(t)&&null!==t)return t}function z(e,t){null!==t&&e.push(t)}function O(e,t){for(var i,n,o=0,a=e.length-1;a>=o;)if(i=Vt.floor((o+a)/2),n=e[i],t>n)o=i+1;else{if(!(n>t))return i;a=i-1}return t>=e[i]?i:i-1}function U(e){var t,i,n=!0,o=e.length;for(t=0;o>t;t++)if(i=e[t],"number"!=typeof i||isNaN(i)){n=!1;break}return n}function H(e){var t,i,n,o={};for(t=0;e.length>t;t++)i=e[t],n=i.options.name,n&&(o[n]=i.range());return o}var M,N,F,W,Y,j,X,G,q,J,K,Q,$,Z,et,tt,it,nt,ot,at,rt,st,lt,ct,ht,pt,dt,ut,gt,ft,xt,mt,vt,yt,bt,wt,At,kt,_t,Ct,Pt,St,Tt=e.each,It=e.isArray,Dt=e.map,Vt=Math,Bt=e.extend,Et=e.proxy,Rt=window.kendo,Lt=Rt.Class,zt=Rt.Observable,Ot=Rt.data.DataSource,Ut=Rt.ui.Widget,Ht=Rt.template,Mt=Rt.deepExtend,Nt=Rt.getter,Ft=Rt.dataviz,Wt=Ft.Axis,Yt=Ft.AxisLabel,jt=Ft.BarAnimation,Xt=Ft.Box2D,Gt=Ft.BoxElement,qt=Ft.ChartElement,Jt=Ft.Color,Kt=Ft.ElementAnimation,Qt=Ft.NumericAxis,$t=Ft.Point2D,Zt=Ft.RootElement,ei=Ft.Ring,ti=Ft.Text,ii=Ft.TextBox,ni=Ft.Title,oi=Ft.animationDecorator,ai=Ft.append,ri=Ft.autoFormat,si=Ft.defined,li=Ft.getElement,ci=Ft.getSpacing,hi=Ft.inArray,pi=Ft.interpolateValue,di=Ft.last,ui=Ft.round,gi=Ft.renderTemplate,fi=Ft.uniqueId,xi=".kendoChart",mi="above",vi="area",yi="auto",bi="fit",wi=Ft.AXIS_LABEL_CLICK,Ai="bar",ki=.8,_i="below",Ci="#000",Pi="bottom",Si="bubble",Ti="candlestick",Ii="category",Di="center",Vi="change",Bi="circle",Ei="click"+xi,Ri=Ft.CLIP,Li="column",zi=Ft.COORD_PRECISION,Oi="k-",Ui="dataBound",Hi="date",Mi=/^\/Date\((.*?)\)\/$/,Ni="days",Fi=Ft.DEFAULT_FONT,Wi=Ft.DEFAULT_HEIGHT,Yi=Ft.DEFAULT_PRECISION,ji=Ft.DEFAULT_WIDTH,Xi=Vt.PI/180,Gi="donut",qi=50,Ji="drag",Ki="dragEnd",Qi="dragStart",$i="fadeIn",Zi="glass",en="hours",tn=Ft.INITIAL_ANIMATION_DURATION,nn="insideBase",on="insideEnd",an="interpolate",rn="left",sn="line",ln=8,cn=Number.MAX_VALUE,hn=-Number.MAX_VALUE,pn="minutes",dn="months",un="mouseleave"+xi,gn="mousemove.tracking",fn="mouseover"+xi,xn="mousemove"+xi,mn=150,vn="DOMMouseScroll"+xi+" mousewheel"+xi,yn="ohlc",bn="outsideEnd",wn="_outline",An="pie",kn=70,_n="plotAreaClick",Cn="right",Pn="roundedBevel",Sn="roundedGlass",Tn="scatter",In="scatterLine",Dn="selectStart",Vn="select",Bn="selectEnd",En="seriesClick",Rn="seriesHover",Ln="string",zn=6e4,On=60*zn,Un=24*On,Hn=7*Un,Mn=31*Un,Nn=365*Un,Fn={years:Nn,months:Mn,weeks:Hn,days:Un,hours:On,minutes:zn},Wn="top",Yn=150,jn=5,Xn=100,Gn=100,qn="touchstart"+xi,Jn="triangle",Kn="value",Qn="verticalArea",$n="verticalLine",Zn="weeks",eo="#fff",to="x",io="y",no="years",oo="zero",ao="zoomStart",ro="zoom",so="zoomEnd",lo=[Ai,Li,sn,$n,vi,Qn,Ti,yn],co=[Tn,In,Si],ho=[pn,en,Ni,Zn,dn,no],po={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},uo=Ut.extend({init:function(e,t){var i,n,o,a,r=this,s=Ft.ui.themes||{};Ut.fn.init.call(r,e),i=Mt({},r.options,t),r.element.addClass("k-chart").css("position","relative"),r._originalOptions=Mt({},i),a=i.theme,o=s[a]||s[a.toLowerCase()],n=a&&o?o.chart:{},h(i),r._applyDefaults(i,n),r.options=Mt({},n,i),c(r.options),r.bind(r.events,r.options),r.wrapper=r.element,r._initDataSource(t),Rt.notify(r,Ft.ui)},_initDataSource:function(e){var t=this,i=(e||{}).dataSource;t._dataChangeHandler=Et(t._onDataChanged,t),t.dataSource=Ot.create(i).bind(Vi,t._dataChangeHandler),t._redraw(),t._attachEvents(),i&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(Vi,t._dataChangeHandler),t.dataSource=e,e.bind(Vi,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[Ui,En,Rn,wi,_n,Qi,Ji,Ki,ao,ro,so,Dn,Vn,Bn],items:function(){return e()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:Li,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),delete e._sourceSeries,e._onDataChanged()},redraw:function(e){var t,i,n=this;n._applyDefaults(n.options),e?(i=n._model._plotArea,t=i.findPane(e),i.redraw(t)):n._redraw()},_redraw:function(){var e,t=this,i=t.options,n=t.element,o=t._model=t._getModel(),a=Ft.ui.defaultView();t._plotArea=o._plotArea,a&&(e=t._view=a.fromModel(o),t._viewElement=e.renderTo(n[0]),t._tooltip=i.tooltip.shared?new kt(n,i.tooltip):new At(n,i.tooltip),t._highlight=i.tooltip.shared?new bt(e,t._viewElement):new yt(e,t._viewElement))},svg:function(){var e=this._getModel(),t=Ft.SVGView.fromModel(e);return t.render()},_applyDefaults:function(e,t){p(e,t),s(e,t)},_getModel:function(){var e,t=this,i=t.options,n=t.element,o=Vt.round(n.innerHeight()),a=Vt.round(n.innerWidth()),r=new Zt(Mt({width:a||ji,height:o||Wi,transitions:i.transitions},i.chartArea));return r.parent=t,ni.buildTitle(i.title,r),e=r._plotArea=t._createPlotArea(),i.legend.visible&&r.append(new fo(e.options.legend)),r.append(e),r.reflow(),r},_createPlotArea:function(){var e,t,i,n=this,o=n.options,a=o.series,r=a.length,s=[],l=[],c=[],h=[];for(e=0;r>e;e++)t=a[e],hi(t.type,lo)?s.push(t):hi(t.type,co)?l.push(t):t.type===An?c.push(t):t.type===Gi&&h.push(t);return i=c.length>0?new dt(c,o):h.length>0?new ut(h,o):l.length>0?new pt(l,o):new ct(s,o)},_attachEvents:function(){var e=this,t=e.element;t.on(Ei,Et(e._click,e)),t.on(fn,Et(e._mouseover,e)),t.on(vn,Et(e._mousewheel,e)),t.on(qn,Et(e._tap,e)),t.on(un,Et(e._mouseleave,e)),(e._plotArea.crosshairs.length||e._tooltip&&e._tooltip.options.shared)&&t.on(xn,Et(e._mousemove,e)),Rt.UserEvents&&(e._userEvents=new Rt.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:Et(e._start,e),move:Et(e._move,e),end:Et(e._end,e)}))},_start:function(e){var t=this,i=t._events;si(i[Qi]||i[Ji]||i[Ki])&&t._startNavigation(e,Qi)},_move:function(e){var t,i,n,o,a,r,s=this,l=s._navState,c={};if(l){for(e.preventDefault(),t=l.axes,i=0;t.length>i;i++)n=t[i],o=n.options.name,o&&(a=n.options.vertical?e.y:e.x,r=a.startLocation-a.location,0!==r&&(c[n.options.name]=n.translateRange(r)));l.axisRanges=c,s.trigger(Ji,{axisRanges:c,originalEvent:e})}},_end:function(e){this._endNavigation(e,Ki)},_mousewheel:function(e){var t,i,n,o,a,r,s=this,l=e.originalEvent,c=0,h=s._navState,p={};if(l.wheelDelta&&(c=-l.wheelDelta/120,c=c>0?Vt.ceil(c):Vt.floor(c)),l.detail&&(c=ui(l.detail/3)),h||(t=s._startNavigation(l,ao),t||(h=s._navState)),h){for(i=h.totalDelta||c,h.totalDelta=i+c,n=s._navState.axes,o=0;n.length>o;o++)a=n[o],r=a.options.name,r&&(p[r]=a.scaleRange(i));s.trigger(ro,{delta:c,axisRanges:p,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,so)},mn)}},_startNavigation:function(e,t){var i,n,o,a=this,r=a._eventCoordinates(e),s=a._model._plotArea,l=s.findPointPane(r),c=s.axes.slice(0),h=!1;if(l){for(i=0;c.length>i;i++)if(n=c[i],n.box.containsPoint(r)){h=!0;break}!h&&s.backgroundBox().containsPoint(r)&&(o=a.trigger(t,{axisRanges:H(c),originalEvent:e}),o?a._userEvents.cancel():(a._suppressHover=!0,a._unsetActivePoint(),a._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var i=this;i._navState&&(i.trigger(t,{axisRanges:i._navState.axisRanges,originalEvent:e}),i._suppressHover=!1,i._navState=null)},_getChartElement:function(t){var i,n=this,o=e(t.target).data("modelId"),a=n._model;return o&&(i=a.modelMap.get(o)),i&&i.aliasFor&&(i=i.aliasFor(t,n._eventCoordinates(t))),i},_eventCoordinates:function(e){var t=this,i=si((e.x||{}).client),n=i?e.x.client:e.clientX,o=i?e.y.client:e.clientY;return t._toModelCoordinates(n,o)},_toModelCoordinates:function(t,i){var n=this.element,o=n.offset(),a=parseInt(n.css("paddingLeft"),10),r=parseInt(n.css("paddingTop"),10),s=e(window);return{x:t-o.left-a+s.scrollLeft(),y:i-o.top-r+s.scrollTop()}},_click:function(e){for(var t=this,i=t._getChartElement(e);i;)i.click&&i.click(t,e),i=i.parent},_startHover:function(e){var i,n=this,o=n._tooltip,a=n._highlight,r=n.options.tooltip;if(!n._suppressHover&&a&&a.overlayElement!==e.target&&!r.shared)return i=n._getChartElement(e),i&&i.hover?(i.hover(n,e),n._activePoint=i,r=Mt({},r,i.options.tooltip),r.visible&&o.show(i),a.show(i),!0):t},_mouseover:function(t){var i=this;i._startHover(t)&&e(document).on(gn,Et(i._mouseMoveTracking,i))},_mouseMoveTracking:function(t){var i,n,o,a=this,r=a._tooltip,s=a._highlight,l=a._eventCoordinates(t),c=a._activePoint;a._plotArea.box.containsPoint(l)?c&&c.series&&(c.series.type===sn||c.series.type===vi)&&(n=c.parent,o=n.getNearestPoint(l.x,l.y,c.seriesIx),o&&o!=c&&(i=Mt({},a.options.tooltip,c.options.tooltip),i.shared||(o.hover(a,t),a._activePoint=o,i.visible&&r.show(o),s.show(o)))):(e(document).off(gn),a._unsetActivePoint())},_mousemove:function(e){var i,n,o,a,r,s,l,c,h,p,d,u=this;if(!(u._lastTime&&20>new Date-u._lastTime)){if(o=u._plotArea,a=o.crosshairs,r=a.length,s=u._eventCoordinates(e),l=$t(s.x,s.y),c=u._tooltip,h=u._highlight,p=c.options||{},d=o.paneByPoint(s),u._lastTime=new Date,r)for(i=0;r>i;i++)n=a[i],n.box.containsPoint(s)?n.showAt(l):n.hide();if(p.shared){if(d&&"_navigator"===d.options.name&&p.shared)return u._unsetActivePoint(),t;p.visible&&p.shared&&(c.plotArea=o,c.showAt(l)),h.options.visible&&p.shared&&(h.plotArea=o,h.show(l))}}},_mouseleave:function(){var e,t=this,i=t._plotArea,n=i.crosshairs,o=n.length,a=t._tooltip;if(o)for(e=0;o>e;e++)n[e].hide();setTimeout(Et(a.hide,a),Gn)},_unsetActivePoint:function(){var e=this,t=e._tooltip,i=e._highlight;e._activePoint=null,t&&t.hide(),i&&i.hide()},_onDataChanged:function(){var e,t,i=this,n=i.options,o=i._sourceSeries||n.series,a=o.length,r=i.dataSource.view(),s=(i.dataSource.group()||[]).length>0,l=s?r[0].items:r,h=[];for(e=0;a>e;e++)t=o[e],i.isBindable(t)?(t.autoBind!==!1&&(t.data=r),ai(h,s?i._createGroupedSeries(t,r):[t])):h.push(t);i._sourceSeries=o,n.series=h,c(i.options),i._bindCategories(l),i.trigger(Ui),i._redraw()},_bindCategories:function(e){var t,i,n=this,o=n.options,a=[].concat(o.categoryAxis);for(t=0;a.length>t;t++)i=a[t],i.autoBind!==!1&&n._bindCategoryAxis(i,e)},_bindCategoryAxis:function(e,t){var i,n,o;if(e.field)for(e.categories=[],i=0;t.length>i;i++)o=t[i],n=f(e.field,o),0===i?(e.categories=[n],e.dataItems=[o]):(e.categories.push(n),e.dataItems.push(o))},isBindable:function(e){var t,i,n=C(e.type),o=!0;for(i=0;n.length>i;i++)if(t=n[i],t===Kn?t="field":t+="Field",!e[t]){o=!1;break}return o},_createGroupedSeries:function(e,i){var n,o,a,r,s=[],l=i.length;for(e.groupNameTemplate&&(n=Ht(e.groupNameTemplate)),a=0;l>a;a++)r=Mt({},e),r.color=t,s.push(r),o=i[a],r.data=o.items,n&&(r.name=n({series:r,group:o}));return s},_tap:function(e){var t=this;t._startHover(e)||t._unsetActivePoint(),t._click(e)},destroy:function(){var e=this,t=e.dataSource;e.element.off(xi),t.unbind(Vi,e._dataChangeHandler),e._userEvents&&e._userEvents.destroy(),Ut.fn.destroy.call(e)}}),go=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.append(new ii(e,i.options))},options:{position:bn,margin:ci(3),padding:ci(4),color:Ci,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:$i,delay:tn},zIndex:1},reflow:function(e){var t=this,i=t.options,n=i.vertical,o=i.aboveAxis,a=t.children[0],r=a.box,s=a.options.padding;a.options.align=n?Di:rn,a.options.vAlign=n?Wn:Di,i.position==on?n?(a.options.vAlign=Wn,!o&&r.height()<e.height()&&(a.options.vAlign=Pi)):a.options.align=o?Cn:rn:i.position==Di?(a.options.vAlign=Di,a.options.align=Di):i.position==nn?n?a.options.vAlign=o?Pi:Wn:a.options.align=o?rn:Cn:i.position==bn&&(n?e=o?new Xt(e.x1,e.y1-r.height(),e.x2,e.y1):new Xt(e.x1,e.y2,e.x2,e.y2+r.height()):(a.options.align=Di,e=o?new Xt(e.x2+r.width(),e.y1,e.x2,e.y2):new Xt(e.x1-r.width(),e.y1,e.x1,e.y2))),n?s.left=s.right=(e.width()-a.contentBox.width())/2:s.top=s.bottom=(e.height()-a.contentBox.height())/2,a.reflow(e)}}),fo=qt.extend({init:function(e){var t=this;qt.fn.init.call(t,e),t.createLabels()},options:{position:Cn,items:[],labels:{},offsetX:0,offsetY:0,margin:ci(10),padding:ci(5),border:{color:Ci,width:0},background:"",zIndex:1},createLabels:function(){var e,t,i,n=this,o=n.options.items,a=o.length;for(i=0;a>i;i++)t=o[i].name,e=new ti(t,n.options.labels),n.append(e)},reflow:function(e){var i=this,n=i.options,o=i.children.length;return 0===o?(i.box=e.clone(),t):"custom"==n.position?(i.customLayout(e),t):(n.position==Wn||n.position==Pi?i.horizontalLayout(e):i.verticalLayout(e),t)},getViewElements:function(e){var t,i,n,o,a,r,s,l=this,c=l.children,h=l.options,p=h.items,d=p.length,u=l.markerSize(),g=e.createGroup({zIndex:h.zIndex}),f=h.border||{};for(ai(g.children,qt.fn.getViewElements.call(l,e)),s=0;d>s;s++)o=p[s].color,a=c[s],i=new Xt,r=a.box,n=n?n.wrap(r):r.clone(),i.x1=r.x1-2*u,i.x2=i.x1+u,i.y1=h.position==Wn||h.position==Pi?r.y1+u/2:r.y1+(r.height()-u)/2,i.y2=i.y1+u,g.children.push(e.createRect(i,{fill:o,stroke:o}));return c.length>0&&(t=ci(h.padding),t.left+=2*u,n.pad(t),g.children.unshift(e.createRect(n,{stroke:f.width?f.color:"",strokeWidth:f.width,dashType:f.dashType,fill:h.background}))),[g]},verticalLayout:function(e){var t,i,n,o,a,r=this,s=r.options,l=r.children,c=l.length,h=l[0].box.clone(),p=ci(s.margin),d=2*r.markerSize();for(o=1;c>o;o++)n=r.children[o],n.box.alignTo(r.children[o-1].box,Pi),h.wrap(n.box);s.position==rn?(t=e.x1+d+p.left,i=(e.y2-h.height())/2,h.x2+=d+p.left+p.right):(t=e.x2-h.width()-p.right,i=(e.y2-h.height())/2,h.translate(t,i),h.x1-=d+p.left),r.translateChildren(t+s.offsetX,i+s.offsetY),a=h.width(),h.x1=Vt.max(e.x1,h.x1),h.x2=h.x1+a,h.y1=e.y1,h.y2=e.y2,r.box=h},horizontalLayout:function(e){var t,i,n,o,a=this,r=a.options,s=a.children,l=s.length,c=s[0].box.clone(),h=3*a.markerSize(),p=ci(r.margin),d=s[0].box.width()+h,u=e.width(),g=0;for(o=1;l>o;o++)n=s[o],d+=n.box.width()+h,d>u-h?(n.box=new Xt(c.x1,c.y2,c.x1+n.box.width(),c.y2+n.box.height()),d=n.box.width()+h,g=n.box.y1):(n.box.alignTo(s[o-1].box,Cn),n.box.y2=g+n.box.height(),n.box.y1=g,n.box.translate(h,0)),c.wrap(n.box);t=(e.width()-c.width()+h)/2,r.position===Wn?(i=e.y1+p.top,c.y2=e.y1+c.height()+p.top+p.bottom,c.y1=e.y1):(i=e.y2-c.height()-p.bottom,c.y1=e.y2-c.height()-p.top-p.bottom,c.y2=e.y2),a.translateChildren(t+r.offsetX,i+r.offsetY),c.x1=e.x1,c.x2=e.x2,a.box=c},customLayout:function(e){var t,i=this,n=i.options,o=i.children,a=o.length,r=o[0].box.clone(),s=2*i.markerSize();for(t=1;a>t;t++)r=i.children[t].box,r.alignTo(i.children[t-1].box,Pi),r.wrap(r);i.translateChildren(n.offsetX+s,n.offsetY),i.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),xo=Wt.extend({init:function(e){var t=this;Wt.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0)},options:{type:Ii,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Ci},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,a=n.justified,r=i.lineBox(),s=o?r.height():r.width(),l=e-(a?1:0),c=s/l,h=o?io:to,p=r[h+1],d=[];for(t=0;e>t;t++)d.push(ui(p,zi)),p+=c;return a||d.push(r[h+2]),n.reverse?d.reverse():d},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.categories.length)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(2*e.options.categories.length)},getSlot:function(e,t){var i,n,o,a=this,r=a.options,s=a.getMajorTickPositions(),l=r.reverse,c=r.justified,h=r.vertical?io:to,p=a.lineBox(),d=p[h+(l?2:1)],u=p[h+(l?1:2)],g=p.clone(),f=Vt.max(1,s.length-(c?0:1));return e=si(e)?e:0,t=si(t)?t:e,e=V(e,0,f),t=V(t-1,e,f),t=Vt.max(e,t),i=0===e?d:s[e],n=c?i:s[t],o=t-e,(o>0||e===t)&&(n=s[t+1]||u),c&&(e===f?i=n:n=i),g[h+1]=l?n:i,g[h+2]=l?i:n,g},getCategoryIndex:function(e){var t,i,n,o,a=this,r=a.options,s=r.reverse,l=r.vertical,c=l?io:to,h=a.lineBox(),p=h[c+1],d=h[c+2],u=e[c],g=a.getMajorTickPositions();if(p>u||u>d)return null;for(n=0;g.length>n;n++){if(t=g[n],i=g[n+1],si(i)||(i=s?p:d),s&&(t=i,i=g[n]),r.justified&&u===i){o=Vt.max(0,l?g.length-n-1:n+1);break}if(u>=t&&i>=u){o=n;break}}return o},getCategory:function(e){var t=this.getCategoryIndex(e);return null===t?null:this.options.categories[t]},translateRange:function(e){var t=this,i=t.options,n=t.lineBox(),o=i.vertical?n.height():n.width(),a=i.categories.length,r=o/a,s=ui(e/r,Yi);return{min:s,max:a+s}},scaleRange:function(e){var t=this,i=t.options,n=i.categories.length,o=e*n;return{min:-o,max:n+o}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var i=this,n=i.options,o=n.dataItems?n.dataItems[e]:null,a=si(n.categories[e])?n.categories[e]:"";return new Yt(a,e,o,t)}}),mo=Yt.extend({formatValue:function(e,t){return Rt.toString(e,t.format,t.culture)}}),vo=xo.extend({init:function(e){var t,i,n=this;e=e||{},e=Mt({roundToBaseUnit:!0},e,{min:x(e.min),max:x(e.max)}),e.categories&&e.categories.length>0&&(t=(e.baseUnit||"").toLowerCase(),i=t!==bi&&!hi(t,ho),i&&(e.baseUnit=n.defaultBaseUnit(e)),(t===bi||e.baseUnitStep===yi)&&n.autoBaseUnit(e),n.groupCategories(e)),xo.fn.init.call(n,e)},options:{type:Hi,labels:{dateFormats:po},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(e){var t=this,i=xo.fn.translateRange.call(t,e),n=t.options,o=n.baseUnit,a=Vt.round(i.min),r=n.weekStartDay;return{min:v(n.min,a,o,r),max:v(n.max,a,o,r)}},scaleRange:function(e){for(var t,i,n=this,o=n.options,a=Vt.abs(e),r=o.min,s=o.max;a--;)t=A(r,s),i=Vt.round(.1*t),0>e?(r=k(r,i),s=k(s,-i)):(r=k(r,-i),s=k(s,i));return{min:r,max:s}},defaultBaseUnit:function(e){var t,i,n,o,a,r=e.categories,s=si(r)?r.length:0,l=cn;for(t=0;s>t;t++)i=x(r[t]),i&&o&&(n=A(i,o),n>0&&(l=Vt.min(l,n),a=l>=Nn?no:l>=Mn-3*Un?dn:l>=Hn?Zn:l>=Un?Ni:l>=On?en:pn)),o=i;return a||Ni},range:function(e){e=e||this.options;var t=x(e.categories),i=e.baseUnit===bi,n=i?ho[0]:e.baseUnit,o=m(e.min),r=m(e.max),s=a(t),l=m(s.min),c=m(s.max);return e.roundToBaseUnit?{min:v(o||l,0,n,e.weekStartDay),max:v(r||c,1,n,e.weekStartDay)}:{min:x(o||l),max:x(r||c)}},autoBaseUnit:function(e){for(var t,i,n,o=this,a=o.range(e),r=e.baseUnit===bi,s=0,l=r?ho[s++]:e.baseUnit,c=a.max-a.min,h=c/Fn[l],p=h,d=e.maxDateGroups||o.options.maxDateGroups,u=Mt({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);h>d;)if(t=t||u[l].slice(0),n=t.shift())i=n,h=p/i;else{if(!r){h>d&&(i=Vt.ceil(p/d));break}l=ho[s++]||di(ho),p=c/Fn[l],t=null}e.baseUnitStep=i,e.baseUnit=l},getMajorTickPositions:function(){var e,t,i,n,o,a,r,s,l,c,h,p,d,u,g,f,x,m=this,v=m.options,y=v.categories,b=[];if(v.roundToBaseUnit||0===y.length)b=xo.fn.getMajorTickPositions.call(m);else{for(i=v.vertical,n=v.reverse,o=m.lineBox(),a=i?o.height():o.width(),r=y[0].getTime(),s=m.range(m.options),l=s.max-s.min,c=a/l,h=y.length,p=(i?-1:1)*(n?-1:1),d=1===p?1:2,u=1===p?2:1,g=o[(i?io:to)+d],f=o[(i?io:to)+u],x=g,e=0;h>e;e++)t=y[e]-r,x=g+t*c*p,b.push(ui(x,zi));di(b)!==f&&b.push(f)}return b},groupCategories:function(e){var t,i,n,o,a,r,s=this,l=x(e.categories),c=e.baseUnit,h=e.baseUnitStep||1,p=s.range(e),d=e.roundToBaseUnit,u=[],g=s.categoryMap=[],f=[];for(t=d?v(p.max,h-1,c,e.weekStartDay):p.max,R(p.min,p.max)&&(t=x(m(t)+1)),i=p.min;t>i;i=n){for(n=v(i,h,c,e.weekStartDay),u.push(i),o=[],a=O(l,i);l.length>a;a++)if(r=l[a],r&&r>=i)if(n>r)e.justified&&R(r,t)?f.push(a):o.push(a);else{if(d||!R(n,t))break;f.push(a)}g.push(o)}f.length&&(u.push(t),g.push(f)),e.max||0!==(di(g)||[]).length||(g.pop(),u.pop()),e.min=u[0],e.max=d?di(u):t,e.categories=u},createAxisLabel:function(e,t){var i,n=this.options,o=n.dataItems?n.dataItems[e]:null,a=n.categories[e],r=n.baseUnit,s=!0,l=t.dateFormats[r];return n.justified&&(i=b(a,r,n.weekStartDay),s=R(i,a)),t=Mt({format:l},t,{visible:s}),new mo(a,e,o,t)}}),yo=Wt.extend({init:function(e,t,i){var n=this;i=i||{},Mt(i,{min:x(i.min),max:x(i.max),axisCrossingValue:x(i.axisCrossingValues||i.axisCrossingValue)}),i=n.applyDefaults(x(e),x(t),i),Wt.fn.init.call(n,i)},options:{type:Hi,labels:{dateFormats:po}},applyDefaults:function(e,i,n){var o=this,a=n.min||e,r=n.max||i,s=n.baseUnit||o.timeUnits(r-a),l=Fn[s],c=b(m(a)-1,s)||x(r),h=w(m(r)+1,s),p=n.majorUnit?n.majorUnit:t,d=p||Ft.ceil(Ft.autoMajorUnit(c.getTime(),h.getTime()),l)/l,u=_(c,h,s),g=Ft.ceil(u,d),f=g-u,y=Vt.floor(f/2),A=f-y;return n.baseUnit||delete n.baseUnit,Mt({baseUnit:s,min:v(c,-y,s),max:v(h,A,s),minorUnit:d/5},n,{majorUnit:d})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Vt.floor(_(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,a=n.reverse,r=i.lineBox(),s=o?r.height():r.width(),l=_(n.min,n.max,n.baseUnit),c=s/l,h=e*c,p=i.getDivisions(e),d=(o?-1:1)*(a?-1:1),u=1===d?1:2,g=r[(o?io:to)+u],f=[];for(t=0;p>t;t++)f.push(ui(g,zi)),g+=h*d;return f},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return Qt.fn.getSlot.call(this,x(e),x(t))},getValue:function(e){var t=Qt.fn.getValue.call(this,e);return null!==t?x(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var i=this.options,n=e*i.majorUnit,o=v(i.min,n,i.baseUnit),a=t.dateFormats[i.baseUnit];return t.format=t.format||a,new mo(o,e,null,t)},timeUnits:function(e){var t=en;return e>=Nn?t=no:e>=Mn?t=dn:e>=Hn?t=Zn:e>=Un&&(t=Ni),t},translateRange:function(e){var t=this,i=t.options,n=i.baseUnit,o=i.weekStartDay,a=t.lineBox(),r=i.vertical?a.height():a.width(),s=t.range(),l=r/(s.max-s.min),c=ui(e/l,Yi),h=k(i.min,c),p=k(i.max,c);return{min:v(h,0,n,o),max:v(p,0,n,o)}},scaleRange:function(e){for(var t,i,n=this,o=n.options,a=o.baseUnit,r=o.weekStartDay,s=Vt.abs(e),l=o.min,c=o.max;s--;)t=A(l,c),i=Vt.round(.1*t),0>e?(l=k(l,i),c=k(c,-i)):(l=k(l,-i),c=k(c,i)),l=v(l,0,a,r),c=v(c,1,a,r);return{min:l,max:c}}}),bo=qt.extend({init:function(e){var t=this;qt.fn.init.call(t,e)},options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,i,n=this,o=n.options,a=o.vertical,r=a?io:to,s=n.children,l=o.gap,c=o.spacing,h=s.length,p=h+l+c*(h-1),d=(a?e.height():e.width())/p,u=e[r+1]+d*(l/2);for(i=0;h>i;i++)t=(s[i].box||e).clone(),t[r+1]=u,t[r+2]=u+d,s[i].reflow(t),h-1>i&&(u+=d*c),u+=d}}),wo=qt.extend({init:function(e){var t=this;qt.fn.init.call(t,e)},options:{vertical:!0,isReversed:!1},reflow:function(e){var t,i,n,o,a=this,r=a.options,s=r.vertical,l=s?to:io,c=s?io:to,h=e[c+2],p=a.children,d=a.box=new Xt,u=p.length;for(t=r.isReversed?s?Pi:rn:s?Wn:Cn,i=0;u>i;i++)n=p[i],o=n.box.clone(),o.snapTo(e,l),n.options&&(n.options.stackBase=h),0===i?d=a.box=o.clone():o.alignTo(p[i-1].box,t),n.reflow(o),d.wrap(o)}}),Ao={click:function(t,i){var n=this;t.trigger(En,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})},hover:function(t,i){var n=this;t.trigger(Rn,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})}},ko=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.value=e,i.options.id=fi(),i.enableDiscovery()},options:{color:eo,border:{width:1},vertical:!0,overlay:{gradient:Zi},aboveAxis:!0,labels:{visible:!1},animation:{type:Ai},opacity:1},render:function(){var e,t=this,i=t.value,n=t.options,o=n.labels,a=i;t._rendered||(t._rendered=!0,o.visible&&i&&(o.template?(e=Ht(o.template),a=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(a=ri(o.format,a)),t.append(new go(a,Mt({vertical:n.vertical,id:fi()},n.labels)))))},reflow:function(e){this.render();var t=this,i=t.options,n=t.children,o=n[0];t.box=e,o&&(o.options.aboveAxis=i.aboveAxis,o.reflow(e))},getViewElements:function(e){var t=this,i=t.options,n=i.vertical,o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,dashType:i.border.dashType}:{},a=t.box,r=Mt({id:i.id,fill:i.color,fillOpacity:i.opacity,strokeOpacity:i.opacity,vertical:i.vertical,aboveAxis:i.aboveAxis,stackBase:i.stackBase,animation:i.animation,data:{modelId:i.modelId}},o),s=[];return a.width()>0&&a.height()>0&&(i.overlay&&(r.overlay=Mt({rotation:n?0:90},i.overlay)),s.push(e.createRect(a,r))),ai(s,qt.fn.getViewElements.call(t,e)),s},highlightOverlay:function(e,t){var i=this,n=i.box;return t=Mt({data:{modelId:i.options.modelId}},t),e.createRect(n,t)},getBorderColor:function(){var e=this,t=e.options,i=t.color,n=t.border,o=n.color,a=n._brightness||ki;return si(o)||(o=new Jt(i).brightness(a).toHex()),o},tooltipAnchor:function(e,t){var i,n,o=this,a=o.options,r=o.box,s=a.vertical,l=a.aboveAxis;return s?(i=r.x2+jn,n=l?r.y1:r.y2-t):a.isStacked?(i=l?r.x2-e:r.x1,n=r.y1-t-jn):(i=l?r.x2+jn:r.x1-e-jn,n=r.y1),new $t(i,n)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});Mt(ko.fn,Ao),M=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.plotArea=e,i.categoryAxis=e.seriesCategoryAxis(t.series[0]),i.valueAxisRanges={},i.points=[],i.categoryPoints=[],i.seriesPoints=[],i.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(Et(e.addValue,e))},addValue:function(e,t,i,n,o){var a,r=this,s=e.value,l=r.categoryPoints[i],c=r.seriesPoints[o];l||(r.categoryPoints[i]=l=[]),c||(r.seriesPoints[o]=c=[]),r.updateRange(s,i,n),a=r.createPoint(e,t,i,n,o),a&&(a.category=t,a.series=n,a.seriesIx=o,a.owner=r,a.dataItem=n.data[i]),r.points.push(a),c.push(a),l.push(a)},updateRange:function(e,t,i){var n=this,o=i.axis,a=n.valueAxisRanges[o];si(e)&&!isNaN(e)&&(a=n.valueAxisRanges[o]=a||{min:cn,max:hn},a.min=Vt.min(a.min,e),a.max=Vt.max(a.max,e))},seriesValueAxis:function(e){var t=this.plotArea,i=e.axis,n=i?t.namedValueAxes[i]:t.valueAxis;if(!n)throw Error("Unable to locate value axis with name "+i);return n},reflow:function(e){var t,i,n,o=this,a=o.options,r=a.invertAxes,s=0,l=o.categorySlots=[],c=o.points,h=o.categoryAxis;o.traverseDataPoints(function(e,a,p,d){var u,g,f,x,m,v,y=e.value;t=o.seriesValueAxis(d),i=o.categoryAxisCrossingValue(t),n=c[s++],n&&n.plotValue&&(y=n.plotValue),u=o.categorySlot(h,p,t),g=o.valueSlot(t,y,i),f=r?g:u,x=r?u:g,m=new Xt(f.x1,x.y1,f.x2,x.y2),v=t.options.reverse?i>y:y>=i,n&&(n.options.aboveAxis=v,n.reflow(m)),l[p]||(l[p]=u)}),o.reflowCategories(l),o.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,i=e.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue);return n[t.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(e,t,i){return e.getSlot(t,i)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,i,n,o,a,r=this,s=r.options,l=s.series,c=r.categoryAxis.options.categories||[],h=u(l),p=r.bindableFields(),d=l.length;for(t=0;h>t;t++)for(i=0;d>i;i++)o=c[t],a=l[i],n=P(a,t,p),e(n,o,t,a,i)},bindableFields:function(){return[]},formatPointValue:function(e,t){return ri(t,e.value)}}),N=M.extend({init:function(e,t){var i=this;i._groupTotals={},i._groups=[],M.fn.init.call(i,e,t)},render:function(){var e=this;M.fn.render.apply(e),e.computeAxisRanges()},createPoint:function(e,i,n,o){var a,r,s,l,c,h=this,p=e.value,d=h.options,u=h.children,g=h.options.isStacked,f=Mt({},o.labels);return g&&f.position==bn&&(f.position=on),a=new ko(p,Mt({},{vertical:!d.invertAxes,overlay:o.overlay,labels:f,isStacked:g},o,{color:e.fields.color||t})),r=u[n],r||(r=new bo({vertical:d.invertAxes,gap:d.gap,spacing:d.spacing}),h.append(r)),g?(c=h.getStackWrap(o,r),0===c.children.length?(s=new wo({vertical:!d.invertAxes}),l=new wo({vertical:!d.invertAxes,isReversed:!0}),c.append(s,l)):(s=c.children[0],l=c.children[1]),p>0?s.append(a):l.append(a)):r.append(a),a
},getStackWrap:function(e,t){var i,n,o=t.children,a=e.stack,r=o.length;if(typeof a===Ln){for(n=0;r>n;n++)if(o[n]._stackGroup===a){i=o[n];break}}else i=o[0];return i||(i=new qt,i._stackGroup=a,t.append(i)),i},updateRange:function(e,t,i){var n=this,o=n.options.isStacked,a=n.groupTotals(i.stack),r=a.positive,s=a.negative;si(e)&&(o?d(e>0?r:s,t,e):M.fn.updateRange.apply(n,arguments))},computeAxisRanges:function(){var e,t,i=this,a=i.options.isStacked;a&&(e=i.options.series[0].axis,t=i.categoryTotals(),i.valueAxisRanges[e]={min:n(t.negative.concat(0)),max:o(t.positive.concat(0))})},seriesValueAxis:function(e){var t=this,i=t.options;return M.fn.seriesValueAxis.call(t,i.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,i){return e.getSlot(t,this.options.isStacked?0:i)},categorySlot:function(e,t,i){var n,o,a=this,r=a.options,s=e.getSlot(t);return r.isStacked&&(o=i.getSlot(0,0),n=r.invertAxes?to:io,s[n+1]=s[n+2]=o[n+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),M.fn.reflow.call(t,e)},setStacksDirection:function(){var e,t,i,n,o,a,r,s,l,c=this,h=c.options,p=h.series,d=u(p),g=c.children,f=p.length;for(t=0;f>t;t++)for(i=p[t],n=c.seriesValueAxis(i),e=0;d>e;e++)o=g[e],a=c.getStackWrap(i,o),r=a.children,s=r[0],l=r[1],s&&l&&(s.options.isReversed=n.options.reverse,l.options.isReversed=!n.options.reverse)},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},groupTotals:function(e){var t=this,i=typeof e===Ln?e:"default",n=t._groupTotals[i];return n||(n=t._groupTotals[i]={positive:[],negative:[]},t._groups.push(i)),n},categoryTotals:function(){var e,t,i,n=this,o=n._groups,a=n._groupTotals,r={positive:[],negative:[]},s=o.length;for(i=0;s>i;i++)e=o[i],t=a[e],ai(r.positive,t.positive),ai(r.negative,t.negative);return r},bindableFields:function(){return["color"]}}),F=Gt.extend({init:function(e){var t=this;Gt.fn.init.call(t,e)},options:{type:Bi,align:Di,vAlign:Di},getViewElements:function(e,t){var i,n,o=this,a=o.options,r=a.type,s=o.paddingBox,l=s.width()/2;return a.visible&&o.hasBox()?(n=Mt(o.elementStyle(),t),i=r===Jn?e.createPolyline([new $t(s.x1+l,s.y1),new $t(s.x1,s.y2),new $t(s.x2,s.y2)],!0,n):r===Bi?e.createCircle(new $t(ui(s.x1+l,zi),ui(s.y1+s.height()/2,zi)),l,n):e.createRect(s,n),[i]):[]}}),W=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.value=e,i.options.id=fi(),i.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:eo,size:ln,type:Bi,border:{width:2},opacity:1},labels:{visible:!1,position:mi,margin:ci(3),padding:ci(4),animation:{type:$i,delay:tn}}},render:function(){var e,t=this,i=t.options,n=i.markers,o=i.labels,a=n.background,r=Mt({},n.border),s=t.value;t._rendered||(t._rendered=!0,si(r.color)||(r.color=new Jt(a).brightness(ki).toHex()),t.marker=new F({id:t.options.id,visible:n.visible&&n.size,type:n.type,width:n.size,height:n.size,background:a,border:r,opacity:n.opacity,zIndex:n.zIndex,animation:n.animation}),t.append(t.marker),o.visible&&(o.template?(e=Ht(o.template),s=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(s=t.formatValue(o.format)),t.label=new ii(s,Mt({id:fi(),align:Di,vAlign:Di,margin:{left:5,right:5}},o)),t.append(t.label)))},markerBox:function(){return this.marker.box},reflow:function(e){var t,i=this,n=i.options,o=n.vertical,a=n.aboveAxis;i.render(),i.box=e,t=e.clone(),o?a?t.y1-=t.height():t.y2+=t.height():a?t.x1+=t.width():t.x2-=t.width(),i.marker.reflow(t),i.reflowLabel(t)},reflowLabel:function(e){var t=this,i=t.options,n=t.marker,o=t.label,a=i.labels.position;o&&(a=a===mi?Wn:a,a=a===_i?Pi:a,o.reflow(e),o.box.alignTo(n.box,a),o.reflow(o.box))},highlightOverlay:function(e,t){var i=this,n=i.marker;return t=Mt({data:{modelId:i.options.modelId}},t),n.getViewElements(e,Mt(t,{fill:n.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(e,t){var i=this,n=i.marker.box,o=i.options.aboveAxis;return new $t(n.x2+jn,o?n.y1-t:n.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mt(W.fn,Ao),Y=W.extend({init:function(e,t){var i=this;W.fn.init.call(i,e,t),i.category=e.category},options:{labels:{position:Di},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o=n.border.width,a=i.markers,r=t.box.center(),s=a.size/2-o/2,l=n.border.color||new Jt(a.background).brightness(ki).toHex();return e.createCircle(r,s,{data:{modelId:t.options.modelId},stroke:l,strokeWidth:o,strokeOpacity:n.border.opacity})},toggleHighlight:function(e){var i,n=this,o=n.options.highlight.opacity;n.highlighted=!n.highlighted,i=n.marker.getViewElements(e,{fillOpacity:n.highlighted?o:t})[0],i.refresh(li(this.options.id))}}),j=qt.extend({init:function(e,t,i){var n=this;qt.fn.init.call(n),n.linePoints=e,n.series=t,n.seriesIx=i,n.options.id=fi(),n.enableDiscovery()},options:{},points:function(e){var t,i,n=this,o=n.linePoints.concat(e||[]),a=[],r=o.length;for(t=0;r>t;t++)i=o[t].markerBox().center(),a.push(new $t(i.x,i.y));return a},getViewElements:function(e){var t=this,i=t.series;return qt.fn.getViewElements.call(t,e),[e.createPolyline(t.points(),!1,{id:t.options.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,fill:"",dashType:i.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(e,t){var i=this,n=i.seriesIx;return i.parent.getNearestPoint(t.x,t.y,n)}}),X={renderSegments:function(){var e,t,i,n,o,a,r,s=this,l=s.options,c=l.series,h=s.seriesPoints,p=h.length,d=[];for(t=0;p>t;t++){for(i=h[t],r=i.length,e=c[t],n=[],a=0;r>a;a++)o=i[a],o?n.push(o):s.seriesMissingValues(e)!==an&&(n.length>1&&d.push(s.createSegment(n,e,t,di(d))),n=[]);n.length>1&&d.push(s.createSegment(n,e,t,di(d)))}s._segments=d,s.append.apply(s,d)},seriesMissingValues:function(e){var t=e.missingValues,i=!t&&this.options.isStacked;return i?oo:t},createSegment:function(e,t,i){return new j(e,t,i)},getNearestPoint:function(e,t,i){var n,o,a,r,s,l=this,c=l.options.invertAxes,h=c?io:to,p=c?t:e,d=l.seriesPoints[i],u=cn,g=d.length;for(s=0;g>s;s++)n=d[s],n&&si(n.value)&&null!==n.value&&(o=n.box,a=Vt.abs(o.center()[h]-p),u>a&&(r=n,u=a));return r}},G=M.extend({init:function(e,t){var i=this;i._stackAxisRange={min:cn,max:hn},i._categoryTotals=[],i.enableDiscovery(),M.fn.init.call(i,e,t)},render:function(){var e=this;M.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,i,n){var o,a,r=this,s=e.value,l=r.options,c=l.isStacked,h=r.categoryPoints[i],p=r.seriesMissingValues(n),d=0,u=e.fields;if(!si(s)||null===s){if(p!==oo)return null;s=0}return a=new W(s,Mt({vertical:!l.invertAxes,markers:{border:{color:n.color}}},n,{color:u.color,markers:{border:{color:u.color}}})),c&&(o=L(h),o&&(d=o.plotValue),a.plotValue=s+d),r.append(a),a},updateRange:function(e,t){var i,n=this,o=n.options.isStacked,r=n._stackAxisRange,s=n._categoryTotals;si(e)&&(o?(d(s,t,e),i=a(s),r.min=Vt.min(r.min,i.min),r.max=Vt.max(r.max,i.max)):M.fn.updateRange.apply(n,arguments))},computeAxisRanges:function(){var e,t=this,i=t.options.isStacked;i&&(e=t.options.series[0].axis,t.valueAxisRanges[e]=t._stackAxisRange)},getViewElements:function(e){var t=this,i=M.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:Ri}});return n.children=i,[n]},bindableFields:function(){return["color"]}}),Mt(G.fn,X),q=j.extend({init:function(e,t,i,n){var o=this;o.stackPoints=t,j.fn.init.call(o,e,i,n)},points:function(){var e,t,i=this,n=i.parent,o=n.options.isStacked&&i.seriesIx>0,a=n.plotArea,r=n.options.invertAxes,s=n.seriesValueAxis(i.series),l=s.lineBox(),c=a.seriesCategoryAxis(i.series),h=c.lineBox(),p=r?h.x1:h.y1,d=i.stackPoints,u=j.fn.points.call(i,d);return p=r?V(p,l.x1,l.x2):V(p,l.y1,l.y2),!o&&u.length>1&&(e=u[0],t=di(u),r?(u.unshift(new $t(p,e.y)),u.push(new $t(p,t.y))):(u.unshift(new $t(e.x,p)),u.push(new $t(t.x,p)))),u},getViewElements:function(e){var t=this,i=t.series,n=Mt({color:i.color,opacity:i.opacity},i.line),o=j.fn.points.call(t),a=t.points();return qt.fn.getViewElements.call(t,e),[e.createPolyline(a,!1,{id:t.options.id,fillOpacity:i.opacity,fill:i.color,stack:i.stack,data:{modelId:t.options.modelId},zIndex:-1}),e.createPolyline(o,!1,{id:t.options.id,stroke:n.color,strokeWidth:n.width,strokeOpacity:n.opacity,dashType:n.dashType,data:{modelId:t.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),J=G.extend({createSegment:function(e,t,i,n){var o,a=this,r=a.options;return r.isStacked&&i>0&&n&&(o=n.linePoints.slice(0).reverse()),new q(e,o,t,i)},seriesMissingValues:function(e){return e.missingValues||oo}}),K=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.plotArea=e,i.xAxisRanges={},i.yAxisRanges={},i.points=[],i.seriesPoints=[],i.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(Et(e.addValue,e))},addValue:function(e,t){var i,n=this,o=e.x,a=e.y,r=t.seriesIx,s=n.seriesPoints[r];n.updateRange(e,t.series),si(o)&&null!==o&&si(a)&&null!==a&&(i=n.createPoint(e,t.series,r,t),i&&Bt(i,t)),n.points.push(i),s.push(i)},updateRange:function(e,t){var i=this,n=e.x,o=e.y,a=t.xAxis,r=t.yAxis,s=i.xAxisRanges[a],l=i.yAxisRanges[r];si(n)&&null!==n&&(s=i.xAxisRanges[a]=s||{min:cn,max:hn},typeof n===Ln&&(n=x(n)),s.min=Vt.min(s.min,n),s.max=Vt.max(s.max,n)),si(o)&&null!==o&&(l=i.yAxisRanges[r]=l||{min:cn,max:hn},typeof o===Ln&&(o=x(o)),l.min=Vt.min(l.min,o),l.max=Vt.max(l.max,o))},createPoint:function(e,t,i,n){var o,a=this;return o=new W(e,Mt({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format}},t,{color:n.color,markers:{border:{color:n.color}}})),a.append(o),o},seriesAxes:function(e){var t=this.plotArea,i=e.xAxis,n=i?t.namedXAxes[i]:t.axisX,o=e.yAxis,a=o?t.namedYAxes[o]:t.axisY;if(!n)throw Error("Unable to locate X axis with name "+i);if(!a)throw Error("Unable to locate Y axis with name "+o);return{x:n,y:a}},reflow:function(e){var t,i,n=this,o=n.points,a=0;n.traverseDataPoints(function(e,r){t=o[a++],i=n.seriesAxes(r.series);var s=i.x.getSlot(e.x,e.x),l=i.y.getSlot(e.y,e.y),c=new Xt(s.x1,l.y1,s.x2,l.y2);t&&t.reflow(c)}),n.box=e},getViewElements:function(e){var t=this,i=qt.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:Ri}});return n.children=i,[n]},traverseDataPoints:function(e){var t,i,n,o,a,r,s,l=this,c=l.options,h=c.series,p=l.seriesPoints,d=l.bindableFields();for(i=0;h.length>i;i++)for(n=h[i],o=p[i],o||(p[i]=[]),t=0;n.data.length>t;t++)a=P(n,t,d),r=a.value,s=a.fields,e(r,Mt({pointIx:t,series:n,seriesIx:i,dataItem:n.data[t],owner:l},s))},bindableFields:function(){return["color"]},formatPointValue:function(e,t){var i=e.value;return ri(t,i.x,i.y)}}),Q=K.extend({render:function(){var e=this;K.fn.render.call(e),e.renderSegments()}}),Mt(Q.fn,X),$=K.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var i,n=this,o=t.series,a=o.negativeValues,r=n.plotArea.options.seriesColors||[],s=!0;i=t.color||o.color||r[t.pointIx%r.length],0>e.size&&(i=a.color||i,s=a.visible),t.color=i,s&&K.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),K.fn.reflow.call(t,e)},createPoint:function(e,t,i,n){var o,a=this,r=t.data.length,s=n.pointIx*(tn/r),l={delay:s,duration:tn-s,type:Si};return o=new Y(e,Mt({tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format,animation:l}},t,{color:n.color,markers:{type:Bi,background:n.color,border:t.border,opacity:t.opacity,animation:l}})),a.append(o),o},updateBubblesSize:function(e){var t,i,n,o,a,r,s,l,c,h,p,d,u,g,f,x,m=this,v=m.options,y=v.series,b=Vt.min(e.width(),e.height());for(t=0;y.length>t;t++)for(n=y[t],o=m.seriesPoints[t],a=m.maxSize(o),r=n.minSize||Vt.max(.02*b,10),s=n.maxSize||.2*b,l=r/2,c=s/2,h=Vt.PI*l*l,p=Vt.PI*c*c,d=p-h,u=d/a,i=0;o.length>i;i++)g=o[i],f=Vt.abs(g.value.size)*u,x=Vt.sqrt((h+f)/Vt.PI),Mt(g.options,{markers:{size:2*x,zIndex:c-x},labels:{zIndex:c-x+1}})},maxSize:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t].value.size,o=Vt.max(o,Vt.abs(i));return o},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(e){var t=this,i=qt.fn.getViewElements.call(t,e),n=e.createGroup();return n.children=i,[n]},formatPointValue:function(e,t){var i=e.value;return ri(t,i.x,i.y,i.size,e.category)}}),Z=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.value=e,i.options.id=fi(),i.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:Zi},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}}},reflow:function(e){var t,i,n,o=this,a=o.options,r=o.owner,s=o.value,l=r.seriesValueAxis(a),c=[];i=l.getSlot(s.open,s.close),n=l.getSlot(s.low,s.high),i.x1=n.x1=e.x1,i.x2=n.x2=e.x2,o.realBody=i,t=n.center().x,c.push([new $t(t,n.y1),new $t(t,i.y1)]),c.push([new $t(t,i.y2),new $t(t,n.y2)]),o.lowHighLinePoints=c,o.box=n.clone().wrap(i)},getViewElements:function(e){var t=this,i=t.options,n=[],o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,dashType:i.border.dashType,strokeOpacity:si(i.border.opacity)?i.border.opacity:i.opacity}:{},a=Mt({id:i.id,fill:t.color,fillOpacity:i.opacity},o),r={id:i.id,strokeOpacity:si(i.line.opacity)?i.line.opacity:i.opacity,strokeWidth:i.line.width,stroke:i.line.color||t.color,dashType:i.line.dashType,strokeLineCap:"butt"},s=e.createGroup({animation:{type:Ri}});return i.overlay&&(a.overlay=Mt({rotation:0},i.overlay)),n.push(e.createRect(t.realBody,a)),n.push(e.createPolyline(t.lowHighLinePoints[0],!1,r)),n.push(e.createPolyline(t.lowHighLinePoints[1],!1,r)),n.push(t.createOverlayRect(e,i)),ai(n,qt.fn.getViewElements.call(t,e)),s.children=n,[s]},getBorderColor:function(){var e=this,t=e.options,i=e.color,n=t.border,o=n.color;return si(o)||(o=new Jt(i).brightness(n._brightness).toHex()),o},createOverlayRect:function(e,t){return e.createRect(this.box,{id:t.id,data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var i=this,n=i.options,o=n.highlight,a=o.border,r=i.getBorderColor(),s=o.line,l={data:{modelId:n.modelId}},c=Mt({},l,t,{stroke:r,strokeOpacity:a.opacity,strokeWidth:a.width}),h=Mt({},l,{stroke:s.color||r,strokeWidth:s.width,strokeOpacity:s.opacity,strokeLineCap:"butt"}),p=e.createGroup();return p.children.push(e.createRect(i.realBody,c)),p.children.push(e.createPolyline(i.lowHighLinePoints[0],!1,h)),p.children.push(e.createPolyline(i.lowHighLinePoints[1],!1,h)),p},tooltipAnchor:function(){var e=this,t=e.box;return new $t(t.x2+jn,t.y1+jn)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mt(Z.fn,Ao),et=M.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},addValue:function(e,t,i,n,o){var a,r,s=this,l=s.options,c=e.value,h=s.children,p=e.fields.color||n.color,d=this.splitValue(c),u=U(d),g=s.categoryPoints[i];g||(s.categoryPoints[i]=g=[]),u&&(a=s.createPoint(c,n)),r=h[i],r||(r=new bo({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(r)),a&&(s.updateRange(c,i,n),r.append(a),n.type==Ti&&c.open>c.close&&(p=e.fields.downColor||n.downColor),a.color=p,a.categoryIx=i,a.category=t,a.series=n,a.seriesIx=o,a.owner=s,a.dataItem=n.data[i]),s.points.push(a),g.push(a)},createPoint:function(e,t){return new Z(e,t)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,i){var n=this,o=i.axis,a=n.valueAxisRanges[o],r=n.splitValue(e);a=n.valueAxisRanges[o]=a||{min:cn,max:hn},a=n.valueAxisRanges[o]={min:Vt.min.apply(Vt,r.concat([a.min])),max:Vt.max.apply(Vt,r.concat([a.max]))}},formatPointValue:function(e,t){var i=e.value;return ri(t,i.open,i.high,i.low,i.close,e.category)}}),tt=Z.extend({reflow:function(e){var t,i,n,o,a=this,r=a.options,s=a.owner,l=a.value,c=s.seriesValueAxis(r),h=[],p=[],d=[];o=c.getSlot(l.low,l.high),i=c.getSlot(l.open,l.open),n=c.getSlot(l.close,l.close),i.x1=n.x1=o.x1=e.x1,i.x2=n.x2=o.x2=e.x2,t=o.center().x,h.push(new $t(i.x1,i.y1)),h.push(new $t(t,i.y1)),p.push(new $t(t,n.y1)),p.push(new $t(n.x2,n.y1)),d.push(new $t(t,o.y1)),d.push(new $t(t,o.y2)),a.oPoints=h,a.cPoints=p,a.lhPoints=d,a.box=o.clone().wrap(i.clone().wrap(n))},getViewElements:function(e){var t=this,i=t.options,n=[],o={id:i.id,strokeOpacity:i.opacity,zIndex:-1,strokeWidth:i.width,stroke:t.color,dashType:i.dashType},a=e.createGroup({animation:{type:Ri}});return n.push(t.createOverlayRect(e,i)),n.push(e.createPolyline(t.oPoints,!0,o)),n.push(e.createPolyline(t.cPoints,!0,o)),n.push(e.createPolyline(t.lhPoints,!0,o)),ai(n,qt.fn.getViewElements.call(t,e)),a.children=n,[a]},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o={data:{modelId:i.modelId}},a=Mt(o,{strokeWidth:n.line.width,strokeOpacity:n.line.opacity,stroke:n.line.color||t.color}),r=e.createGroup();return r.children.push(e.createPolyline(t.oPoints,!0,a)),r.children.push(e.createPolyline(t.cPoints,!0,a)),r.children.push(e.createPolyline(t.lhPoints,!0,a)),r}}),it=et.extend({createPoint:function(e,t){return new tt(e,t)},bindableFields:function(){return["color"]}}),nt=qt.extend({init:function(e,t,i){var n=this;n.value=e,n.sector=t,n.enableDiscovery(),qt.fn.init.call(n,i)},options:{color:eo,overlay:{gradient:Pn},border:{width:.5},labels:{visible:!1,distance:35,font:Fi,margin:ci(.5),align:Bi,zIndex:1,position:bn},animation:{type:An},highlight:{visible:!0,border:{width:1}}},render:function(){var e,t=this,i=t.options,n=i.labels,o=t.value;t._rendered||(t._rendered=!0,n.template?(e=Ht(n.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):n.format&&(o=ri(n.format,o)),n.visible&&o&&(t.label=new ii(o,Mt({},n,{id:fi(),align:Di,vAlign:"",animation:{type:$i,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,i,n,o=this,a=o.sector.clone(),r=o.options,s=o.label,l=r.labels,c=l.distance,h=a.middle();s&&(n=s.box.height(),i=s.box.width(),l.position==Di?(a.r=Vt.abs((a.r-n)/2)+n,e=a.point(h),s.reflow(new Xt(e.x,e.y-n/2,e.x,e.y))):l.position==on?(a.r=a.r-n/2,e=a.point(h),s.reflow(new Xt(e.x,e.y-n/2,e.x,e.y))):(e=a.clone().expand(c).point(h),e.x>=a.c.x?(t=e.x+i,s.orientation=Cn):(t=e.x-i,s.orientation=rn),s.reflow(new Xt(t,e.y-n,e.x,e.y))))},getViewElements:function(e){var t=this,i=t.sector,n=t.options,o=n.border||{},a=o.width>0?{stroke:o.color,strokeWidth:o.width,dashType:o.dashType}:{},r=[],s=n.overlay;return s&&(s=Mt({},n.overlay,{r:i.r,ir:i.ir,cx:i.c.x,cy:i.c.y,bbox:i.getBBox()})),t.value&&r.push(t.createSegment(e,i,Mt({id:n.id,fill:n.color,overlay:s,fillOpacity:n.opacity,strokeOpacity:n.opacity,animation:Mt(n.animation,{delay:t.animationDelay}),data:{modelId:n.modelId},zIndex:n.zIndex,singleSegment:1===(t.options.data||[]).length},a))),ai(r,qt.fn.getViewElements.call(t,e)),r},createSegment:function(e,t,i){return i.singleSegment?e.createCircle(t.c,t.r,i):e.createSector(t,i)},highlightOverlay:function(e,t){var i,n=this,o=n.options.highlight||{},a=o.border||{},r=n.options.id+wn;return t=Mt({},t,{id:r}),0!==n.value&&(i=n.createSegment(e,n.sector,Mt({},t,{fill:o.color,fillOpacity:o.opacity,strokeOpacity:a.opacity,strokeWidth:a.width,stroke:a.color,data:{modelId:n.options.modelId}}))),i},tooltipAnchor:function(e,t){var i=this,n=i.sector.clone().expand(15),o=e/2,a=t/2,r=n.middle(),s=r*Xi,l=n.point(r),c=l.x-o,h=l.y-a,p=Vt.sin(s),d=Vt.cos(s);return.9>Vt.abs(p)&&(c+=o*-d/Vt.abs(d)),.9>Vt.abs(d)&&(h+=a*-p/Vt.abs(p)),new $t(c,h)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mt(nt.fn,Ao),ot=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.plotArea=e,i.segments=[],i.legendItems=[],i.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var e=this;e.traverseDataPoints(Et(e.addValue,e))},traverseDataPoints:function(e){var t,i,n,o,a,r,s,l,c,h,p,d,u=this,g=u.options,f=u.plotArea.options.seriesColors||[],x=g.startAngle,m=f.length,v=g.series,y=v.length,b=fi(),w=u.bindableFields();for(o=0;y>o;o++)for(t=v[o],r=t.data,h=u.pointsTotal(t),s=360/h,p=x,o!=y-1&&t.labels.position==bn&&(t.labels.position=Di),d=0;r.length>d;d++)i=P(t,d,w),l=i.value,n=i.fields,a=ui(l*s,Yi),c=1!=r.length&&!!n.explode,t.color=n.color||f[d%m],e(l,new ei(null,0,0,p,a),{owner:u,category:n.category||"",categoryIx:d,series:t,seriesIx:o,dataItem:r[d],percentage:l/h,explode:c,visibleInLegend:n.visibleInLegend,overlay:{id:b+o},zIndex:y-o,animationDelay:u.animationDelay(d,o,y)}),p+=a},bindableFields:function(){return["category","color","explode","visibleInLegend"]},addValue:function(e,t,i){var n,o=this;o.createLegendItem(e,i),e&&(n=new nt(e,t,i.series),n.options.id=fi(),Bt(n,i),o.append(n),o.segments.push(n))},createLegendItem:function(e,t){var i,n,o=this,a=(o.options.legend||{}).labels||{};t&&t.visibleInLegend!==!1&&(i=t.category||"",(a||{}).template&&(n=Ht(a.template),i=n({text:i,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),o.legendItems.push({name:i,color:t.series.color}))},pointsTotal:function(e){var t,i=e.data,n=i.length,o=0;for(t=0;n>t;t++)o+=P(e,t).value;return o},reflow:function(e){var t,i,n,o,a,r,s,l,c=this,h=c.options,p=e.clone(),d=5,u=Vt.min(p.width(),p.height()),g=u/2,f=u-.85*u,x=si(h.padding)?h.padding:f,m=new Xt(p.x1,p.y1,p.x1+u,p.y1+u),v=m.center(),y=c.seriesConfigs||[],b=p.center(),w=c.segments,A=w.length,k=h.series.length,_=[],C=[];for(x=x>g-d?g-d:x,m.translate(b.x-v.x,b.y-v.y),r=g-x,l=new $t(r+m.x1+x,r+m.y1+x),s=0;A>s;s++)o=w[s],a=o.sector,a.r=r,a.c=l,i=o.seriesIx,y.length&&(t=y[i],a.ir=t.ir,a.r=t.r),i==k-1&&o.explode&&(a.c=a.clone().radius(.15*a.r).point(a.middle())),o.reflow(m),n=o.label,n&&n.options.position===bn&&i==k-1&&(n.orientation===Cn?C.push(n):_.push(n));_.length>0&&(_.sort(c.labelComparator(!0)),c.leftLabelsReflow(_)),C.length>0&&(C.sort(c.labelComparator(!1)),c.rightLabelsReflow(C)),c.box=m},leftLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},rightLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},distanceBetweenLabels:function(e){var t,i,n,o=this,a=o.segments,r=a[a.length-1],s=r.sector,l=e[0].box,c=e.length-1,h=s.r+r.options.labels.distance,p=[];for(i=ui(l.y1-(s.c.y-h-l.height()-l.height()/2)),p.push(i),n=0;c>n;n++)l=e[n].box,t=e[n+1].box,i=ui(t.y1-l.y2),p.push(i);return i=ui(s.c.y+h-e[c].box.y2-e[c].box.height()/2),p.push(i),p},distributeLabels:function(e,t){var i,n,o,a,r=this,s=e.length;for(a=0;s>a;a++)for(n=o=a,i=-e[a];i>0&&(n>=0||s>o);)i=r._takeDistance(e,a,--n,i),i=r._takeDistance(e,a,++o,i);r.reflowLabels(e,t)},_takeDistance:function(e,t,i,n){if(e[i]>0){var o=Vt.min(e[i],n);n-=o,e[i]-=o,e[t]+=o}return n},reflowLabels:function(e,t){var i,n,o,a,r=this,s=r.segments,l=s[s.length-1],c=l.sector,h=t.length,p=l.options.labels,d=p.distance,u=c.c.y-(c.r+d)-t[0].box.height();for(e[0]+=2,a=0;h>a;a++)i=t[a],u+=e[a],o=i.box,n=r.hAlignLabel(o.x2,c.clone().expand(d),u,u+o.height(),i.orientation==Cn),i.orientation==Cn?(p.align!==Bi&&(n=c.r+c.c.x+d),i.reflow(new Xt(n+o.width(),u,n,u))):(p.align!==Bi&&(n=c.c.x-c.r-d),i.reflow(new Xt(n-o.width(),u,n,u))),u+=o.height()},getViewElements:function(e){var t,i,n,o,a,s,l,c,h,p,d,u,g,f,x,m=this,v=m.options,y=v.connectors,b=m.segments,w=[],A=b.length,k=4;for(c=0;A>c;c++)a=b[c],i=a.sector,n=i.middle(),l=a.label,s={seriesId:a.seriesIx},l&&(o=[],l.options.position===bn&&0!==a.value&&(u=l.box,g=i.c,f=i.point(n),x=new $t(u.x1,u.center().y),f=i.clone().expand(y.padding).point(n),o.push(f),l.orientation==Cn?(p=new $t(u.x1-y.padding,u.center().y),d=r(g,f,x,p),x=new $t(p.x-k,p.y),d=d||x,d.x=Vt.min(d.x,x.x),m.pointInCircle(d,i.c,i.r+k)||d.x<i.c.x?(h=i.c.x+i.r+k,a.options.labels.align!==Li?x.x>h?o.push(new $t(h,f.y)):o.push(new $t(f.x+2*k,f.y)):o.push(new $t(h,f.y)),o.push(new $t(x.x,p.y))):(d.y=p.y,o.push(d))):(p=new $t(u.x2+y.padding,u.center().y),d=r(g,f,x,p),x=new $t(p.x+k,p.y),d=d||x,d.x=Vt.max(d.x,x.x),m.pointInCircle(d,i.c,i.r+k)||d.x>i.c.x?(h=i.c.x-i.r-k,a.options.labels.align!==Li?h>x.x?o.push(new $t(h,f.y)):o.push(new $t(f.x-2*k,f.y)):o.push(new $t(h,f.y)),o.push(new $t(x.x,p.y))):(d.y=p.y,o.push(d))),o.push(p),t=e.createPolyline(o,!1,{id:fi(),stroke:y.color,strokeWidth:y.width,animation:{type:$i,delay:a.animationDelay},data:{modelId:a.options.modelId}}),w.push(t)));return ai(w,qt.fn.getViewElements.call(m,e)),w},labelComparator:function(e){return e=e?-1:1,function(t,i){return t=(t.parent.sector.middle()+270)%360,i=(i.parent.sector.middle()+270)%360,(t-i)*e}},hAlignLabel:function(e,t,i,n,o){var a=t.c.x,r=t.c.y,s=t.r,l=Vt.min(Vt.abs(r-i),Vt.abs(r-n));return l>s?e:a+Vt.sqrt(s*s-l*l)*(o?1:-1)},pointInCircle:function(e,t,i){return g(t.x-e.x)+g(t.y-e.y)<g(i)},formatPointValue:function(e,t){return ri(t,e.value)},animationDelay:function(e){return e*kn}}),at=nt.extend({options:{overlay:{gradient:Sn},labels:{position:Di},animation:{type:An}},reflowLabel:function(){var e,t,i=this,n=i.sector.clone(),o=i.options,a=i.label,r=o.labels,s=n.middle();a&&(t=a.box.height(),r.position==Di?(n.r-=(n.r-n.ir)/2,e=n.point(s),a.reflow(new Xt(e.x,e.y-t/2,e.x,e.y))):nt.fn.reflowLabel.call(i))},createSegment:function(e,t,i){return e.createRing(t,i)}}),Mt(at.fn,Ao),rt=ot.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,i){var n,o=this;o.createLegendItem(e,i),e&&(n=new at(e,t,i.series),n.options.id=fi(),Bt(n,i),o.append(n),o.segments.push(n))},reflow:function(e){var t,i,n,o,a,r,s=this,l=s.options,c=e.clone(),h=5,p=Vt.min(c.width(),c.height()),d=p/2,u=p-.85*p,g=si(l.padding)?l.padding:u,f=l.series,x=f.length,m=0,v=0,y=0,b=0;for(s.seriesConfigs=[],g=g>d-h?d-h:g,n=d-g,a=0;x>a;a++)t=f[a],0===a&&si(t.holeSize)&&(i=t.holeSize,n-=t.holeSize),si(t.size)?n-=t.size:m++,si(t.margin)&&a!=x-1&&(n-=t.margin);for(si(i)||(b=(d-g)/(x+.75),i=.75*b,n-=i),y=i,a=0;x>a;a++)t=f[a],o=si(t.size)?t.size:n/m,y+=v,r=y+o,s.seriesConfigs.push({ir:y,r:r}),v=t.margin||0,y=r;ot.fn.reflow.call(s,e)},animationDelay:function(e,t,i){return e*qi+tn*(t+1)/(i+1)}}),st=Gt.extend({init:function(e){var t=this;Gt.fn.init.call(t,e),e=t.options,e.id=fi(),t.title=ni.buildTitle(e.title,t,st.fn.options.title),t.content=new qt,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:rn},visible:!0},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e,t=this,i=t.parent;if(i){for(e=0;t.axes.length>e;e++)i.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)i.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.disableDiscovery(),t.content.children=[]},reflow:function(e){var t=this;di(t.children)===t.content&&t.children.pop(),Gt.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,i=M.fn.getViewElements.call(t,e),n=e.createGroup({id:t.options.id}),o=[];return n.children=i.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,t.options.visible&&(o=[n]),o},renderGridLines:function(e){var t,i,n,o,a,r,s=this,l=s.axes,c=l.concat(s.parent.axes),h=[],p=[];for(i=0;l.length>i;i++)for(o=l[i],a=o.options.vertical,t=a?h:p,n=0;c.length>n;n++)0===t.length&&(r=c[n],a!==r.options.vertical&&ai(t,o.renderGridLines(e,r,o)));return h.concat(p)},refresh:function(){var e=this,t=e.view,i=li(e.options.id);t&&i&&i.parentNode.replaceChild(t.renderElement(e.getViewElements(t)[0]),i)}}),lt=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.series=e,i.charts=[],i.options.legend.items=[],i.axes=[],i.crosshairs=[],i.options.id=fi(),i.enableDiscovery(),i.createPanes(),i.render(),i.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Ci,width:0},legend:{}},createPanes:function(){var e,t,i=this,n=[],o=i.options.panes||[],a=Vt.max(o.length,1);for(e=0;a>e;e++)t=new st(o[e]),t.paneIndex=e,n.push(t),i.append(t);i.panes=n},createCrosshairs:function(){var e,t,i,n,o,a=this,r=a.panes;for(e=0;r.length>e;e++)for(i=r[e],t=0;i.axes.length>t;t++)n=i.axes[t],n.options.crosshair&&n.options.crosshair.visible&&(o=new _t(n,n.options.crosshair),a.crosshairs.push(o),a.append(o))},findPane:function(e){var t,i,n=this,o=n.panes;for(t=0;o.length>t;t++)if(o[t].options.name===e){i=o[t];break}return i||o[0]},findPointPane:function(e){var t,i,n=this,o=n.panes;for(t=0;o.length>t;t++)if(o[t].box.containsPoint(e)){i=o[t];break}return i},appendAxis:function(e){var t=this,i=t.findPane(e.options.pane);i.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,i,n=this,o=[];for(t=0;n.axes.length>t;t++)i=n.axes[t],e!==i&&o.push(i);n.axes=o},appendChart:function(e,t){var i=this;i.charts.push(e),i.addToLegend(e),t?t.appendChart(e):i.append(e)},removeChart:function(e){var t,i,n=this,o=[];for(t=0;n.charts.length>t;t++)i=n.charts[t],i!==e&&o.push(i);n.charts=o},addToLegend:function(e){var t,i,n,o,a=e.options.series,r=a.length,s=[],l=this.options.legend.labels||{};if(e.legendItems)s=e.legendItems;else for(t=0;r>t;t++)i=a[t],i.visibleInLegend!==!1&&(n=i.name||"",l.template&&(o=Ht(l.template),n=o({text:n,series:i})),s.push({name:n,color:i.color}));ai(this.options.legend.items,s)},groupAxes:function(e){var t,i,n,o,a=[],r=[];for(n=0;e.length>n;n++)for(t=e[n].axes,o=0;t.length>o;o++)i=t[o],i.options.vertical?r.push(i):a.push(i);return{x:a,y:r,any:a.concat(r)}},groupSeriesByPane:function(){var e,t,i,n=this,o=n.series,a={};for(e=0;o.length>e;e++)i=o[e],t=n.seriesPaneName(i),a[t]?a[t].push(i):a[t]=[i];return a},filterSeriesByType:function(e,t){var i,n,o=[];for(t=[].concat(t),i=0;e.length>i;i++)n=e[i],hi(n.type,t)&&o.push(n);return o},reflow:function(e){var t=this,i=t.options.plotArea,n=t.panes,o=ci(i.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(n),t.reflowCharts(n)},redraw:function(e){var t,i=this;for(e=[].concat(e),t=0;e.length>t;t++)e[t].empty();for(i.render(e),i.reflowAxes(i.panes),i.reflowCharts(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var i,n=e.options,o=[].concat(n.axisCrossingValues||n.axisCrossingValue),a=t.length-o.length,r=o[0]||0;for(i=0;a>i;i++)o.push(r);return o},alignAxisTo:function(e,t,i,n){var o=e.getSlot(i,i),a=e.options.reverse?2:1,r=t.getSlot(n,n),s=t.options.reverse?2:1,l=e.box.translate(r[to+s]-o[to+a],r[io+s]-o[io+a]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var i,n,o,a,r=this,s=e[0],l=t[0],c=r.axisCrossingValues(s,t),h=r.axisCrossingValues(l,e),p={},d={},u={},g={};for(a=0;t.length>a;a++)o=t[a],i=o.pane,n=i.options.id,r.alignAxisTo(o,s,h[a],c[a]),o.options._overlap||(ui(o.lineBox().x1)===ui(s.lineBox().x1)&&(p[n]&&o.reflow(o.box.alignTo(p[n].box,rn).translate(-o.options.margin,0)),p[n]=o),ui(o.lineBox().x2)===ui(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,s,h[a],c[a]),d[n]&&o.reflow(o.box.alignTo(d[n].box,Cn).translate(o.options.margin,0)),d[n]=o),0!==a&&l.pane===o.pane&&o.alignTo(l));for(a=0;e.length>a;a++)o=e[a],i=o.pane,n=i.options.id,r.alignAxisTo(o,l,c[a],h[a]),o.options._overlap||(ui(o.lineBox().y1)===ui(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,l,c[a],h[a]),u[n]&&o.reflow(o.box.alignTo(u[n].box,Wn).translate(0,-o.options.margin)),u[n]=o),ui(o.lineBox().y2,zi)===ui(l.lineBox().y2,zi)&&(g[n]&&o.reflow(o.box.alignTo(g[n].box,Pi).translate(0,o.options.margin)),g[n]=o),0!==a&&o.alignTo(s))},shrinkAxisWidth:function(e){var t,i,n,o=this,a=o.groupAxes(e).any,r=B(a),s=0;for(t=0;e.length>t;t++)i=e[t],i.axes.length>0&&(s=Vt.max(s,r.width()-i.contentBox.width()));
for(t=0;a.length>t;t++)n=a[t],n.options.vertical||n.reflow(n.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,i,n,o,a,r;for(t=0;e.length>t;t++)for(i=e[t],n=i.axes,o=Vt.max(0,B(n).height()-i.contentBox.height()),a=0;n.length>a;a++)r=n[a],r.options.vertical&&r.reflow(r.box.shrink(0,o))},fitAxes:function(e){var t,i,n,o,a,r,s,l,c=this,h=c.groupAxes(e).any,p=0;for(s=0;e.length>s;s++)if(a=e[s],t=a.axes,i=a.contentBox,t.length>0)for(n=B(t),p=Vt.max(p,i.x1-n.x1),o=Vt.max(i.y1-n.y1,i.y2-n.y2),l=0;t.length>l;l++)r=t[l],r.reflow(r.box.translate(0,o));for(s=0;h.length>s;s++)r=h[s],r.reflow(r.box.translate(p,0))},reflowAxes:function(e){var t,i=this,n=i.groupAxes(e);for(t=0;e.length>t;t++)i.reflowPaneAxes(e[t]);n.x.length>0&&n.y.length>0&&(i.alignAxes(n.x,n.y),i.shrinkAxisWidth(e),i.alignAxes(n.x,n.y),i.shrinkAxisHeight(e),i.alignAxes(n.x,n.y),i.fitAxes(e))},reflowPaneAxes:function(e){var t,i=e.axes,n=i.length;if(n>0)for(t=0;n>t;t++)i[t].reflow(e.contentBox)},reflowCharts:function(e){var t,i,n=this,o=n.charts,a=o.length,r=n.box;for(i=0;a>i;i++)t=o[i].pane,(!t||hi(t,e))&&o[i].reflow(r)},reflowPanes:function(){var e,t,i,n,o,a=this,r=a.box,s=a.panes,l=s.length,c=r.height(),h=l,p=0,d=r.y1;for(e=0;l>e;e++)t=s[e],n=t.options.height,t.options.width=r.width(),t.options.height?(n.indexOf&&n.indexOf("%")&&(o=parseInt(n,10)/100,t.options.height=o*r.height()),t.reflow(r.clone()),c-=t.options.height):p++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/p);for(e=0;l>e;e++)t=s[e],i=r.clone().move(r.x1,d),t.reflow(i),h--,d+=t.options.height},backgroundBox:function(){var e,t,i,n,o,a,r=this,s=r.axes,l=s.length;for(i=0;l>i;i++)for(o=s[i],n=0;l>n;n++)a=s[n],o.options.vertical!==a.options.vertical&&(e=o.lineBox().clone().wrap(a.lineBox()),t=t?t.wrap(e):e);return t||r.box},getViewElements:function(e){var t=this,i=t.backgroundBox(),n=t.options,o=n.plotArea,a=o.border||{},r=qt.fn.getViewElements.call(t,e);return ai(r,[e.createRect(i,{fill:o.background,fillOpacity:o.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(i,{id:n.id,data:{modelId:n.modelId},stroke:a.width?a.color:"",strokeWidth:a.width,fill:eo,fillOpacity:0,zIndex:-1,dashType:a.dashType})]),r},pointsByCategoryIndex:function(e){var t,i,n,o,a,r=this.charts,s=[];if(null!==e)for(t=0;r.length>t;t++)if(a=r[t],"_navigator"!==a.pane.options.name&&(n=r[t].categoryPoints[e],n&&n.length))for(i=0;n.length>i;i++)o=n[i],o&&si(o.value)&&null!==o.value&&s.push(o);return s},paneByPoint:function(e){var t,i,n=this,o=n.panes;for(i=0;o.length>i;i++)if(t=o[i],t.box.containsPoint(e))return t}}),ct=lt.extend({init:function(e,t){var i=this;i.namedCategoryAxes={},i.namedValueAxes={},i.valueAxisRangeTracker=new ht,e.length>0&&(i.invertAxes=hi(e[0].type,[Ai,$n,Qn])),lt.fn.init.call(i,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateDateSeries(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,i=e.options.name;lt.fn.removeAxis.call(t,e),e instanceof xo?delete t.namedCategoryAxes[i]:(t.valueAxisRangeTracker.reset(i),delete t.namedValueAxes[i]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,i,n,o=this,a=o.groupSeriesByPane();for(t=0;e.length>t;t++)i=e[t],n=a[i.options.name||"default"],n&&(o.createAreaChart(o.filterSeriesByType(n,[vi,Qn]),i),o.createBarChart(o.filterSeriesByType(n,[Li,Ai]),i),o.createLineChart(o.filterSeriesByType(n,[sn,$n]),i),o.createCandlestickChart(o.filterSeriesByType(n,Ti),i),o.createOHLCChart(o.filterSeriesByType(n,yn),i))},aggregateDateSeries:function(e){var t,n,o,a,r,s,l,c,h,p,d,u,g,f,x,m,v=this,y=v.srcSeries||v.series,b=[];for(l=0;y.length>l;l++){if(c=y[l],h=Mt({},c),t=v.seriesCategoryAxis(c),n=v.findPane(t.options.pane),hi(n,e)&&E(t.options.type,Hi))for(o=t.options.categories,a=t.categoryMap,p=h.data,h.data=d=[],r=0;o.length>r;r++){for(s=a[r],u=[],g=0;s.length>g;g++)f=s[g],x=P(c,f),m=x.value,si(m)&&u.push(x.value);d[r]=u.length>1?i(u,c):p[s[0]]}b.push(h)}v.srcSeries=y,v.series=b},appendChart:function(e,t){for(var i=this,n=e.options.series,o=i.seriesCategoryAxis(n[0]),a=o.options.categories,r=Vt.max(0,u(n)-a.length);r--;)a.push("");i.valueAxisRangeTracker.update(e.valueAxisRanges),lt.fn.appendChart.call(i,e,t)},seriesPaneName:function(t){var i=this,n=i.options,o=t.axis,a=[].concat(n.valueAxis),r=e.grep(a,function(e){return e.name===o})[0],s=n.panes||[{}],l=(s[0]||{}).name||"default",c=(r||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,i=e.categoryAxis,n=i?t.namedCategoryAxes[i]:t.categoryAxis;if(!n)throw Error("Unable to locate category axis with name "+i);return n},createBarChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new N(i,{series:e,invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,gap:n.gap,spacing:n.spacing});i.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new G(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createAreaChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new J(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createOHLCChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new it(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new et(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},axisRequiresRounding:function(e,t){var i,n,o=this,a=o.filterSeriesByType(o.series,[Ai,Li,yn,Ti]);for(i=0;a.length>i;i++)if(n=a[i].categoryAxis||"",n===e||!n&&0===t)return!0},createCategoryAxes:function(e){var t,i,n,o,a,r,s,l,c,h=this,p=h.invertAxes,d=[].concat(h.options.categoryAxis),u=[];for(t=0;d.length>t;t++)if(i=d[t],n=h.findPane(i.pane),hi(n,e)){if(r=i.name,o=i.categories||[],s=o[0]instanceof Date,a=i.type||"",i=Mt({vertical:p,axisCrossingValue:p?cn:0},i),si(i.justified)||(i.justified=h.inJustified()),h.axisRequiresRounding(r,t)&&(i.justified=!1,i.roundToBaseUnit=!0),l=!a&&s||E(a,Hi)?new vo(i):new xo(i),r){if(h.namedCategoryAxes[r])throw Error("Category axis with name "+r+" is already defined");h.namedCategoryAxes[r]=l}l.axisIndex=t,u.push(l),h.appendAxis(l)}c=h.categoryAxis||u[0],h.categoryAxis=c,p?h.axisY=c:h.axisX=c},inJustified:function(){var e,t,i=this,n=i.series;for(e=0;n.length>e;e++)if(t=n[e],t.type!==vi)return!1;return!0},createValueAxes:function(e){var t,i,n,o,a,r,s,l=this,c=l.valueAxisRangeTracker,h=c.query(),p=[].concat(l.options.valueAxis),d=l.invertAxes,u={vertical:!d},g=[];for(s=0;p.length>s;s++)if(t=p[s],i=l.findPane(t.pane),hi(i,e)){if(r=t.name,a=c.query(r)||h||{min:0,max:1},0===s&&a&&h&&(a.min=Vt.min(a.min,h.min),a.max=Vt.max(a.max,h.max)),n=new Qt(a.min,a.max,Mt({},u,t)),r){if(l.namedValueAxes[r])throw Error("Value axis with name "+r+" is already defined");l.namedValueAxes[r]=n}n.axisIndex=s,g.push(n),l.appendAxis(n)}o=l.valueAxis||g[0],l.valueAxis=o,d?l.axisX=o:l.axisY=o},click:function(t,i){var n,o,a,r=this,s=t._eventCoordinates(i),l=new $t(s.x,s.y),c=r.pointPane(l),h=[],p=[];if(c){for(n=c.axes,o=0;n.length>o;o++)a=n[o],a.getValue?z(p,a.getValue(l)):z(h,a.getCategory(l));0===h.length&&z(h,r.categoryAxis.getCategory(l)),h.length>0&&p.length>0&&t.trigger(_n,{element:e(i.target),category:D(h),value:D(p)})}},pointPane:function(e){var t,i,n=this,o=n.panes;for(i=0;o.length>i;i++)if(t=o[i],t.contentBox.containsPoint(e))return t}}),ht=Lt.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,i,n,o=this,a=o.axisRanges;for(n in e)t=a[n],i=e[n],a[n]=t=t||{min:cn,max:hn},t.min=Vt.min(t.min,i.min),t.max=Vt.max(t.max,i.max)},reset:function(e){this.axisRanges[e]=t},query:function(e){return this.axisRanges[e]}}),pt=lt.extend({init:function(e,t){var i=this;i.namedXAxes={},i.namedYAxes={},i.xAxisRangeTracker=new ht,i.yAxisRangeTracker=new ht,lt.fn.init.call(i,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,i,n,o=this,a=o.groupSeriesByPane();for(e=e||o.panes,t=0;e.length>t;t++)i=e[t],n=a[i.options.name||"default"],n&&(o.createScatterChart(o.filterSeriesByType(n,Tn),i),o.createScatterLineChart(o.filterSeriesByType(n,In),i),o.createBubbleChart(o.filterSeriesByType(n,Si),i));o.createAxes(e)},appendChart:function(e,t){var i=this;i.xAxisRangeTracker.update(e.xAxisRanges),i.yAxisRangeTracker.update(e.yAxisRanges),lt.fn.appendChart.call(i,e,t)},removeAxis:function(e){var t=this,i=e.options.name;lt.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(i),delete t.namedYAxes[i]):(t.xAxisRangeTracker.reset(i),delete t.namedXAxes[i]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var i=this,n=i.options,o=t.xAxis,a=[].concat(n.xAxis),r=e.grep(a,function(e){return e.name===o})[0],s=t.yAxis,l=[].concat(n.yAxis),c=e.grep(l,function(e){return e.name===s})[0],h=n.panes||[{}],p=h[0].name||"default",d=(r||{}).pane||(c||{}).pane||p;return d},createScatterChart:function(e,t){var i=this;e.length>0&&i.appendChart(new K(i,{series:e}),t)},createScatterLineChart:function(e,t){var i=this;e.length>0&&i.appendChart(new Q(i,{series:e}),t)},createBubbleChart:function(e,t){var i=this;e.length>0&&i.appendChart(new $(i,{series:e}),t)},createXYAxis:function(e,t,i){var n,o,a,r,s,l,c,h=this,p=e.name,d=t?h.namedYAxes:h.namedXAxes,u=t?h.yAxisRangeTracker:h.xAxisRangeTracker,g=u.query(),f=u.query(p)||g||{min:0,max:1},x=Mt({},e,{vertical:t}),m=h.series,v=[x.min,x.max];for(o=0;m.length>o;o++)if(a=m[o],r=a[t?"yAxis":"xAxis"],r==x.name||0===i&&!r){s=P(a,0).value,v.push(s[t?"y":"x"]);break}for(0===i&&g&&(f.min=Vt.min(f.min,g.min),f.max=Vt.max(f.max,g.max)),c=0;v.length>c;c++)if(v[c]instanceof Date){l=!0;break}if(n=E(x.type,Hi)||!x.type&&l?new yo(f.min,f.max,x):new Qt(f.min,f.max,x),p){if(d[p])throw Error((t?"Y":"X")+" axis with name "+p+" is already defined");d[p]=n}return h.appendAxis(n),n},createAxes:function(e){var t,i=this,n=i.options,o=[].concat(n.xAxis),a=[],r=[].concat(n.yAxis),s=[];Tt(o,function(n){t=i.findPane(this.pane),hi(t,e)&&a.push(i.createXYAxis(this,!1,n))}),Tt(r,function(n){t=i.findPane(this.pane),hi(t,e)&&s.push(i.createXYAxis(this,!0,n))}),i.axisX=i.axisX||a[0],i.axisY=i.axisY||s[0]},click:function(t,i){var n,o,a,r,s=this,l=t._eventCoordinates(i),c=new $t(l.x,l.y),h=s.axes,p=h.length,d=[],u=[];for(n=0;p>n;n++)o=h[n],r=o.options.vertical?u:d,a=o.getValue(c),null!==a&&r.push(a);d.length>0&&u.length>0&&t.trigger(_n,{element:e(i.target),x:D(d),y:D(u)})}}),dt=lt.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,i=e[0],n=new ot(t,{series:e,padding:i.padding,startAngle:i.startAngle,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)}}),ut=dt.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,i=e[0],n=new rt(t,{series:e,padding:i.padding,startAngle:i.startAngle,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)}}),gt=Kt.extend({options:{easing:"easeOutElastic",duration:tn},setup:function(){var e,t=this.element,i=t.config;t.options.singleSegment&&(i=t),this.endRadius=i.r,e=this.startRadius=i.ir||0,i.r=e},step:function(e){var t=this,i=t.element,n=t.endRadius,o=i.config,a=t.startRadius;i.options.singleSegment&&(o=i),o.r=pi(a,n,e)}}),ft=Kt.extend({options:{easing:"easeOutElastic",duration:tn},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,i=t.endRadius;t.radius=pi(0,i,e)}}),xt=oi(Ai,jt),mt=oi(An,gt),vt=oi(Si,ft),yt=Lt.extend({init:function(e,t,i){var n=this;n.options=Mt({},n.options,i),n.view=e,n.viewElement=t},options:{fill:eo,fillOpacity:.2,stroke:eo,strokeWidth:1,strokeOpacity:.2},show:function(e){var t,i,n=this,o=n.view,a=n.viewElement;n.hide(),e.highlightOverlay&&(t=e.highlightOverlay(o,n.options),t&&(i=o.renderElement(t),a.appendChild(i),n.overlayElement=i,n.visible=!0)),e.toggleHighlight&&(n.hide(),e.toggleHighlight(o),n.point=e,n.visible=!0)},hide:function(){var e=this,t=e.overlayElement;t&&(t.parentNode&&t.parentNode.removeChild(t),delete e.overlayElement),e.point&&(e.point.toggleHighlight(e.view),delete e.point),e.visible=!1}}),bt=yt.extend({init:function(e,t,i){var n=this;n.options=Mt({},n.options,i),n.view=e,n.viewElement=t},options:{fill:eo,fillOpacity:.2,stroke:eo,strokeWidth:1,strokeOpacity:.2,visible:!0},show:function(e){var t,i,n,o,a=this,r=a.view,s=a.viewElement,l=a.plotArea,c=l.categoryAxis,h=c.getCategoryIndex(e),p=l.pointsByCategoryIndex(h),d=p.length;if(a.index!=h)for(a.hide(),a.overlayElements=[],a.index=h,o=0;d>o;o++)n=p[o],n&&n.highlightOverlay&&(t=n.highlightOverlay(r,a.options),t&&(i=r.renderElement(t),s.appendChild(i),a.overlayElement=i,a.visible=!0,a.overlayElements.push(i)))},hide:function(){var e,t,i=this,n=i.overlayElements||[],o=n.length;for(e=0;o>e;e++)t=n[e],t&&t.parentNode&&t.parentNode.removeChild(t);i.overlayElements=[],i.index=null,i.visible=!1}}),wt=Lt.extend({init:function(t,i){var n=this;n.options=Mt({},n.options,i),n.chartElement=t,n.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},n.template=wt.template,n.template||(n.template=wt.template=gi("<div class='"+Oi+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),n.element=e(n.template(n.options)).appendTo(t)},options:{background:Ci,color:eo,border:{width:3},opacity:1,animation:{duration:Yn}},move:function(){var e,t,i=this,n=i.options,o=i.anchor,a=i.element,r=i.chartPadding;e=ui(o.y+r.top)+"px",t=ui(o.x+r.left)+"px",i.visible||a.css({top:e,left:t}),a.stop(!0,!0).show().animate({left:t,top:e},n.animation.duration),i.visible=!0},setStyle:function(e){this.element.css({backgroundColor:e.background,borderColor:e.border.color,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width})},pointContent:function(e){var t,i,n=this,o=Mt({},n.options,e.options.tooltip);return si(e.value)&&(t=""+e.value),o.template?(i=Ht(o.template),t=i({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage})):o.format&&(t=e.formatValue(o.format)),t},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e.element.fadeOut(),e.point=null,e.visible=!1,e.index=null)}}),At=wt.extend({show:function(e){var t=this,i=Mt({},t.options,e.options.tooltip),n=t.element;e&&((i.border||{}).color||(i.border.color=e.options.color),t.element.html(t.pointContent(e)),t.anchor=e.tooltipAnchor(n.outerWidth(),n.outerHeight()),t.setStyle(i),t.showTimeout=setTimeout(Et(t.move,t),Xn))}}),kt=wt.extend({options:{template:"<table style='text-align: left;'><th colspan='2'>#= category #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { #<td>#= point.series.name #:</td> # } #<td>#= pointContent(point) #</td></tr># } #</table>",offset:10},showAt:function(e){var i,n,o=this,a=o.options,r=o.plotArea,s=r.categoryAxis,l=s.options,c=s.getCategoryIndex(e),h=s.getCategory(e),p=r.pointsByCategoryIndex(c),d=s.getSlot(c);if(o.index!=c){if(o.index=c,p.length&&!(a.border||{}).color&&(a.border.color=p[0].options.color),l.type===Hi&&(h=ri(l.labels.dateFormats[l.baseUnit],h)),i=o.getContent(p,h),!si(i))return o.hide(),t;o.element.html(i),n=e.y-o.element.height()/2,o.anchor=s.options.vertical?$t(e.x+a.offset,n):$t(d.x1+d.width()/2+a.offset,n),o.setStyle(a),o.showTimeout=setTimeout(Et(o.move,o),Xn)}},getContent:function(e,t){var i,n,o=this;return e.length&&(n=Rt.template(o.options.template),i=n({points:e,category:t,pointContent:o.pointContent})),i}}),_t=qt.extend({init:function(e,t){var i=this;qt.fn.init.call(i,t),i.axis=e,i.options.id||(i.options.id=fi()),i._visible=!1,i.stickyMode=e instanceof xo},options:{color:Ci,width:1,zIndex:-1,tooltip:{visible:!0}},repaint:function(){var e=this,t=e.element;e.getViewElements(e._view),t=e.element,t.refresh(li(e.options.id))},showAt:function(e){var t=this;t.updateAxisReference(),t._visible=!0,t.point=e,t.repaint(),t.options.tooltip.visible&&(t.tooltip||(t.tooltip=new Ct(t,Mt({},t.options.tooltip,{stickyMode:t.stickyMode}))),t.tooltip.showAt(e))},hide:function(){var e=this;e._visible&&(e._visible=!1,e.repaint(),e.tooltip&&e.tooltip.hide())},linePoints:function(){var e,t,i,n=this,o=n.axis,a=o.options.vertical,r=n.getBox(),s=n.point,l=a?io:to;return t=$t(r.x1,r.y1),i=a?$t(r.x2,r.y1):$t(r.x1,r.y2),s&&(n.stickyMode?(e=o.getSlot(o.getCategoryIndex(s)),t[l]=i[l]=e.center()[l]):t[l]=i[l]=s[l]),n.box=r,[t,i]},getBox:function(){var e,t,i,n=this,o=n.axis,a=o.pane.axes,r=a.length,s=o.options.vertical,l=o.lineBox().clone(),c=s?to:io;for(i=0;r>i;i++)t=a[i],t.options.vertical!=s&&(e?e.wrap(t.lineBox()):e=t.lineBox().clone());return l[c+1]=e[c+1],l[c+2]=e[c+2],l},getViewElements:function(e){var t=this,i=t.options,n=[];return t.points=t.linePoints(),t.element=e.createPolyline(t.points,!1,{id:i.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,zIndex:i.zIndex,visible:t._visible}),n.push(t.element),t._view=e,ai(n,qt.fn.getViewElements.call(t,e)),n},updateAxisReference:function(){var e,t,i=this,n=i.axis,o=n.plotArea,a=o.axes;for(t=0;a.length>t;t++)if(e=a[t],si(n.axisIndex)&&n instanceof Qt!=e instanceof xo&&n.axisIndex===e.axisIndex){i.axis=e;break}}}),Ct=Lt.extend({init:function(t,i){var n=this,o=t.axis.getRoot().parent.element;n.options=Mt({},n.options,{border:{color:t.axis.plotArea.options.seriesColors[0]}},i),n.axis=t.axis,n.crosshair=t,i=n.options,n.chartPadding={top:parseInt(o.css("paddingTop"),10),left:parseInt(o.css("paddingLeft"),10)},n.template=Ct.template,n.template||(n.template=Ct.template=gi("<div class='"+Oi+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),n.element=e(n.template(n.options)).appendTo(o),n.setStyle(n.options)},options:{background:Ci,border:{width:3},opacity:1,animation:{duration:Yn},padding:10},showAt:function(e){var t=this,i=t.element;t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(i.outerWidth(),i.outerHeight()),t.move()},move:function(){var e,t,i=this,n=i.anchor,o=i.element,a=i.chartPadding;e=ui(n.y+a.top)+"px",t=ui(n.x+a.left)+"px",o.css({top:e,left:t}).show()},setStyle:function(e){this.element.css({backgroundColor:e.background,borderColor:e.border.color,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width})},content:function(e){var t,i,n,o=this,a=o.options,r=o.axis,s=r.options;return i=t=r[a.stickyMode?"getCategory":"getValue"](e),a.template?(n=Ht(a.template),t=n({value:i})):a.format?t=ri(a.format,i):s.type===Hi&&(t=ri(s.labels.dateFormats[s.baseUnit],i)),t},getAnchor:function(e,t){var i,n,o=this,a=o.options,r=a.position,s=o.axis.options.vertical,l=o.crosshair.points,c=l[0],h=l[1],p=e/2,d=t/2,u=a.padding;return s?r===rn?(i=c.x-e-u,n=c.y-d):(i=h.x+u,n=h.y-d):r===Pi?(i=h.x-p,n=h.y+u):(i=c.x-p,n=c.y-t-u),$t(i,n)},hide:function(){var e=this;e.element.hide(),e.point=null}}),Pt={max:function(e){var t=Vt.max.apply(Vt,e);return isNaN(t)?o(e):t},min:function(e){var t=Vt.min.apply(Vt,e);return isNaN(t)?n(e):t},sum:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t],si(i)&&!isNaN(i)&&(o+=i);return o},count:function(e){return e.length},avg:function(e){return Pt.sum(e)/Pt.count(e)}},St=zt.extend({init:function(t,i,n){var o,a,r=this,s=t.element,l=i.lineBox(),c=r.getValueAxis(i),h=c.lineBox(),p="."+Oi;zt.fn.init.call(r),r.options=Mt({},r.options,n),n=r.options,r.chart=t,r.chartElement=s,r.categoryAxis=i,r.valueAxis=c,r.template=St.template,r.template||(r.template=St.template=gi("<div class='"+Oi+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+Oi+"mask'></div>"+"<div class='"+Oi+"mask'></div>"+"<div class='"+Oi+"selection'>"+"<div class='"+Oi+"handle "+Oi+"leftHandle'><div></div></div>"+"<div class='"+Oi+"handle "+Oi+"rightHandle'><div></div></div>"+"</div></div>")),a={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},r.options=Mt({},{width:l.width(),height:h.height(),padding:a,offset:{left:h.x2+a.left,top:h.y1+a.right},from:n.min,to:n.max},n),r.options.visible&&(r.wrapper=o=e(r.template(r.options)).appendTo(s),r.selection=o.find(p+"selection"),r.leftMask=o.find(p+"mask").first(),r.rightMask=o.find(p+"mask").last(),r.leftHandle=o.find(p+"leftHandle"),r.rightHandle=o.find(p+"rightHandle"),r.options.selection={border:{left:parseFloat(r.selection.css("border-left-width"),10),right:parseFloat(r.selection.css("border-right-width"),10)}},r.leftHandle.css("top",(r.selection.height()-r.leftHandle.height())/2),r.rightHandle.css("top",(r.selection.height()-r.rightHandle.height())/2),r.move(n.from,n.to),r.bind(r.events,r.options),r.wrapper[0].style.cssText=r.wrapper[0].style.cssText,Rt.UserEvents?r.userEvents=new Rt.UserEvents(r.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:Et(r._start,r),move:Et(r._move,r),end:Et(r._end,r),tap:Et(r._tap,r),gesturestart:Et(r._gesturechange,r),gesturechange:Et(r._gesturechange,r)}):r.leftHandle.add(r.rightHandle).removeClass(Oi+"handle"))},events:[Dn,Vn,Bn],options:{min:hn,max:cn},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy()},_start:function(t){var i=this,n=i.options,o=e(t.event.target);!i._state&&o&&(i.chart._unsetActivePoint(),i._state={moveTarget:o.parents(".k-handle").add(o).first(),startLocation:t.x.location,range:{from:n.from,to:n.to}},i.trigger(Dn,i._state.range)&&(i.userEvents.cancel(),i._state=null))},_move:function(e){if(this._state){var t=this,i=t._state,n=t.options,o=n.max-n.min,a=i.startLocation-e.x.location,r=i.range,s=r.to-r.from,l=i.moveTarget,c=t.wrapper.width()/o,h=Vt.round(a/c);l&&(e.preventDefault(),l.is(".k-selection")?(r.from=Vt.min(Vt.max(n.min,n.from-h),n.max-s),r.to=Vt.min(r.from+s,n.max)):l.is(".k-leftHandle")?(r.from=Vt.min(Vt.max(n.min,n.from-h),n.max-1),r.to=Vt.max(r.from+1,r.to)):l.is(".k-rightHandle")&&(r.to=Vt.min(Vt.max(n.min+1,n.to-h),n.max),r.from=Vt.min(r.to-1,r.from)),t.move(r.from,r.to),t.trigger(Vn,r))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(Bn,t)},_gesturechange:function(e){if(this._state){var t=this,i=t.chart,n=t._state,o=t.options,a=t.categoryAxis,r=n.range,s=i._toModelCoordinates(e.touches[0].x.location).x,l=i._toModelCoordinates(e.touches[1].x.location).x,c=Vt.min(s,l),h=Vt.max(s,l);e.preventDefault(),n.moveTarget=null,r.from=a.getCategoryIndex(new Ft.Point2D(c))||o.min,r.to=a.getCategoryIndex(new Ft.Point2D(h))||o.max,t.move(r.from,r.to)}},_tap:function(e){var t,i,n=this,o=n.options,a=n.chart._eventCoordinates(e),r=n.categoryAxis,s=r.getCategoryIndex(new Ft.Point2D(a.x,r.box.y1)),l=o.to-o.from,c=o.from+l/2,h=Vt.round(c-s);n._state||(e.preventDefault(),n.chart._unsetActivePoint(),t=Vt.min(Vt.max(o.min,o.from-h),o.max-l),i=Vt.min(t+l,o.max),n.set(t,i),n.trigger(Bn))},move:function(e,t){var i,n,o,a,r=this,s=r.options,l=s.offset,c=s.padding,h=s.selection.border,p=r.categoryAxis;o=p.getSlot(e),i=ui(o.x1-l.left+c.left),r.leftMask.width(i),r.selection.css("left",i),o=p.getSlot(t),n=ui(s.width-(o.x1-l.left+c.left)),r.rightMask.width(n),a=s.width-n,a!=s.width&&(a+=h.right),r.rightMask.css("left",a),r.selection.width(Vt.max(s.width-(i+n)-h.right,0))},set:function(e,t){var i=this,n=i.options;e=V(e,n.min,n.max),t=V(t,e+1,n.max),n.visible&&i.move(e,t),n.from=e,n.to=t},expandLeft:function(e){var t=this,i=t.options;t.set(Vt.min(i.from-e,i.to-1),i.to)},getValueAxis:function(e){var t,i,n=e.pane.axes,o=n.length;for(t=0;o>t;t++)if(i=n[t],i.options.vertical!==e.options.vertical)return i}}),Bt(e.easing,{easeOutElastic:function(e,t,i,n){var o=1.70158,a=0,r=n;return 0===e?i:1===e?i+n:(a||(a=.5),Vt.abs(n)>r?(r=n,o=a/4):o=a/(2*Vt.PI)*Vt.asin(n/r),r*Vt.pow(2,-10*e)*Vt.sin((1*e-o)*1.1*Vt.PI/a)+n+i)}}),Ft.ui.plugin(uo),Mt(Ft,{Aggregates:Pt,AreaChart:J,Bar:ko,BarAnimationDecorator:xt,BarChart:N,BarLabel:go,BubbleAnimationDecorator:vt,BubbleChart:$,CandlestickChart:et,Candlestick:Z,CategoricalPlotArea:ct,CategoryAxis:xo,ClusterLayout:bo,Crosshair:_t,CrosshairTooltip:Ct,DateCategoryAxis:vo,DateValueAxis:yo,DonutChart:rt,DonutPlotArea:ut,DonutSegment:at,Highlight:yt,MultiplePointTooltip:kt,Legend:fo,LineChart:G,LinePoint:W,Pane:st,PieAnimation:gt,PieAnimationDecorator:mt,PieChart:ot,PiePlotArea:dt,PieSegment:nt,ScatterChart:K,ScatterLineChart:Q,Selection:St,ShapeElement:F,StackLayout:wo,Tooltip:At,OHLCChart:it,OHLCPoint:tt,XYPlotArea:pt,addDuration:v,axisGroupBox:B,validNumbers:U,bindPoint:P,categoriesCount:u,ceilDate:w,duration:_,floorDate:b,lteDateIndex:O,sparseArrayLimits:a,toDate:x,toTime:m})})(window.kendo.jQuery)});