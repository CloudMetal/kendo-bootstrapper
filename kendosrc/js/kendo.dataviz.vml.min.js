("function"==typeof define&&define.amd?define:function(t,e){return e()})(["./kendo.dataviz-core.min"],function(){(function(){function t(t){this.view=t}function e(t){this.view=t}function i(){return A.support.browser.msie&&!F()&&window.performance!==void 0}function n(t,e,i){var n=new V(t),r=new V(e),a=o(n.r,r.r,i),l=o(n.g,r.g,i),s=o(n.b,r.b,i);return new V(a,l,s).toHex()}function o(t,e,i){return T.round(i*e+(1-i)*t)}function r(t,e){var i,o,r,a=e.stops,l=a.length,s=L({},e);for(s.stops=[],i=0;l>i;i++)o=a[i],r=s.stops[i]=L({},a[i]),r.color=n(t,o.color,o.opacity),r.opacity=0;return s}var a,l,s,p,d,c,f,h,u,m,y,x,v,b,w,g=jQuery,k=document,T=Math,A=window.kendo,C=A.Class,L=A.deepExtend,M=A.dataviz,V=M.Color,D=M.Box2D,O=M.Point2D,P=M.ExpandAnimation,E=M.ViewBase,I=M.ViewElement,z=M.defined,G=M.renderTemplate,_=M.uniqueId,R=M.rotatePoint,H=M.round,F=M.supportsSVG,S="#000",B=M.CLIP,W=M.COORD_PRECISION,j=M.DEFAULT_WIDTH,N=M.DEFAULT_HEIGHT,U=M.DEFAULT_FONT,Q="object",X="linear",q="radial",J="transparent",K=E.extend({init:function(n){var o=this;E.fn.init.call(o,n),o.decorators.push(new t(o),new e(o)),M.ui.Chart&&o.decorators.push(new M.BarAnimationDecorator(o),new M.PieAnimationDecorator(o),new M.BubbleAnimationDecorator(o)),o.decorators.push(new w(o)),i()||o.decorators.push(new M.FadeAnimationDecorator(o)),M.Gauge&&o.decorators.push(new M.RadialPointerAnimationDecorator(o),new M.ArrowPointerAnimationDecorator(o),new M.BarIndicatorAnimationDecorator(o)),o.template=K.template,o.template||(o.template=K.template=G("<div style='width:#= d.options.width #px; height:#= d.options.height #px; position: relative;'>#= d.renderContent() #</div>"))},options:{width:j,height:N},renderTo:function(t){var e=this;return k.namespaces&&k.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),e.setupAnimations(),t.innerHTML=e.render(),e.playAnimations(),t.firstChild},renderElement:function(t){var e,i=k.createElement("div");return i.style.display="none",k.body.appendChild(i),i.innerHTML=t.render(),e=i.firstChild,k.body.removeChild(i),e},createText:function(t,e){return this.decorate(e&&e.rotation?new l(t,e):new a(t,e))},createRect:function(t,e){return this.decorate(new c(t.points(),!0,e))},createLine:function(t,e,i,n,o){return this.decorate(new c([new O(t,e),new O(i,n)],!1,o))},createPolyline:function(t,e,i){return this.decorate(new c(t,e,i))},createCircle:function(t,e,i){return this.decorate(new u(t,e,i))},createSector:function(t,e){return this.decorate(new h(t,e))},createRing:function(t,e){return this.decorate(new f(t,e))},createGroup:function(t){return this.decorate(new m(t))},createGradient:function(t){var e=z(t.cx)&&z(t.cy)&&z(t.bbox);return t.type===q&&e?new b(t):t.type===X?new v(t):S}});K.fromModel=function(t){var e=new K(t.options);return[].push.apply(e.children,t.getViewElements(e)),e},K.available=function(){return A.support.browser.msie},K.preference=50,M.ui.registerView(K),a=I.extend({init:function(t,e){var i=this;I.fn.init.call(i,e),i.content=t,i.template=a.template,i.template||(i.template=a.template=G("<kvml:textbox #= d.renderId(d.options.id) # #= d.renderDataAttributes() #style='position: absolute; left: #= d.options.x #px; top: #= d.options.y #px; font: #= d.options.font #; color: #= d.options.color #; visibility: #= d.renderVisibility() #; white-space: nowrap;'>#= d.content #</kvml:textbox>"))},options:{x:0,y:0,font:U,color:S,fillOpacity:1},refresh:function(t){g(t).css("visibility",this.renderVisibility())},clone:function(){var t=this;return new a(t.content,L({},t.options))},renderVisibility:function(){return this.options.fillOpacity>0?"visible":"hidden"}}),l=I.extend({init:function(t,e){var i=this;I.fn.init.call(i,e),i.content=t,i.template=l.template,i.template||(i.template=l.template=G("<kvml:shape #= d.renderId(d.options.id) # #= d.renderDataAttributes() #style='position: absolute; top: 0px; left: 0px; width: 1px; height: 1px;' stroked='false' coordsize='1,1'>#= d.renderPath() #<kvml:fill color='#= d.options.color #' /><kvml:textpath on='true' style='font: #= d.options.font #;' fitpath='false' string='#= d.content #' /></kvml:shape>"))},options:{x:0,y:0,font:U,color:S,size:{width:0,height:0}},renderPath:function(){var t=this,e=t.options,i=e.size.width,n=e.size.height,o=e.x+i/2,r=e.y+n/2,a=-e.rotation,l=R(e.x,r,o,r,a),s=R(e.x+i,r,o,r,a);return"<kvml:path textpathok='true' v='m "+H(l.x)+","+H(l.y)+" l "+H(s.x)+","+H(s.y)+"' />"}}),s=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.template=s.template,e.template||(e.template=s.template=G('<kvml:stroke on=\'#= !!d.options.stroke #\' #= d.renderAttr("color", d.options.stroke) ##= d.renderAttr("weight", d.options.strokeWidth) ##= d.renderAttr("dashstyle", d.options.dashType) ##= d.renderAttr("opacity", d.options.strokeOpacity) # />'))},refresh:function(t){try{t.opacity=this.options.strokeOpacity}catch(e){}}}),p=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.template=p.template,e.template||(e.template=p.template=G('<kvml:fill on=\'#= d.isEnabled() #\' #= d.renderAttr("color", d.options.fill) ##= d.renderAttr("weight", d.options.fillWidth) ##= d.renderAttr("opacity", d.options.fillOpacity) # />'))},isEnabled:function(){var t=this.options.fill;return!!t&&t.toLowerCase()!==J},refresh:function(t){try{t.opacity=this.options.fillOpacity}catch(e){}}}),d=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.template=d.template,e.template||(e.template=d.template=G("<kvml:shape #= d.renderId(d.options.id) # #= d.renderDataAttributes() #style='position:absolute; #= d.renderSize() # display:#= d.renderDisplay() #;' coordorigin='0 0' #= d.renderCoordsize() #><kvml:path v='#= d.renderPoints() # e' />#= d.fill.render() + d.stroke.render() #</kvml:shape>")),e.stroke=new s(e.options),e.fill=new p(e.options)},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],visible:!0},renderCoordsize:function(){var t=this.options.align===!1?1e4:1;return"coordsize='"+t+" "+t+"'"},renderSize:function(){var t=this.options.align===!1?100:1;return"width:"+t+"px; height:"+t+"px;"},render:function(){var t=this;return t.fill.options.fillOpacity=t.options.fillOpacity,t.stroke.options.strokeOpacity=t.options.strokeOpacity,I.fn.render.call(t)},renderDisplay:function(){return this.options.visible?"block":"none"},renderPoints:function(){},refresh:function(t){if(t){var e=this,i=g(t),n=i[0].parentNode,o=e.fill,r=e.stroke;n&&(i.find("path")[0].v=this.renderPoints(),o.options=r.options=e.options,o.refresh(i.find("fill")[0]),r.refresh(i.find("stroke")[0]),i.css("display",e.renderDisplay()),n.style.cssText=n.style.cssText)}}}),c=d.extend({init:function(t,e,i){var n=this;d.fn.init.call(n,i),n.points=t,n.closed=e},renderPoints:function(){var t,e=this,i=e.points,n=i.length,o=function(t){var i=e.options.rotation;return R(t.x,t.y,i[1],i[2],-i[0])},r="m "+e._print(o(i[0]));if(n>1)for(r+=" l ",t=1;n>t;t++)r+=e._print(o(i[t])),n-1>t&&(r+=", ");return e.closed&&(r+=" x"),r},clone:function(){var t=this;return new c(L([],t.points),t.closed,L({},t.options))},_print:function(t){var e=this.options.align===!1?100:1;return T.round(t.x*e)+","+T.round(t.y*e)}}),f=d.extend({init:function(t,e){var i=this;d.fn.init.call(i,e),i.pathTemplate=f.pathTemplate,i.pathTemplate||(i.pathTemplate=f.pathTemplate=G("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.iep.x #,#= d.iep.y # AT #= d.ibb.l #,#= d.ibb.t # #= d.ibb.r #,#= d.ibb.b # #= d.iep.x #,#= d.iep.y # #= d.isp.x #,#= d.isp.y # X E")),i.config=t},renderPoints:function(){function t(t){return new O(H(t.x),H(t.y))}var e,i,n,o,r=this,a=r.config,l=T.max(H(a.r),0),s=T.max(H(a.ir),0),p=H(a.c.x),d=H(a.c.y),c=a.startAngle,f=a.angle+c,h=f-c,u={l:p-l,t:d-l,r:p+l,b:d+l},m={l:p-s,t:d-s,r:p+s,b:d+s};return 1>=h?f+=1-h:h>359&&(f-=1-h),e=t(a.point(c)),i=t(a.point(c,!0)),o=t(a.point(f)),n=t(a.point(f,!0)),r.pathTemplate({obb:u,ibb:m,osp:e,isp:i,oep:o,iep:n,cx:p,cy:d})},clone:function(){var t=this;return new f(L({},t.config),L({},t.options))}}),h=f.extend({init:function(t,e){var i=this;f.fn.init.call(i,t,e),i.pathTemplate=h.pathTemplate,i.pathTemplate||(i.pathTemplate=h.pathTemplate=G("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.cx #,#= d.cy # X E"))},clone:function(){var t=this;return new h(L({},t.config),L({},t.options))}}),u=I.extend({init:function(t,e,i){var n=this;I.fn.init.call(n,i),n.c=t,n.r=e,n.template=u.template,n.template||(n.template=u.template=G("<kvml:oval #= d.renderId(d.options.id) # #= d.renderDataAttributes() #style='position:absolute; width:#= d.r * 2 #px; height:#= d.r * 2 #px; top:#= d.c.y - d.r #px; left:#= d.c.x - d.r #px;'>#= d.fill.render() + d.stroke.render() #</kvml:oval>")),n.stroke=new s(n.options),n.fill=new p(n.options)},options:{fill:"",fillOpacity:1},refresh:function(t){var e=this,i=e.c,n=T.max(0,e.r),o=2*n,r=g(t);r.css({width:o,height:o,top:i.y-n,left:i.x-n}),e.fill.options=e.options,e.fill.refresh(r.find("fill")[0])},clone:function(){var t=this;return new u(L({},t.c),t.r,L({},t.options))}}),m=I.extend({init:function(t){var e=this;I.fn.init.call(e,t),e.template=m.template,e.template||(e.template=m.template=G("<div #= d.renderId(d.options.id) ##= d.renderDataAttributes() #style='position: absolute; white-space: nowrap;'>#= d.renderContent() #</div>"))}}),y=I.extend({init:function(t,e){var i=this;I.fn.init.call(i,e),i.template=y.template,i.clipTemplate=y.clipTemplate,i.template||(i.template=y.template=G("<div #= d.renderId(d.options.id) #style='position:absolute; width:#= d.box.width() #px; height:#= d.box.height() #px; top:#= d.box.y1 #px; left:#= d.box.x1 #px; clip:#= d._renderClip() #;' >#= d.renderContent() #</div>"),i.clipTemplate=y.clipTemplate=G("rect(#= d.points[0].y #px #= d.points[1].x #px #= d.points[2].y #px #= d.points[0].x #px)")),i.box=t,i.points=t.points()},clone:function(){var t=this;return new y(t.box,L({},t.options))},refresh:function(t){t&&(t.style.clip=this._renderClip())},_renderClip:function(){return this.clipTemplate(this)},destroy:function(){g("#"+this.options.id+">*").unwrap()}}),x=I.extend({init:function(t){var e=this;I.fn.init.call(e,t)},options:{opacity:1},renderColors:function(){var t,e,i=this,n=i.options,o=n.stops,r=o.length,a=[],l=T.round;for(e=0;r>e;e++)t=o[e],a.push(l(100*t.offset)+"% "+t.color);return a.join(",")}}),v=x.extend({init:function(t){var e=this;x.fn.init.call(e,t),e.template=v.template,e.template||(e.template=v.template=G("<kvml:fill type='gradient' angle='#= 270 - d.options.rotation #' colors='#= d.renderColors() #' opacity='#= d.options.opacity #' />"))},options:{rotation:0}}),b=x.extend({init:function(t){var e=this;x.fn.init.call(e,t),e.template=b.template,e.template||(e.template=b.template=G("<kvml:fill type='gradienttitle' focus='100%' focusposition='#= d.focusPosition() #'colors='#= d.renderColors() #' color='#= d.firstColor() #' color2='#= d.lastColor() #' opacity='#= d.options.opacity #' />"))},focusPosition:function(){var t=this.options,e=t.bbox,i=t.cx,n=t.cy,o=Math.max(0,Math.min(1,(i-e.x1)/e.width())),r=Math.max(0,Math.min(1,(n-e.y1)/e.height()));return H(o,W)+" "+H(r,W)},firstColor:function(){var t=this.options.stops;return t[0].color},lastColor:function(){var t=this.options.stops;return t[t.length-1].color}}),t.prototype={decorate:function(t){var e,i,n=t.options,o=this.view;return n.overlay&&(i=n.overlay.bbox,e=o.buildGradient(L({},n.overlay,{_overlayFill:n.fill,_bboxHash:z(i)?i.getHash():""}))),e?(delete n.overlay,n.fill=L(r(n.fill,e),{opacity:n.fillOpacity}),t):t}},e.prototype={decorate:function(t){var e=this,i=e.view,n=t.options,o=n.fill;return o&&o.supportVML!==!1&&(o.gradient&&(o=i.buildGradient(o)),typeof o===Q&&(t.fill=i.createGradient(o))),t}},w=C.extend({init:function(t){this.view=t},decorate:function(t){var e,i=this,n=i.view,o=n.options,r=t.options.animation;return r&&r.type===B&&o.transitions?(e=new y(new D(0,0,o.width,o.height),{id:_()}),n.animations.push(new P(e,{size:o.width})),e.children.push(t),e):t}}),L(M,{VMLCircle:u,VMLClipAnimationDecorator:w,VMLClipRect:y,VMLFill:p,VMLGroup:m,VMLLine:c,VMLLinearGradient:v,VMLOverlayDecorator:t,VMLPath:d,VMLRadialGradient:b,VMLRing:f,VMLRotatedText:l,VMLSector:h,VMLStroke:s,VMLText:a,VMLView:K,blendColors:n,blendGradient:r})})(window.kendo.jQuery)});